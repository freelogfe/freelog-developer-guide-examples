"use strict";(self["webpackJsonp_vue3-ts-theme"]=self["webpackJsonp_vue3-ts-theme"]||[]).push([[153],{8153:function(e,t,a){a.r(t),a.d(t,{default:function(){return p}});var s=a(2337),o=a(5736),l=a(6477),i=a(7329);const c={class:"p-40 w-100x h-100x y-auto"},n={class:""},r={class:"h-80 over-h cur-pointer"},u=["src"],d={class:"w-100x flex-column-center h-300 over-h mt-30"},g={key:0,class:"f-title-3"},m=["src"],h={class:"w-100x flex-column-center h-300 over-h mt-30"},v=(0,s.Lk)("span",{class:"f-title-3"},"展品信息",-1);var b=(0,s.pM)({__name:"ExhibitInfo",setup(e){const t=(0,i.KR)([]),a=(0,i.KR)(""),b=(0,i.KR)("");l.Kb.getExhibitListByPaging({skip:0,limit:20,articleResourceTypes:"图片",isLoadVersionProperty:1}).then((e=>{const a=e.data.data.dataList.map((e=>e.exhibitId));l.Kb.getExhibitListById({exhibitIds:a.join(",")}).then((e=>{console.log(e.data.data),t.value=e.data.data.filter((e=>"收费图片"!=e.exhibitName))}))}));const f=async e=>{e.articleInfo.resourceType.includes("照片")&&(a.value=await l.Kb.getExhibitFileStream(e.exhibitId,{returnUrl:!0}),l.Kb.getExhibitInfo(e.exhibitId,{isLoadVersionProperty:1}).then((e=>{b.value=JSON.stringify(e.data.data)})),console.log(e.coverImages[0],{title:l.Kb.nodeInfo.nodeName+"分享标题",desc:"分享描述",imgUrl:e.coverImages[0],success:()=>{console.log("分享成功")}},{title:l.Kb.nodeInfo.nodeName+"分享标题",imgUrl:e.coverImages[0],success:()=>{console.log("分享成功")}}),l.Kb.updateWechatShare({title:l.Kb.nodeInfo.nodeName+"分享标题",desc:"分享描述",imgUrl:"https://image.freelog.com/avatar/50050",success:()=>{console.log("分享成功")}},{title:l.Kb.nodeInfo.nodeName+"分享标题",imgUrl:"https://image.freelog.com/avatar/50050",success:()=>{console.log("分享成功")}}).then((()=>{console.log("调用成功")})).catch((()=>{console.log("分享失败")})))};return(e,l)=>{const i=(0,s.g2)("a-card"),p=(0,s.g2)("a-list-item"),x=(0,s.g2)("a-list");return(0,s.uX)(),(0,s.CE)("div",c,[(0,s.Lk)("div",n,[(0,s.bF)(x,{grid:{gutter:16,column:4},"data-source":t.value},{renderItem:(0,s.k6)((({item:e})=>[(0,s.bF)(p,null,{default:(0,s.k6)((()=>[(0,s.bF)(i,{title:e.exhibitName,onClick:t=>f(e)},{default:(0,s.k6)((()=>[(0,s.Lk)("div",r,[(0,s.Lk)("img",{class:"h-100x",src:e.coverImages[0],alt:""},null,8,u)])])),_:2},1032,["title","onClick"])])),_:2},1024)])),_:1},8,["data-source"])]),(0,s.Lk)("div",d,[a.value?((0,s.uX)(),(0,s.CE)("img",{key:1,src:a.value,alt:"",class:"h-100x"},null,8,m)):((0,s.uX)(),(0,s.CE)("span",g,"点击上面图片可在这展示"))]),(0,s.Lk)("div",h,[v,(0,s.Lk)("div",null,(0,o.v_)(b.value),1)])])}}});const f=b;var p=f}}]);
//# sourceMappingURL=153.8be85d14.js.map