"use strict";(self["webpackJsonp_vue3-ts-theme"]=self["webpackJsonp_vue3-ts-theme"]||[]).push([[458],{2458:function(e,t,a){a.r(t),a.d(t,{default:function(){return b}});var n=a(9832),i=a(4016),o=a(5103);const r={class:"w-100x h-100x p-40 flex-column"},l={class:"flex-column"},s={class:"flex-row mb-20"},c=(0,n.Lk)("div",{id:"freelog-self"},null,-1),d={class:"flex-column"},u={class:"flex-row mb-20"},p=(0,n.Lk)("div",{id:"freelog-exhibit"},null,-1);var f=(0,n.pM)({__name:"WidgetMount",setup(e){const t=(0,i.KR)("1");let a={},f={};const y=(0,i.KR)({}),b=(0,i.KR)({}),m=()=>{y.value.changeMe()},g=()=>{b.value.changeMe()},v=e=>{e.reload().then((e=>{e?console.log("重新渲染成功"):console.log("重新渲染失败")}))},h=async()=>{const e=await o.Kb.getSelfDependencyTree();e.forEach((async e=>{"snnaenu/插件开发演示代码插件"===e.articleName&&(a=await o.Kb.mountArticleWidget({articleId:e.articleId,parentNid:e.parentNid,nid:e.nid,topExhibitId:o.Kb.getTopExhibitId(),container:document.getElementById("freelog-self"),renderWidgetOptions:{data:{name:"自身依赖插件",registerApi:e=>{y.value=e}},lifeCycles:{mounted:e=>{console.log(e,"mounted")}}},seq:0,widget_entry:"https://localhost:8102"}))}))},k=async()=>{const e=await o.Kb.getExhibitListByPaging({articleResourceTypes:"插件",isLoadVersionProperty:1}),t=e.data.data?.dataList;t.forEach((async(e,t)=>"snnaenu/插件开发演示代码插件"==e.articleInfo.articleName&&(f=await o.Kb.mountExhibitWidget({exhibitId:e.exhibitId,container:document.getElementById("freelog-exhibit"),property:e.versionInfo?.exhibitProperty,dependencyTree:e.versionInfo?.dependencyTree,renderWidgetOptions:{data:{name:"展品插件",registerApi:e=>{b.value=e}}},seq:1,widget_entry:"https://localhost:8102"}),!0)))};return(0,n.xo)((async()=>{await f.unmount(),await a.unmount()})),k(),h(),(e,o)=>{const y=(0,n.g2)("a-button"),b=(0,n.g2)("a-tab-pane"),h=(0,n.g2)("a-tabs");return(0,n.uX)(),(0,n.CE)("div",r,[(0,n.bF)(h,{activeKey:t.value,"onUpdate:activeKey":o[2]||(o[2]=e=>t.value=e)},{default:(0,n.k6)((()=>[(0,n.bF)(b,{key:"1",tab:"加载自身依赖的插件"},{default:(0,n.k6)((()=>[(0,n.Lk)("div",l,[(0,n.Lk)("div",s,[(0,n.bF)(y,{type:"primary mr-30",onClick:m},{default:(0,n.k6)((()=>[(0,n.eW)("给自身依赖插件加1")])),_:1}),(0,n.bF)(y,{type:"primary mr-30",onClick:o[0]||(o[0]=e=>v((0,i.R1)(a)))},{default:(0,n.k6)((()=>[(0,n.eW)("重新加载")])),_:1})]),c])])),_:1}),(0,n.bF)(b,{key:"2",tab:"加载展品类型的插件","force-render":""},{default:(0,n.k6)((()=>[(0,n.Lk)("div",d,[(0,n.Lk)("div",u,[(0,n.bF)(y,{type:"primary mr-30",onClick:g},{default:(0,n.k6)((()=>[(0,n.eW)("给展品依赖插件加1")])),_:1}),(0,n.bF)(y,{type:"primary mr-30",onClick:o[1]||(o[1]=e=>v((0,i.R1)(f)))},{default:(0,n.k6)((()=>[(0,n.eW)("重新加载")])),_:1})]),p])])),_:1})])),_:1},8,["activeKey"])])}}});const y=f;var b=y}}]);
//# sourceMappingURL=458.58435396.js.map