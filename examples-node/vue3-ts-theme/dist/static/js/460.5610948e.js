"use strict";(self["webpackJsonp_vue3-ts-theme"]=self["webpackJsonp_vue3-ts-theme"]||[]).push([[460],{5460:function(e,t,a){a.r(t),a.d(t,{default:function(){return f}});var s=a(2337),l=a(5736),i=a(1550),c=a(6477),n=a(7329),r=a(754);const u={class:"p-40 w-100x h-100x y-auto"},o={class:""},d={class:"h-80 over-h cur-pointer"},m=["src"],h={class:"w-100x flex-column-center h-300 over-h mt-30"},v={key:0,class:"f-title-3"},b=["src"],p={class:"w-100x flex-column-center h-300 over-h mt-30"},x=(0,s.Lk)("span",{class:"f-title-3"},"展品信息",-1);var k=(0,s.pM)({__name:"ShareExhibit",setup(e){const t=(0,n.KR)([]),a=(0,n.KR)(""),k=(0,n.KR)(""),g=(0,i.lq)();console.log(g.params,3333);const f=()=>{const e=c.Kb.getShareUrl(JSON.parse(k.value).exhibitId,"content");console.log(e,JSON.parse(k.value));let t=document.createElement("textarea");document.body.appendChild(t),t.value=e,t.select(),t.focus(),document.execCommand("copy"),document.body.removeChild(t),r.Ay.success("复制成功，快去分享吧！")};c.Kb.getExhibitListByPaging({skip:0,limit:20,articleResourceTypes:"图片"}).then((e=>{const a=e.data.data.dataList.map((e=>e.exhibitId));c.Kb.getExhibitListById({exhibitIds:a.join(",")}).then((e=>{t.value=e.data.data.filter((e=>"收费图片"!=e.exhibitName))}))}));const y=async e=>{a.value=await c.Kb.getExhibitFileStream(e,{returnUrl:!0}),c.Kb.getExhibitInfo(e).then((e=>{k.value=JSON.stringify(e.data.data)}))};return g.params.id&&y(g.params.id),(e,i)=>{const c=(0,s.g2)("a-card"),n=(0,s.g2)("a-list-item"),r=(0,s.g2)("a-list"),g=(0,s.g2)("a-button");return(0,s.uX)(),(0,s.CE)("div",u,[(0,s.Lk)("div",o,[(0,s.bF)(r,{grid:{gutter:16,column:4},"data-source":t.value},{renderItem:(0,s.k6)((({item:e})=>[(0,s.bF)(n,null,{default:(0,s.k6)((()=>[(0,s.bF)(c,{title:e.exhibitName,onClick:t=>y(e.exhibitId)},{default:(0,s.k6)((()=>[(0,s.Lk)("div",d,[(0,s.Lk)("img",{class:"h-100x",src:e.coverImages[0],alt:""},null,8,m)])])),_:2},1032,["title","onClick"])])),_:2},1024)])),_:1},8,["data-source"])]),a.value?((0,s.uX)(),(0,s.Wv)(g,{key:0,type:"primary",class:"mt-20",onClick:f},{default:(0,s.k6)((()=>[(0,s.eW)("复制当前图片的分享链接")])),_:1})):(0,s.Q3)("",!0),(0,s.Lk)("div",h,[a.value?((0,s.uX)(),(0,s.CE)("img",{key:1,src:a.value,alt:"",class:"h-100x"},null,8,b)):((0,s.uX)(),(0,s.CE)("span",v,"点击上面图片可在这展示"))]),(0,s.Lk)("div",p,[x,(0,s.Lk)("div",null,(0,l.v_)(k.value),1)])])}}});const g=k;var f=g}}]);
//# sourceMappingURL=460.5610948e.js.map