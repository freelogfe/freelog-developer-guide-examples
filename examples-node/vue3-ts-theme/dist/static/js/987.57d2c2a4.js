"use strict";(self["webpackJsonp_vue3-ts-theme"]=self["webpackJsonp_vue3-ts-theme"]||[]).push([[987],{4987:function(e,t,a){a.r(t),a.d(t,{default:function(){return g}});var i=a(9832),s=a(7661),l=a(5103),r=a(4016);const u={class:"p-40 w-100x h-100x y-auto"},n={class:""},c={class:"h-80 over-h"},o=["src"],d=(0,i.Lk)("div",{id:"freelog-game"},null,-1);var v=(0,i.pM)({__name:"ExhibitData",setup(e){const t=(0,r.KR)({});let a={};const v=(0,r.KR)([]),m=(0,r.KR)(""),g=(0,r.KR)("");l.Kb.getExhibitListByPaging({skip:0,limit:20,articleResourceTypes:"nesrom,红白机"}).then((async e=>{v.value=e.data.data.dataList,g.value=v.value[0].exhibitName,m.value=await l.Kb.getExhibitFileStream(v.value[0].exhibitId,{returnUrl:!0}),console.log(m.value,g.value),b(m.value,g.value)}));const h=async e=>{g.value=e.exhibitName,m.value=await l.Kb.getExhibitFileStream(e.exhibitId,{returnUrl:!0}),t.value.startGame(m.value,g.value)};(0,i.xo)((()=>{a?.unmount()}));const b=async(e,i)=>{const s=await l.Kb.getExhibitListByPaging({articleResourceTypes:"插件",isLoadVersionProperty:1}),r=s.data.data.dataList;r.forEach((async s=>{"nes-widget"===s.exhibitName&&(a=await l.Kb.mountExhibitWidget({exhibitId:s.exhibitId,container:document.getElementById("freelog-game"),renderWidgetOptions:{data:{defaultGameUrl:e,defaultGameName:i,registerApi:e=>{t.value=e}}},seq:void 0,widget_entry:"https://localhost:8203"}))}))};return(e,t)=>{const a=(0,i.g2)("a-card"),l=(0,i.g2)("a-list-item"),r=(0,i.g2)("a-list");return(0,i.uX)(),(0,i.CE)("div",u,[(0,i.Lk)("div",n,[(0,i.bF)(r,{grid:{gutter:16,column:4},"data-source":v.value},{renderItem:(0,i.k6)((({item:e})=>[(0,i.bF)(l,null,{default:(0,i.k6)((()=>[(0,i.bF)(a,{title:e.exhibitName,onClick:t=>h(e),class:(0,s.C4)([e.exhibitName===g.value?"selected":""])},{default:(0,i.k6)((()=>[(0,i.Lk)("div",c,[(0,i.Lk)("img",{class:"h-100x",src:e.coverImages[0],alt:""},null,8,o)])])),_:2},1032,["title","onClick","class"])])),_:2},1024)])),_:1},8,["data-source"])]),d])}}});const m=v;var g=m}}]);
//# sourceMappingURL=987.57d2c2a4.js.map