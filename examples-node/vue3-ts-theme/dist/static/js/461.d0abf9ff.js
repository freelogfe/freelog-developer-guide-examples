"use strict";(self["webpackJsonp_vue3-ts-theme"]=self["webpackJsonp_vue3-ts-theme"]||[]).push([[461],{4461:function(t,e,a){a.r(e),a.d(e,{default:function(){return x}});var s=a(5436),i=a(2689),l=a(9753),u=a(6132);const r={class:"p-40 w-100x h-100x y-auto"},c={class:""},n={class:"h-80 over-h cur-pointer"},h=["src"],d={class:"w-100x flex-column-center h-400 over-h mt-40"},o={key:0,class:"f-title-3"},b=["src"];var m=(0,s.pM)({__name:"AuthProcess",setup(t){const e=(0,u.KR)([]),a=(0,u.KR)("");console.log(l.Kb.resultType),l.Kb.getExhibitListByPaging({skip:0,limit:20,articleResourceTypes:"图片"}).then((t=>{let a=[];t.data.data.dataList.forEach((t=>{a.push(t.exhibitId)})),l.Kb.getExhibitAuthStatus(a.join(",")).then((a=>{e.value=t.data.data.dataList.map((t=>(a.data.data.some((e=>e.exhibitId===t.exhibitId&&(t.auth=e,!0))),t)))}))}));const m=async t=>{t.auth.isAuth?a.value=await l.Kb.getExhibitFileStream(t.exhibitId,{returnUrl:!0}):(l.Kb.addAuth(t.exhibitId).then((async e=>{e.status===l.Kb.resultType.SUCCESS&&(a.value=await l.Kb.getExhibitFileStream(t.exhibitId,{returnUrl:!0}))})),l.Kb.callAuth())};return(t,l)=>{const u=(0,s.g2)("a-card"),v=(0,s.g2)("a-list-item"),x=(0,s.g2)("a-list");return(0,s.uX)(),(0,s.CE)("div",r,[(0,s.Lk)("div",c,[(0,s.bF)(x,{grid:{gutter:16,column:4},"data-source":e.value},{renderItem:(0,s.k6)((({item:t})=>[(0,s.bF)(v,null,{default:(0,s.k6)((()=>[(0,s.bF)(u,{title:t.exhibitName,onClick:e=>m(t),class:(0,i.C4)(t.auth.isAuth?"":" not-auth")},{default:(0,s.k6)((()=>[(0,s.Lk)("div",n,[(0,s.Lk)("img",{class:"h-100x",src:t.coverImages[0],alt:""},null,8,h)])])),_:2},1032,["title","onClick","class"])])),_:2},1024)])),_:1},8,["data-source"])]),(0,s.Lk)("div",d,[a.value?((0,s.uX)(),(0,s.CE)("img",{key:1,src:a.value,alt:"",class:"h-100x"},null,8,b)):((0,s.uX)(),(0,s.CE)("span",o,"点击上面图片可在这展示"))])])}}});const v=m;var x=v}}]);
//# sourceMappingURL=461.d0abf9ff.js.map