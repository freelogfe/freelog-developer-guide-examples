"use strict";(self["webpackJsonp_vue3-ts-theme"]=self["webpackJsonp_vue3-ts-theme"]||[]).push([[251],{3251:function(e,t,a){a.r(t),a.d(t,{default:function(){return f}});var n=a(5436),o=a(6132),l=a(9753);const i={class:"w-100x h-100x p-40 flex-column"},s={class:"flex-column"},c={class:"flex-row mb-20"},r=(0,n.Lk)("div",{id:"freelog-self"},null,-1),u={class:"flex-column"},d={class:"flex-row mb-20"},g=(0,n.Lk)("div",{id:"freelog-exhibit"},null,-1);var p=(0,n.pM)({__name:"WidgetMount",setup(e){const t=(0,o.KR)("1");let a=null,p=null;const m=()=>{a.getApi().changeMe(),console.log(a)},f=()=>{p.getApi().changeMe()},y=e=>{e.reload().then((e=>{e?console.log("重新渲染成功"):console.log("重新渲染失败")}))},b=async()=>{const e=await l.Kb.getSubDep();e.subDep.forEach((async(t,n)=>{"snnaenu/插件开发演示代码插件"===t.name&&(a=await l.Kb.mountWidget({widget:t,container:document.getElementById("freelog-self"),topExhibitData:e,renderWidgetOptions:{data:{type:"类型"},lifeCycles:{mounted:e=>{console.log(e,"mounted")}}},config:{name:"我是主题依赖的插件"},seq:0,widget_entry:"https://localhost:8102"}),a.setData({name:"jack"}),a.addDataListener((e=>{console.log(e,3333)})))}))},k=async()=>{const e=await l.Kb.getExhibitListByPaging({articleResourceTypes:"插件",isLoadVersionProperty:1}),t=e.data.data?.dataList;t.forEach((async(e,t)=>(console.log(e,"snnaenu/插件开发演示代码插件"),"snnaenu/插件开发演示代码插件"==e.articleInfo.articleName&&(p=await l.Kb.mountWidget({widget:e,container:document.getElementById("freelog-exhibit"),topExhibitData:null,renderWidgetOptions:{data:{type:"类型"}},config:{name:"我是展品类型的插件"},seq:1,widget_entry:"https://localhost:8102"}),!0))))};return(0,n.xo)((async()=>{await p.unmount(),await a.unmount()})),k(),b(),(e,l)=>{const b=(0,n.g2)("a-button"),k=(0,n.g2)("a-tab-pane"),h=(0,n.g2)("a-tabs");return(0,n.uX)(),(0,n.CE)("div",i,[(0,n.bF)(h,{activeKey:t.value,"onUpdate:activeKey":l[2]||(l[2]=e=>t.value=e)},{default:(0,n.k6)((()=>[(0,n.bF)(k,{key:"1",tab:"加载自身依赖的插件"},{default:(0,n.k6)((()=>[(0,n.Lk)("div",s,[(0,n.Lk)("div",c,[(0,n.bF)(b,{type:"primary mr-30",onClick:m},{default:(0,n.k6)((()=>[(0,n.eW)("给自身依赖插件加1")])),_:1}),(0,n.bF)(b,{type:"primary mr-30",onClick:l[0]||(l[0]=e=>y((0,o.R1)(a)))},{default:(0,n.k6)((()=>[(0,n.eW)("重新加载")])),_:1})]),r])])),_:1}),(0,n.bF)(k,{key:"2",tab:"加载展品类型的插件","force-render":""},{default:(0,n.k6)((()=>[(0,n.Lk)("div",u,[(0,n.Lk)("div",d,[(0,n.bF)(b,{type:"primary mr-30",onClick:f},{default:(0,n.k6)((()=>[(0,n.eW)("给展品依赖插件加1")])),_:1}),(0,n.bF)(b,{type:"primary mr-30",onClick:l[1]||(l[1]=e=>y((0,o.R1)(p)))},{default:(0,n.k6)((()=>[(0,n.eW)("重新加载")])),_:1})]),g])])),_:1})])),_:1},8,["activeKey"])])}}});const m=p;var f=m}}]);
//# sourceMappingURL=251.bd0b114d.js.map