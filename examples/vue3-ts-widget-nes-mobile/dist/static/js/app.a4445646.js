(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t():"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["vue3-ts-theme-app"]=t():e["vue3-ts-theme-app"]=t()})(self,(function(){return function(){var e={1474:function(e,t,n){"use strict";n.r(t),n.d(t,{bootstrap:function(){return L},mount:function(){return B},unmount:function(){return F}});n(7714);var o=n(7823),i=n(7552);function r(e,t){const n=(0,i.up)("router-view");return(0,i.wg)(),(0,i.j4)(n)}var c=n(8081);const a={},s=(0,c.Z)(a,[["render",r]]);var u=s,l=n(7720);(0,l.z)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var d=n(1944),p=n(1653),v=n(1433),_=n(893),f=n(5348);const h=_.freelogApp?.getSelfConfig().defaultGameUrl||"https://192.168.2.122:8002/Contra",b=_.freelogApp?.getSelfConfig().defaultGameName||"无游戏",m=(0,f.Q_)("game",{state:()=>({url:h,gameName:b}),actions:{setUrl(e,t){this.url=e,this.gameName=t}}});var w=n(9024),y=n(7086);const g={class:"home w-100x h-100x flex-row nes-container justify-center",id:"nes-container"},T={id:"psp",class:"flex-column h-100x align-center p-absolute lt-0 w-192"},E={class:"interaction-area w-172 h-172 lb-0 ml-10 mb-10",style:{opacity:"0.8"}},k={class:"p-absolute rt-0 w-192 mt-10 flex-column align-center h-100x space-between"},j={class:"joystickpad flex-column align-center w-100x pb-10 lh-62 mb-10"},M={class:"flex-row mt-14"},x={class:"flex-row mt-14"};var O=(0,i.aZ)({__name:"HomeView",setup(e){const t=(0,d.iH)(100),n=(0,d.iH)("107vmin"),r=(0,d.iH)("100vmin"),c=(0,d.iH)(!1),a=((0,d.iH)(null),(0,d.iH)(null)),s=(0,d.iH)(!1),u=m(),l=(0,d.iH)(u.url),f=(0,d.iH)(u.gameName);(0,i.YP)((()=>u.url),(e=>{l.value=e,f.value=u.gameName}));const h=()=>{a.value.reset()},b={UP:"KeyW",DOWN:"KeyS",LEFT:"KeyA",RIGHT:"KeyD",A:"KeyK",B:"KeyJ",C:"KeyI",D:"KeyU",SELECT:"Digit2",START:"Digit1"},O={UP:"ArrowUp",DOWN:"ArrowDown",LEFT:"ArrowLeft",RIGHT:"ArrowRight",A:"Numpad2",B:"Numpad1",C:"Numpad5",D:"Numpad4"},A=(0,d.iH)({...b}),S=(0,d.iH)({...O});function G(){c.value=!c.value}function C(){a.value.pause(),_.freelogApp.getSelfConfig()?.showList()}function H(){w.Z.isEnabled?(w.Z.toggle(),s.value=!s.value):(0,y.CF)("当前浏览器不支持全屏")}function N(e){a.value.play(),document.dispatchEvent(new KeyboardEvent("keydown",{code:e}))}function R(e){document.dispatchEvent(new KeyboardEvent("keyup",{code:e}))}function D(){document.dispatchEvent(new KeyboardEvent("keydown",{code:b.A})),document.dispatchEvent(new KeyboardEvent("keydown",{code:b.B}))}function P(){document.dispatchEvent(new KeyboardEvent("keyup",{code:b.A})),document.dispatchEvent(new KeyboardEvent("keyup",{code:b.B}))}function L(e,t){document.dispatchEvent(new KeyboardEvent("keydown",{code:e})),document.dispatchEvent(new KeyboardEvent("keydown",{code:t}))}function K(e,t){document.dispatchEvent(new KeyboardEvent("keyup",{code:e})),document.dispatchEvent(new KeyboardEvent("keyup",{code:t}))}return(e,u)=>((0,i.wg)(),(0,i.iD)("div",g,[(0,i._)("div",T,[(0,i._)("div",{id:"joystick_btn_menu",onClick:C,class:"left pspbutton joystick_btn_op_1 text-align-center w-100 h-36 mt-5"}," 返回列表 "),(0,i._)("div",{id:"joystick_btn_menu",onClick:h,class:"left pspbutton joystick_btn_op_1 text-align-center w-100 h-36 mt-10"}," 重新开始 "),(0,i._)("div",{id:"joystick_btn_choice",class:"left pspbutton joystick_btn_op_1 text-align-center w-100 h-36 mt-10",onTouchstart:u[0]||(u[0]=(0,o.iM)((e=>N(b.SELECT)),["prevent"])),onTouchend:u[1]||(u[1]=(0,o.iM)((e=>R(b.SELECT)),["prevent"]))}," 选择 ",32),(0,i._)("div",{id:"joystick_btn_start",class:"left pspbutton joystick_btn_op_1 text-align-center w-100 h-36 mt-10",onTouchstart:u[2]||(u[2]=(0,o.iM)((e=>N(b.START)),["prevent"])),onTouchend:u[3]||(u[3]=(0,o.iM)((e=>R(b.START)),["prevent","prevent"]))}," 开始 ",32),(0,i._)("div",E,[(0,i._)("div",{class:"darrow w-52 h-62 ml-112",id:"joystick_rightup",onTouchstart:u[4]||(u[4]=(0,o.iM)((e=>L(b.UP,b.RIGHT)),["prevent"])),onTouchend:u[5]||(u[5]=(0,o.iM)((e=>K(b.UP,b.RIGHT)),["prevent"]))},null,32),(0,i._)("div",{class:"darrow w-52 h-62 ml-10",id:"joystick_leftup",onTouchstart:u[6]||(u[6]=(0,o.iM)((e=>L(b.LEFT,b.UP)),["prevent"])),onTouchend:u[7]||(u[7]=(0,o.iM)((e=>K(b.LEFT,b.UP)),["prevent"]))},null,32),(0,i._)("div",{class:"darrow w-52 h-62 mt-10 ml-10 mt-106",id:"joystick_leftdown",onTouchstart:u[8]||(u[8]=(0,o.iM)((e=>L(b.LEFT,b.DOWN)),["prevent"])),onTouchend:u[9]||(u[9]=(0,o.iM)((e=>K(b.LEFT,b.DOWN)),["prevent"]))},null,32),(0,i._)("div",{class:"darrow w-52 h-62 mt-10 ml-108 mt-110",id:"joystick_rightdown",onTouchstart:u[10]||(u[10]=(0,o.iM)((e=>L(b.RIGHT,b.DOWN)),["prevent"])),onTouchend:u[11]||(u[11]=(0,o.iM)((e=>K(b.RIGHT,b.DOWN)),["prevent"]))},null,32),(0,i._)("button",{id:"joystick_up",class:"arrow w-52 h-60 ml-8 mt-2",onTouchstart:u[12]||(u[12]=(0,o.iM)((e=>N(b.UP)),["prevent"])),onTouchend:u[13]||(u[13]=(0,o.iM)((e=>R(b.UP)),["prevent"]))}," ▵ ",32),(0,i._)("button",{id:"joystick_left",class:"arrow w-52 h-60 mt-10",onTouchstart:u[14]||(u[14]=(0,o.iM)((e=>N(b.LEFT)),["prevent"])),onTouchend:u[15]||(u[15]=(0,o.iM)((e=>R(b.LEFT)),["prevent"]))}," ▵ ",32),(0,i._)("button",{id:"joystick_right",class:"arrow w-52 h-60 mt-10",onTouchstart:u[16]||(u[16]=(0,o.iM)((e=>N(b.RIGHT)),["prevent"])),onTouchend:u[17]||(u[17]=(0,o.iM)((e=>R(b.RIGHT)),["prevent"]))}," ▵ ",32),(0,i._)("button",{id:"joystick_down",class:"arrow w-52 h-60 ml-8",onTouchstart:u[18]||(u[18]=(0,o.iM)((e=>N(b.DOWN)),["prevent"])),onTouchend:u[19]||(u[19]=(0,o.iM)((e=>R(b.DOWN)),["prevent"]))}," ▵ ",32)])]),l.value?((0,i.wg)(),(0,i.j4)((0,d.SU)(v.Ql),{key:0,width:n.value,height:r.value,gain:c.value?0:t.value,ref_key:"nes",ref:a,label:"点击开始游戏",p1:A.value,p2:S.value,url:l.value},null,8,["width","height","gain","p1","p2","url"])):(0,i.kq)("",!0),(0,i._)("div",k,[(0,i._)("div",null,[(0,i._)("div",{id:"joystick_btn_start",onClick:H,class:"left pspbutton joystick_btn_op_1 text-align-center w-100 h-36 mb-20"},(0,p.zw)(s.value?"退出全屏":"全屏"),1),(0,i._)("div",{id:"joystick_btn_start",onClick:G,class:"left pspbutton joystick_btn_op_1 text-align-center w-100 h-36 mb-10"},(0,p.zw)(c.value?"打开声音":"关闭声音"),1)]),(0,i._)("div",j,[(0,i._)("div",{id:"joystick_btn_AB",class:"xbutton joystick_btn_op_2 w-62 h-62",onTouchstart:u[20]||(u[20]=(0,o.iM)((e=>D()),["prevent"])),onTouchend:u[21]||(u[21]=(0,o.iM)((e=>P()),["prevent","prevent"]))}," AB ",32),(0,i._)("div",M,[(0,i._)("div",{id:"joystick_btn_Y",class:"xbutton joystick_btn_op_2 w-62 h-62 mr-10",onTouchstart:u[22]||(u[22]=(0,o.iM)((e=>N(b.D)),["prevent"])),onTouchend:u[23]||(u[23]=(0,o.iM)((e=>R(b.D)),["prevent","prevent"]))}," Y ",32),(0,i._)("div",{id:"joystick_btn_X",class:"xbutton joystick_btn_op_2 w-62 h-62",onTouchstart:u[24]||(u[24]=(0,o.iM)((e=>N(b.C)),["prevent"])),onTouchend:u[25]||(u[25]=(0,o.iM)((e=>R(b.C)),["prevent"]))}," X ",32)]),(0,i._)("div",x,[(0,i._)("div",{id:"joystick_btn_B",class:"xbutton joystick_btn_op_2 w-62 h-62 mr-10",onTouchstart:u[26]||(u[26]=(0,o.iM)((e=>N(b.B)),["prevent"])),onTouchend:u[27]||(u[27]=(0,o.iM)((e=>R(b.B)),["prevent"]))}," B ",32),(0,i._)("div",{id:"joystick_btn_A",class:"xbutton joystick_btn_op_2 w-62 h-62",onTouchstart:u[28]||(u[28]=(0,o.iM)((e=>N(b.A)),["prevent"])),onTouchend:u[29]||(u[29]=(0,o.iM)((e=>R(b.A)),["prevent"]))}," A ",32)])])])]))}});const A=(0,c.Z)(O,[["__scopeId","data-v-2b598286"]]);var S=A;const G=[{path:"/",name:"home",component:S}];var C=G,H=n(5742);window.FREELOG_RESOURCENAME="snnaenu/插件开发演示代码主题";let N=null,R=null,D=null;function P(e={}){const{container:t}=e;R=(0,H.p7)({history:(0,H.PO)(window.__POWERED_BY_FREELOG__?"/widget":"/"),routes:C}),D=(0,o.ri)(u),N=(0,f.WB)(),D.use(R),D.use(N),D.mount(t?t.querySelector("#app"):"#app"),e?.registerApi&&e.registerApi({startGame:(e,t)=>{const n=m();n.setUrl(e,t)}})}async function L(){console.log("%c ","color: green;","vue3.0 app bootstraped")}function K(e){e.onGlobalStateChange&&e.onGlobalStateChange(((t,n)=>console.log(`[插件 - ${e.name}]:`,t,n)),!0),setTimeout((()=>{e.setGlobalState({ignore:e.name+"111",user:{name:e.name+"111"}})}),2500),e.setGlobalState&&e.setGlobalState({ignore:e.name,user:{name:e.name}})}async function B(e){K(e),P(e),D.config.globalProperties.$onGlobalStateChange=e.onGlobalStateChange,D.config.globalProperties.$setGlobalState=e.setGlobalState}async function F(){D.unmount(),D._container.innerHTML="",D=null,R=null,N=null}window.__POWERED_BY_FREELOG__||P()},7714:function(e,t,n){window.__POWERED_BY_FREELOG__&&(n.p=window.__INJECTED_PUBLIC_PATH_BY_FREELOG__)}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var r=t[o]={exports:{}};return e[o].call(r.exports,r,r.exports,n),r.exports}n.m=e,function(){var e=[];n.O=function(t,o,i,r){if(!o){var c=1/0;for(l=0;l<e.length;l++){o=e[l][0],i=e[l][1],r=e[l][2];for(var a=!0,s=0;s<o.length;s++)(!1&r||c>=r)&&Object.keys(n.O).every((function(e){return n.O[e](o[s])}))?o.splice(s--,1):(a=!1,r<c&&(c=r));if(a){e.splice(l--,1);var u=i();void 0!==u&&(t=u)}}return t}r=r||0;for(var l=e.length;l>0&&e[l-1][2]>r;l--)e[l]=e[l-1];e[l]=[o,i,r]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/"}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var i,r,c=o[0],a=o[1],s=o[2],u=0;if(c.some((function(t){return 0!==e[t]}))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(s)var l=s(n)}for(t&&t(o);u<c.length;u++)r=c[u],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(l)},o=self["webpackJsonp_vue3-ts-theme"]=self["webpackJsonp_vue3-ts-theme"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(1474)}));return o=n.O(o),o}()}));
//# sourceMappingURL=app.a4445646.js.map