(self["webpackJsonp_vue3-ts-theme"]=self["webpackJsonp_vue3-ts-theme"]||[]).push([[998],{1077:function(t,e,s){var i=s(5993),n=s(7218),r=TypeError;t.exports=function(t){if(i(t))return t;throw r(n(t)+" is not a function")}},6061:function(t,e,s){var i=s(5993),n=String,r=TypeError;t.exports=function(t){if("object"==typeof t||i(t))return t;throw r("Can't set "+n(t)+" as a prototype")}},5657:function(t,e,s){var i=s(5011),n=String,r=TypeError;t.exports=function(t){if(i(t))return t;throw r(n(t)+" is not an object")}},1084:function(t){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},223:function(t,e,s){"use strict";var i,n,r,o=s(1084),a=s(9409),h=s(3230),l=s(5993),u=s(5011),c=s(1926),p=s(9497),f=s(7218),d=s(3597),m=s(3400),g=s(4037),_=s(2981),R=s(3520),S=s(9557),v=s(2801),b=s(1692),y=s(46),A=y.enforce,C=y.get,I=h.Int8Array,E=I&&I.prototype,D=h.Uint8ClampedArray,T=D&&D.prototype,O=I&&R(I),N=E&&R(E),w=Object.prototype,k=h.TypeError,P=v("toStringTag"),F=b("TYPED_ARRAY_TAG"),M="TypedArrayConstructor",x=o&&!!S&&"Opera"!==p(h.opera),L=!1,V={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},B={BigInt64Array:8,BigUint64Array:8},G=function(t){if(!u(t))return!1;var e=p(t);return"DataView"===e||c(V,e)||c(B,e)},q=function(t){var e=R(t);if(u(e)){var s=C(e);return s&&c(s,M)?s[M]:q(e)}},U=function(t){if(!u(t))return!1;var e=p(t);return c(V,e)||c(B,e)},X=function(t){if(U(t))return t;throw k("Target is not a typed array")},j=function(t){if(l(t)&&(!S||_(O,t)))return t;throw k(f(t)+" is not a typed array constructor")},H=function(t,e,s,i){if(a){if(s)for(var n in V){var r=h[n];if(r&&c(r.prototype,t))try{delete r.prototype[t]}catch(o){try{r.prototype[t]=e}catch(l){}}}N[t]&&!s||m(N,t,s?e:x&&E[t]||e,i)}},Y=function(t,e,s){var i,n;if(a){if(S){if(s)for(i in V)if(n=h[i],n&&c(n,t))try{delete n[t]}catch(r){}if(O[t]&&!s)return;try{return m(O,t,s?e:x&&O[t]||e)}catch(r){}}for(i in V)n=h[i],!n||n[t]&&!s||m(n,t,e)}};for(i in V)n=h[i],r=n&&n.prototype,r?A(r)[M]=n:x=!1;for(i in B)n=h[i],r=n&&n.prototype,r&&(A(r)[M]=n);if((!x||!l(O)||O===Function.prototype)&&(O=function(){throw k("Incorrect invocation")},x))for(i in V)h[i]&&S(h[i],O);if((!x||!N||N===w)&&(N=O.prototype,x))for(i in V)h[i]&&S(h[i].prototype,N);if(x&&R(T)!==N&&S(T,N),a&&!c(N,P))for(i in L=!0,g(N,P,{configurable:!0,get:function(){return u(this)?this[F]:void 0}}),V)h[i]&&d(h[i],F,i);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:x,TYPED_ARRAY_TAG:L&&F,aTypedArray:X,aTypedArrayConstructor:j,exportTypedArrayMethod:H,exportTypedArrayStaticMethod:Y,getTypedArrayConstructor:q,isView:G,isTypedArray:U,TypedArray:O,TypedArrayPrototype:N}},9086:function(t,e,s){var i=s(8108);t.exports=function(t,e){var s=0,n=i(e),r=new t(n);while(n>s)r[s]=e[s++];return r}},7136:function(t,e,s){var i=s(5153),n=s(3893),r=s(8108),o=function(t){return function(e,s,o){var a,h=i(e),l=r(h),u=n(o,l);if(t&&s!=s){while(l>u)if(a=h[u++],a!=a)return!0}else for(;l>u;u++)if((t||u in h)&&h[u]===s)return t||u||0;return!t&&-1}};t.exports={includes:o(!0),indexOf:o(!1)}},3533:function(t,e,s){"use strict";var i=s(9409),n=s(749),r=TypeError,o=Object.getOwnPropertyDescriptor,a=i&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=a?function(t,e){if(n(t)&&!o(t,"length").writable)throw r("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},2868:function(t,e,s){var i=s(8108);t.exports=function(t,e){for(var s=i(t),n=new e(s),r=0;r<s;r++)n[r]=t[s-r-1];return n}},1923:function(t,e,s){var i=s(8108),n=s(7958),r=RangeError;t.exports=function(t,e,s,o){var a=i(t),h=n(s),l=h<0?a+h:h;if(l>=a||l<0)throw r("Incorrect index");for(var u=new e(a),c=0;c<a;c++)u[c]=c===l?o:t[c];return u}},7041:function(t,e,s){var i=s(7359),n=i({}.toString),r=i("".slice);t.exports=function(t){return r(n(t),8,-1)}},9497:function(t,e,s){var i=s(1648),n=s(5993),r=s(7041),o=s(2801),a=o("toStringTag"),h=Object,l="Arguments"==r(function(){return arguments}()),u=function(t,e){try{return t[e]}catch(s){}};t.exports=i?r:function(t){var e,s,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(s=u(e=h(t),a))?s:l?r(e):"Object"==(i=r(e))&&n(e.callee)?"Arguments":i}},6354:function(t,e,s){var i=s(1926),n=s(6617),r=s(7422),o=s(7214);t.exports=function(t,e,s){for(var a=n(e),h=o.f,l=r.f,u=0;u<a.length;u++){var c=a[u];i(t,c)||s&&i(s,c)||h(t,c,l(e,c))}}},3499:function(t,e,s){var i=s(8299);t.exports=!i((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},3597:function(t,e,s){var i=s(9409),n=s(7214),r=s(984);t.exports=i?function(t,e,s){return n.f(t,e,r(1,s))}:function(t,e,s){return t[e]=s,t}},984:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},4037:function(t,e,s){var i=s(8508),n=s(7214);t.exports=function(t,e,s){return s.get&&i(s.get,e,{getter:!0}),s.set&&i(s.set,e,{setter:!0}),n.f(t,e,s)}},3400:function(t,e,s){var i=s(5993),n=s(7214),r=s(8508),o=s(1296);t.exports=function(t,e,s,a){a||(a={});var h=a.enumerable,l=void 0!==a.name?a.name:e;if(i(s)&&r(s,l,a),a.global)h?t[e]=s:o(e,s);else{try{a.unsafe?t[e]&&(h=!0):delete t[e]}catch(u){}h?t[e]=s:n.f(t,e,{value:s,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return t}},1296:function(t,e,s){var i=s(3230),n=Object.defineProperty;t.exports=function(t,e){try{n(i,t,{value:e,configurable:!0,writable:!0})}catch(s){i[t]=e}return e}},9409:function(t,e,s){var i=s(8299);t.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4125:function(t){var e="object"==typeof document&&document.all,s="undefined"==typeof e&&void 0!==e;t.exports={all:e,IS_HTMLDDA:s}},5800:function(t,e,s){var i=s(3230),n=s(5011),r=i.document,o=n(r)&&n(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},8583:function(t){var e=TypeError,s=9007199254740991;t.exports=function(t){if(t>s)throw e("Maximum allowed index exceeded");return t}},4365:function(t){t.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},9197:function(t,e,s){var i,n,r=s(3230),o=s(4365),a=r.process,h=r.Deno,l=a&&a.versions||h&&h.version,u=l&&l.v8;u&&(i=u.split("."),n=i[0]>0&&i[0]<4?1:+(i[0]+i[1])),!n&&o&&(i=o.match(/Edge\/(\d+)/),(!i||i[1]>=74)&&(i=o.match(/Chrome\/(\d+)/),i&&(n=+i[1]))),t.exports=n},4181:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},4256:function(t,e,s){var i=s(3230),n=s(7422).f,r=s(3597),o=s(3400),a=s(1296),h=s(6354),l=s(3328);t.exports=function(t,e){var s,u,c,p,f,d,m=t.target,g=t.global,_=t.stat;if(u=g?i:_?i[m]||a(m,{}):(i[m]||{}).prototype,u)for(c in e){if(f=e[c],t.dontCallGetSet?(d=n(u,c),p=d&&d.value):p=u[c],s=l(g?c:m+(_?".":"#")+c,t.forced),!s&&void 0!==p){if(typeof f==typeof p)continue;h(f,p)}(t.sham||p&&p.sham)&&r(f,"sham",!0),o(u,c,f,t)}}},8299:function(t){t.exports=function(t){try{return!!t()}catch(e){return!0}}},5698:function(t,e,s){var i=s(8299);t.exports=!i((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},9587:function(t,e,s){var i=s(5698),n=Function.prototype.call;t.exports=i?n.bind(n):function(){return n.apply(n,arguments)}},1884:function(t,e,s){var i=s(9409),n=s(1926),r=Function.prototype,o=i&&Object.getOwnPropertyDescriptor,a=n(r,"name"),h=a&&"something"===function(){}.name,l=a&&(!i||i&&o(r,"name").configurable);t.exports={EXISTS:a,PROPER:h,CONFIGURABLE:l}},7118:function(t,e,s){var i=s(7359),n=s(1077);t.exports=function(t,e,s){try{return i(n(Object.getOwnPropertyDescriptor(t,e)[s]))}catch(r){}}},7359:function(t,e,s){var i=s(5698),n=Function.prototype,r=n.call,o=i&&n.bind.bind(r,r);t.exports=i?o:function(t){return function(){return r.apply(t,arguments)}}},7492:function(t,e,s){var i=s(3230),n=s(5993),r=function(t){return n(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?r(i[t]):i[t]&&i[t][e]}},5109:function(t,e,s){var i=s(1077),n=s(9803);t.exports=function(t,e){var s=t[e];return n(s)?void 0:i(s)}},3230:function(t,e,s){var i=function(t){return t&&t.Math==Math&&t};t.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof s.g&&s.g)||function(){return this}()||this||Function("return this")()},1926:function(t,e,s){var i=s(7359),n=s(9543),r=i({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return r(n(t),e)}},1597:function(t){t.exports={}},2026:function(t,e,s){var i=s(9409),n=s(8299),r=s(5800);t.exports=!i&&!n((function(){return 7!=Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a}))},4586:function(t,e,s){var i=s(7359),n=s(8299),r=s(7041),o=Object,a=i("".split);t.exports=n((function(){return!o("z").propertyIsEnumerable(0)}))?function(t){return"String"==r(t)?a(t,""):o(t)}:o},2536:function(t,e,s){var i=s(7359),n=s(5993),r=s(4547),o=i(Function.toString);n(r.inspectSource)||(r.inspectSource=function(t){return o(t)}),t.exports=r.inspectSource},46:function(t,e,s){var i,n,r,o=s(6365),a=s(3230),h=s(5011),l=s(3597),u=s(1926),c=s(4547),p=s(4097),f=s(1597),d="Object already initialized",m=a.TypeError,g=a.WeakMap,_=function(t){return r(t)?n(t):i(t,{})},R=function(t){return function(e){var s;if(!h(e)||(s=n(e)).type!==t)throw m("Incompatible receiver, "+t+" required");return s}};if(o||c.state){var S=c.state||(c.state=new g);S.get=S.get,S.has=S.has,S.set=S.set,i=function(t,e){if(S.has(t))throw m(d);return e.facade=t,S.set(t,e),e},n=function(t){return S.get(t)||{}},r=function(t){return S.has(t)}}else{var v=p("state");f[v]=!0,i=function(t,e){if(u(t,v))throw m(d);return e.facade=t,l(t,v,e),e},n=function(t){return u(t,v)?t[v]:{}},r=function(t){return u(t,v)}}t.exports={set:i,get:n,has:r,enforce:_,getterFor:R}},749:function(t,e,s){var i=s(7041);t.exports=Array.isArray||function(t){return"Array"==i(t)}},6183:function(t,e,s){var i=s(9497);t.exports=function(t){var e=i(t);return"BigInt64Array"==e||"BigUint64Array"==e}},5993:function(t,e,s){var i=s(4125),n=i.all;t.exports=i.IS_HTMLDDA?function(t){return"function"==typeof t||t===n}:function(t){return"function"==typeof t}},3328:function(t,e,s){var i=s(8299),n=s(5993),r=/#|\.prototype\./,o=function(t,e){var s=h[a(t)];return s==u||s!=l&&(n(e)?i(e):!!e)},a=o.normalize=function(t){return String(t).replace(r,".").toLowerCase()},h=o.data={},l=o.NATIVE="N",u=o.POLYFILL="P";t.exports=o},9803:function(t){t.exports=function(t){return null===t||void 0===t}},5011:function(t,e,s){var i=s(5993),n=s(4125),r=n.all;t.exports=n.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:i(t)||t===r}:function(t){return"object"==typeof t?null!==t:i(t)}},4901:function(t){t.exports=!1},7453:function(t,e,s){var i=s(7492),n=s(5993),r=s(2981),o=s(9102),a=Object;t.exports=o?function(t){return"symbol"==typeof t}:function(t){var e=i("Symbol");return n(e)&&r(e.prototype,a(t))}},8108:function(t,e,s){var i=s(7770);t.exports=function(t){return i(t.length)}},8508:function(t,e,s){var i=s(7359),n=s(8299),r=s(5993),o=s(1926),a=s(9409),h=s(1884).CONFIGURABLE,l=s(2536),u=s(46),c=u.enforce,p=u.get,f=String,d=Object.defineProperty,m=i("".slice),g=i("".replace),_=i([].join),R=a&&!n((function(){return 8!==d((function(){}),"length",{value:8}).length})),S=String(String).split("String"),v=t.exports=function(t,e,s){"Symbol("===m(f(e),0,7)&&(e="["+g(f(e),/^Symbol\(([^)]*)\)/,"$1")+"]"),s&&s.getter&&(e="get "+e),s&&s.setter&&(e="set "+e),(!o(t,"name")||h&&t.name!==e)&&(a?d(t,"name",{value:e,configurable:!0}):t.name=e),R&&s&&o(s,"arity")&&t.length!==s.arity&&d(t,"length",{value:s.arity});try{s&&o(s,"constructor")&&s.constructor?a&&d(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(n){}var i=c(t);return o(i,"source")||(i.source=_(S,"string"==typeof e?e:"")),t};Function.prototype.toString=v((function(){return r(this)&&p(this).source||l(this)}),"toString")},8737:function(t){var e=Math.ceil,s=Math.floor;t.exports=Math.trunc||function(t){var i=+t;return(i>0?s:e)(i)}},7214:function(t,e,s){var i=s(9409),n=s(2026),r=s(1209),o=s(5657),a=s(6359),h=TypeError,l=Object.defineProperty,u=Object.getOwnPropertyDescriptor,c="enumerable",p="configurable",f="writable";e.f=i?r?function(t,e,s){if(o(t),e=a(e),o(s),"function"===typeof t&&"prototype"===e&&"value"in s&&f in s&&!s[f]){var i=u(t,e);i&&i[f]&&(t[e]=s.value,s={configurable:p in s?s[p]:i[p],enumerable:c in s?s[c]:i[c],writable:!1})}return l(t,e,s)}:l:function(t,e,s){if(o(t),e=a(e),o(s),n)try{return l(t,e,s)}catch(i){}if("get"in s||"set"in s)throw h("Accessors not supported");return"value"in s&&(t[e]=s.value),t}},7422:function(t,e,s){var i=s(9409),n=s(9587),r=s(2995),o=s(984),a=s(5153),h=s(6359),l=s(1926),u=s(2026),c=Object.getOwnPropertyDescriptor;e.f=i?c:function(t,e){if(t=a(t),e=h(e),u)try{return c(t,e)}catch(s){}if(l(t,e))return o(!n(r.f,t,e),t[e])}},9434:function(t,e,s){var i=s(8005),n=s(4181),r=n.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},7942:function(t,e){e.f=Object.getOwnPropertySymbols},3520:function(t,e,s){var i=s(1926),n=s(5993),r=s(9543),o=s(4097),a=s(3499),h=o("IE_PROTO"),l=Object,u=l.prototype;t.exports=a?l.getPrototypeOf:function(t){var e=r(t);if(i(e,h))return e[h];var s=e.constructor;return n(s)&&e instanceof s?s.prototype:e instanceof l?u:null}},2981:function(t,e,s){var i=s(7359);t.exports=i({}.isPrototypeOf)},8005:function(t,e,s){var i=s(7359),n=s(1926),r=s(5153),o=s(7136).indexOf,a=s(1597),h=i([].push);t.exports=function(t,e){var s,i=r(t),l=0,u=[];for(s in i)!n(a,s)&&n(i,s)&&h(u,s);while(e.length>l)n(i,s=e[l++])&&(~o(u,s)||h(u,s));return u}},2995:function(t,e){"use strict";var s={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,n=i&&!s.call({1:2},1);e.f=n?function(t){var e=i(this,t);return!!e&&e.enumerable}:s},9557:function(t,e,s){var i=s(7118),n=s(5657),r=s(6061);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,s={};try{t=i(Object.prototype,"__proto__","set"),t(s,[]),e=s instanceof Array}catch(o){}return function(s,i){return n(s),r(i),e?t(s,i):s.__proto__=i,s}}():void 0)},6589:function(t,e,s){var i=s(9587),n=s(5993),r=s(5011),o=TypeError;t.exports=function(t,e){var s,a;if("string"===e&&n(s=t.toString)&&!r(a=i(s,t)))return a;if(n(s=t.valueOf)&&!r(a=i(s,t)))return a;if("string"!==e&&n(s=t.toString)&&!r(a=i(s,t)))return a;throw o("Can't convert object to primitive value")}},6617:function(t,e,s){var i=s(7492),n=s(7359),r=s(9434),o=s(7942),a=s(5657),h=n([].concat);t.exports=i("Reflect","ownKeys")||function(t){var e=r.f(a(t)),s=o.f;return s?h(e,s(t)):e}},2373:function(t,e,s){var i=s(9803),n=TypeError;t.exports=function(t){if(i(t))throw n("Can't call method on "+t);return t}},4097:function(t,e,s){var i=s(2347),n=s(1692),r=i("keys");t.exports=function(t){return r[t]||(r[t]=n(t))}},4547:function(t,e,s){var i=s(3230),n=s(1296),r="__core-js_shared__",o=i[r]||n(r,{});t.exports=o},2347:function(t,e,s){var i=s(4901),n=s(4547);(t.exports=function(t,e){return n[t]||(n[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.31.0",mode:i?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.31.0/LICENSE",source:"https://github.com/zloirock/core-js"})},4942:function(t,e,s){var i=s(9197),n=s(8299),r=s(3230),o=r.String;t.exports=!!Object.getOwnPropertySymbols&&!n((function(){var t=Symbol();return!o(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},3893:function(t,e,s){var i=s(7958),n=Math.max,r=Math.min;t.exports=function(t,e){var s=i(t);return s<0?n(s+e,0):r(s,e)}},5359:function(t,e,s){var i=s(6755),n=TypeError;t.exports=function(t){var e=i(t,"number");if("number"==typeof e)throw n("Can't convert number to bigint");return BigInt(e)}},5153:function(t,e,s){var i=s(4586),n=s(2373);t.exports=function(t){return i(n(t))}},7958:function(t,e,s){var i=s(8737);t.exports=function(t){var e=+t;return e!==e||0===e?0:i(e)}},7770:function(t,e,s){var i=s(7958),n=Math.min;t.exports=function(t){return t>0?n(i(t),9007199254740991):0}},9543:function(t,e,s){var i=s(2373),n=Object;t.exports=function(t){return n(i(t))}},6755:function(t,e,s){var i=s(9587),n=s(5011),r=s(7453),o=s(5109),a=s(6589),h=s(2801),l=TypeError,u=h("toPrimitive");t.exports=function(t,e){if(!n(t)||r(t))return t;var s,h=o(t,u);if(h){if(void 0===e&&(e="default"),s=i(h,t,e),!n(s)||r(s))return s;throw l("Can't convert object to primitive value")}return void 0===e&&(e="number"),a(t,e)}},6359:function(t,e,s){var i=s(6755),n=s(7453);t.exports=function(t){var e=i(t,"string");return n(e)?e:e+""}},1648:function(t,e,s){var i=s(2801),n=i("toStringTag"),r={};r[n]="z",t.exports="[object z]"===String(r)},7218:function(t){var e=String;t.exports=function(t){try{return e(t)}catch(s){return"Object"}}},1692:function(t,e,s){var i=s(7359),n=0,r=Math.random(),o=i(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+o(++n+r,36)}},9102:function(t,e,s){var i=s(4942);t.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},1209:function(t,e,s){var i=s(9409),n=s(8299);t.exports=i&&n((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},6365:function(t,e,s){var i=s(3230),n=s(5993),r=i.WeakMap;t.exports=n(r)&&/native code/.test(String(r))},2801:function(t,e,s){var i=s(3230),n=s(2347),r=s(1926),o=s(1692),a=s(4942),h=s(9102),l=i.Symbol,u=n("wks"),c=h?l["for"]||l:l&&l.withoutSetter||o;t.exports=function(t){return r(u,t)||(u[t]=a&&r(l,t)?l[t]:c("Symbol."+t)),u[t]}},9308:function(t,e,s){"use strict";var i=s(4256),n=s(9543),r=s(8108),o=s(3533),a=s(8583),h=s(8299),l=h((function(){return 4294967297!==[].push.call({length:4294967296},1)})),u=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},c=l||!u();i({target:"Array",proto:!0,arity:1,forced:c},{push:function(t){var e=n(this),s=r(e),i=arguments.length;a(s+i);for(var h=0;h<i;h++)e[s]=arguments[h],s++;return o(e,s),s}})},8198:function(t,e,s){"use strict";var i=s(2868),n=s(223),r=n.aTypedArray,o=n.exportTypedArrayMethod,a=n.getTypedArrayConstructor;o("toReversed",(function(){return i(r(this),a(this))}))},728:function(t,e,s){"use strict";var i=s(223),n=s(7359),r=s(1077),o=s(9086),a=i.aTypedArray,h=i.getTypedArrayConstructor,l=i.exportTypedArrayMethod,u=n(i.TypedArrayPrototype.sort);l("toSorted",(function(t){void 0!==t&&r(t);var e=a(this),s=o(h(e),e);return u(s,t)}))},3078:function(t,e,s){"use strict";var i=s(1923),n=s(223),r=s(6183),o=s(7958),a=s(5359),h=n.aTypedArray,l=n.getTypedArrayConstructor,u=n.exportTypedArrayMethod,c=!!function(){try{new Int8Array(1)["with"](2,{valueOf:function(){throw 8}})}catch(t){return 8===t}}();u("with",{with:function(t,e){var s=h(this),n=o(t),u=r(s)?a(e):+e;return i(s,l(s),n,u)}}["with"],!c)},4306:function(t,e,s){"use strict";var i=s(9409),n=s(7359),r=s(4037),o=URLSearchParams.prototype,a=n(o.forEach);i&&!("size"in o)&&r(o,"size",{get:function(){var t=0;return a(this,(function(){t++})),t},configurable:!0,enumerable:!0})},1944:function(t,e,s){"use strict";s.d(e,{B:function(){return o},BK:function(){return $t},Bj:function(){return r},EB:function(){return l},Fl:function(){return zt},IU:function(){return Ft},Jd:function(){return D},PG:function(){return Nt},SU:function(){return Ht},Um:function(){return Dt},WL:function(){return Wt},X$:function(){return w},X3:function(){return Pt},XI:function(){return Ut},Xl:function(){return Mt},cE:function(){return C},dq:function(){return Gt},iH:function(){return qt},j:function(){return O},lk:function(){return T},nZ:function(){return h},qj:function(){return Et},qq:function(){return y},yT:function(){return kt}});s(9308);var i=s(1653);let n;class r{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=n,!t&&n&&(this.index=(n.scopes||(n.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const e=n;try{return n=this,t()}finally{n=e}}else 0}on(){n=this}off(){n=this.parent}stop(t){if(this._active){let e,s;for(e=0,s=this.effects.length;e<s;e++)this.effects[e].stop();for(e=0,s=this.cleanups.length;e<s;e++)this.cleanups[e]();if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!t){const t=this.parent.scopes.pop();t&&t!==this&&(this.parent.scopes[this.index]=t,t.index=this.index)}this.parent=void 0,this._active=!1}}}function o(t){return new r(t)}function a(t,e=n){e&&e.active&&e.effects.push(t)}function h(){return n}function l(t){n&&n.cleanups.push(t)}const u=t=>{const e=new Set(t);return e.w=0,e.n=0,e},c=t=>(t.w&_)>0,p=t=>(t.n&_)>0,f=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=_},d=t=>{const{deps:e}=t;if(e.length){let s=0;for(let i=0;i<e.length;i++){const n=e[i];c(n)&&!p(n)?n.delete(t):e[s++]=n,n.w&=~_,n.n&=~_}e.length=s}},m=new WeakMap;let g=0,_=1;const R=30;let S;const v=Symbol(""),b=Symbol("");class y{constructor(t,e=null,s){this.fn=t,this.scheduler=e,this.active=!0,this.deps=[],this.parent=void 0,a(this,s)}run(){if(!this.active)return this.fn();let t=S,e=I;while(t){if(t===this)return;t=t.parent}try{return this.parent=S,S=this,I=!0,_=1<<++g,g<=R?f(this):A(this),this.fn()}finally{g<=R&&d(this),_=1<<--g,S=this.parent,I=e,this.parent=void 0,this.deferStop&&this.stop()}}stop(){S===this?this.deferStop=!0:this.active&&(A(this),this.onStop&&this.onStop(),this.active=!1)}}function A(t){const{deps:e}=t;if(e.length){for(let s=0;s<e.length;s++)e[s].delete(t);e.length=0}}function C(t,e){t.effect&&(t=t.effect.fn);const s=new y(t);e&&((0,i.l7)(s,e),e.scope&&a(s,e.scope)),e&&e.lazy||s.run();const n=s.run.bind(s);return n.effect=s,n}let I=!0;const E=[];function D(){E.push(I),I=!1}function T(){const t=E.pop();I=void 0===t||t}function O(t,e,s){if(I&&S){let e=m.get(t);e||m.set(t,e=new Map);let i=e.get(s);i||e.set(s,i=u());const n=void 0;N(i,n)}}function N(t,e){let s=!1;g<=R?p(t)||(t.n|=_,s=!c(t)):s=!t.has(S),s&&(t.add(S),S.deps.push(t))}function w(t,e,s,n,r,o){const a=m.get(t);if(!a)return;let h=[];if("clear"===e)h=[...a.values()];else if("length"===s&&(0,i.kJ)(t)){const t=Number(n);a.forEach(((e,s)=>{("length"===s||s>=t)&&h.push(e)}))}else switch(void 0!==s&&h.push(a.get(s)),e){case"add":(0,i.kJ)(t)?(0,i.S0)(s)&&h.push(a.get("length")):(h.push(a.get(v)),(0,i._N)(t)&&h.push(a.get(b)));break;case"delete":(0,i.kJ)(t)||(h.push(a.get(v)),(0,i._N)(t)&&h.push(a.get(b)));break;case"set":(0,i._N)(t)&&h.push(a.get(v));break}if(1===h.length)h[0]&&k(h[0]);else{const t=[];for(const e of h)e&&t.push(...e);k(u(t))}}function k(t,e){const s=(0,i.kJ)(t)?t:[...t];for(const i of s)i.computed&&P(i,e);for(const i of s)i.computed||P(i,e)}function P(t,e){(t!==S||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function F(t,e){var s;return null==(s=m.get(t))?void 0:s.get(e)}const M=(0,i.fY)("__proto__,__v_isRef,__isVue"),x=new Set(Object.getOwnPropertyNames(Symbol).filter((t=>"arguments"!==t&&"caller"!==t)).map((t=>Symbol[t])).filter(i.yk)),L=X(),V=X(!1,!0),B=X(!0),G=q();function q(){const t={};return["includes","indexOf","lastIndexOf"].forEach((e=>{t[e]=function(...t){const s=Ft(this);for(let e=0,n=this.length;e<n;e++)O(s,"get",e+"");const i=s[e](...t);return-1===i||!1===i?s[e](...t.map(Ft)):i}})),["push","pop","shift","unshift","splice"].forEach((e=>{t[e]=function(...t){D();const s=Ft(this)[e].apply(this,t);return T(),s}})),t}function U(t){const e=Ft(this);return O(e,"has",t),e.hasOwnProperty(t)}function X(t=!1,e=!1){return function(s,n,r){if("__v_isReactive"===n)return!t;if("__v_isReadonly"===n)return t;if("__v_isShallow"===n)return e;if("__v_raw"===n&&r===(t?e?At:yt:e?bt:vt).get(s))return s;const o=(0,i.kJ)(s);if(!t){if(o&&(0,i.RI)(G,n))return Reflect.get(G,n,r);if("hasOwnProperty"===n)return U}const a=Reflect.get(s,n,r);return((0,i.yk)(n)?x.has(n):M(n))?a:(t||O(s,"get",n),e?a:Gt(a)?o&&(0,i.S0)(n)?a:a.value:(0,i.Kn)(a)?t?Tt(a):Et(a):a)}}const j=Y(),H=Y(!0);function Y(t=!1){return function(e,s,n,r){let o=e[s];if(wt(o)&&Gt(o)&&!Gt(n))return!1;if(!t&&(kt(n)||wt(n)||(o=Ft(o),n=Ft(n)),!(0,i.kJ)(e)&&Gt(o)&&!Gt(n)))return o.value=n,!0;const a=(0,i.kJ)(e)&&(0,i.S0)(s)?Number(s)<e.length:(0,i.RI)(e,s),h=Reflect.set(e,s,n,r);return e===Ft(r)&&(a?(0,i.aU)(n,o)&&w(e,"set",s,n,o):w(e,"add",s,n)),h}}function W(t,e){const s=(0,i.RI)(t,e),n=t[e],r=Reflect.deleteProperty(t,e);return r&&s&&w(t,"delete",e,void 0,n),r}function $(t,e){const s=Reflect.has(t,e);return(0,i.yk)(e)&&x.has(e)||O(t,"has",e),s}function Z(t){return O(t,"iterate",(0,i.kJ)(t)?"length":v),Reflect.ownKeys(t)}const J={get:L,set:j,deleteProperty:W,has:$,ownKeys:Z},K={get:B,set(t,e){return!0},deleteProperty(t,e){return!0}},z=(0,i.l7)({},J,{get:V,set:H}),Q=t=>t,tt=t=>Reflect.getPrototypeOf(t);function et(t,e,s=!1,i=!1){t=t["__v_raw"];const n=Ft(t),r=Ft(e);s||(e!==r&&O(n,"get",e),O(n,"get",r));const{has:o}=tt(n),a=i?Q:s?Lt:xt;return o.call(n,e)?a(t.get(e)):o.call(n,r)?a(t.get(r)):void(t!==n&&t.get(e))}function st(t,e=!1){const s=this["__v_raw"],i=Ft(s),n=Ft(t);return e||(t!==n&&O(i,"has",t),O(i,"has",n)),t===n?s.has(t):s.has(t)||s.has(n)}function it(t,e=!1){return t=t["__v_raw"],!e&&O(Ft(t),"iterate",v),Reflect.get(t,"size",t)}function nt(t){t=Ft(t);const e=Ft(this),s=tt(e),i=s.has.call(e,t);return i||(e.add(t),w(e,"add",t,t)),this}function rt(t,e){e=Ft(e);const s=Ft(this),{has:n,get:r}=tt(s);let o=n.call(s,t);o||(t=Ft(t),o=n.call(s,t));const a=r.call(s,t);return s.set(t,e),o?(0,i.aU)(e,a)&&w(s,"set",t,e,a):w(s,"add",t,e),this}function ot(t){const e=Ft(this),{has:s,get:i}=tt(e);let n=s.call(e,t);n||(t=Ft(t),n=s.call(e,t));const r=i?i.call(e,t):void 0,o=e.delete(t);return n&&w(e,"delete",t,void 0,r),o}function at(){const t=Ft(this),e=0!==t.size,s=void 0,i=t.clear();return e&&w(t,"clear",void 0,void 0,s),i}function ht(t,e){return function(s,i){const n=this,r=n["__v_raw"],o=Ft(r),a=e?Q:t?Lt:xt;return!t&&O(o,"iterate",v),r.forEach(((t,e)=>s.call(i,a(t),a(e),n)))}}function lt(t,e,s){return function(...n){const r=this["__v_raw"],o=Ft(r),a=(0,i._N)(o),h="entries"===t||t===Symbol.iterator&&a,l="keys"===t&&a,u=r[t](...n),c=s?Q:e?Lt:xt;return!e&&O(o,"iterate",l?b:v),{next(){const{value:t,done:e}=u.next();return e?{value:t,done:e}:{value:h?[c(t[0]),c(t[1])]:c(t),done:e}},[Symbol.iterator](){return this}}}}function ut(t){return function(...e){return"delete"!==t&&this}}function ct(){const t={get(t){return et(this,t)},get size(){return it(this)},has:st,add:nt,set:rt,delete:ot,clear:at,forEach:ht(!1,!1)},e={get(t){return et(this,t,!1,!0)},get size(){return it(this)},has:st,add:nt,set:rt,delete:ot,clear:at,forEach:ht(!1,!0)},s={get(t){return et(this,t,!0)},get size(){return it(this,!0)},has(t){return st.call(this,t,!0)},add:ut("add"),set:ut("set"),delete:ut("delete"),clear:ut("clear"),forEach:ht(!0,!1)},i={get(t){return et(this,t,!0,!0)},get size(){return it(this,!0)},has(t){return st.call(this,t,!0)},add:ut("add"),set:ut("set"),delete:ut("delete"),clear:ut("clear"),forEach:ht(!0,!0)},n=["keys","values","entries",Symbol.iterator];return n.forEach((n=>{t[n]=lt(n,!1,!1),s[n]=lt(n,!0,!1),e[n]=lt(n,!1,!0),i[n]=lt(n,!0,!0)})),[t,s,e,i]}const[pt,ft,dt,mt]=ct();function gt(t,e){const s=e?t?mt:dt:t?ft:pt;return(e,n,r)=>"__v_isReactive"===n?!t:"__v_isReadonly"===n?t:"__v_raw"===n?e:Reflect.get((0,i.RI)(s,n)&&n in e?s:e,n,r)}const _t={get:gt(!1,!1)},Rt={get:gt(!1,!0)},St={get:gt(!0,!1)};const vt=new WeakMap,bt=new WeakMap,yt=new WeakMap,At=new WeakMap;function Ct(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function It(t){return t["__v_skip"]||!Object.isExtensible(t)?0:Ct((0,i.W7)(t))}function Et(t){return wt(t)?t:Ot(t,!1,J,_t,vt)}function Dt(t){return Ot(t,!1,z,Rt,bt)}function Tt(t){return Ot(t,!0,K,St,yt)}function Ot(t,e,s,n,r){if(!(0,i.Kn)(t))return t;if(t["__v_raw"]&&(!e||!t["__v_isReactive"]))return t;const o=r.get(t);if(o)return o;const a=It(t);if(0===a)return t;const h=new Proxy(t,2===a?n:s);return r.set(t,h),h}function Nt(t){return wt(t)?Nt(t["__v_raw"]):!(!t||!t["__v_isReactive"])}function wt(t){return!(!t||!t["__v_isReadonly"])}function kt(t){return!(!t||!t["__v_isShallow"])}function Pt(t){return Nt(t)||wt(t)}function Ft(t){const e=t&&t["__v_raw"];return e?Ft(e):t}function Mt(t){return(0,i.Nj)(t,"__v_skip",!0),t}const xt=t=>(0,i.Kn)(t)?Et(t):t,Lt=t=>(0,i.Kn)(t)?Tt(t):t;function Vt(t){I&&S&&(t=Ft(t),N(t.dep||(t.dep=u())))}function Bt(t,e){t=Ft(t);const s=t.dep;s&&k(s)}function Gt(t){return!(!t||!0!==t.__v_isRef)}function qt(t){return Xt(t,!1)}function Ut(t){return Xt(t,!0)}function Xt(t,e){return Gt(t)?t:new jt(t,e)}class jt{constructor(t,e){this.__v_isShallow=e,this.dep=void 0,this.__v_isRef=!0,this._rawValue=e?t:Ft(t),this._value=e?t:xt(t)}get value(){return Vt(this),this._value}set value(t){const e=this.__v_isShallow||kt(t)||wt(t);t=e?t:Ft(t),(0,i.aU)(t,this._rawValue)&&(this._rawValue=t,this._value=e?t:xt(t),Bt(this,t))}}function Ht(t){return Gt(t)?t.value:t}const Yt={get:(t,e,s)=>Ht(Reflect.get(t,e,s)),set:(t,e,s,i)=>{const n=t[e];return Gt(n)&&!Gt(s)?(n.value=s,!0):Reflect.set(t,e,s,i)}};function Wt(t){return Nt(t)?t:new Proxy(t,Yt)}function $t(t){const e=(0,i.kJ)(t)?new Array(t.length):{};for(const s in t)e[s]=Jt(t,s);return e}class Zt{constructor(t,e,s){this._object=t,this._key=e,this._defaultValue=s,this.__v_isRef=!0}get value(){const t=this._object[this._key];return void 0===t?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return F(Ft(this._object),this._key)}}function Jt(t,e,s){const i=t[e];return Gt(i)?i:new Zt(t,e,s)}class Kt{constructor(t,e,s,i){this._setter=e,this.dep=void 0,this.__v_isRef=!0,this["__v_isReadonly"]=!1,this._dirty=!0,this.effect=new y(t,(()=>{this._dirty||(this._dirty=!0,Bt(this))})),this.effect.computed=this,this.effect.active=this._cacheable=!i,this["__v_isReadonly"]=s}get value(){const t=Ft(this);return Vt(t),!t._dirty&&t._cacheable||(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function zt(t,e,s=!1){let n,r;const o=(0,i.mf)(t);o?(n=t,r=i.dG):(n=t.get,r=t.set);const a=new Kt(n,r,o||!r,s);return a}},7552:function(t,e,s){"use strict";s.d(e,{$d:function(){return o},EM:function(){return he},FN:function(){return ds},Fl:function(){return Ps},HY:function(){return Fe},JJ:function(){return oe},Jd:function(){return It},P$:function(){return st},Q6:function(){return ht},U2:function(){return nt},Us:function(){return Te},Wm:function(){return Qe},Y3:function(){return R},Y8:function(){return z},YP:function(){return H},_:function(){return ze},aZ:function(){return lt},bv:function(){return yt},f3:function(){return ae},h:function(){return Fs},iD:function(){return He},ic:function(){return Ct},j4:function(){return Ye},kq:function(){return ns},nJ:function(){return tt},nK:function(){return at},up:function(){return kt},wg:function(){return Ge},wy:function(){return J}});s(9308);var i=s(1944),n=s(1653);function r(t,e,s,i){let n;try{n=i?t(...i):t()}catch(r){a(r,e,s)}return n}function o(t,e,s,i){if((0,n.mf)(t)){const o=r(t,e,s,i);return o&&(0,n.tI)(o)&&o.catch((t=>{a(t,e,s)})),o}const h=[];for(let n=0;n<t.length;n++)h.push(o(t[n],e,s,i));return h}function a(t,e,s,i=!0){const n=e?e.vnode:null;if(e){let i=e.parent;const n=e.proxy,o=s;while(i){const e=i.ec;if(e)for(let s=0;s<e.length;s++)if(!1===e[s](t,n,o))return;i=i.parent}const a=e.appContext.config.errorHandler;if(a)return void r(a,null,10,[t,n,o])}h(t,s,n,i)}function h(t,e,s,i=!0){console.error(t)}let l=!1,u=!1;const c=[];let p=0;const f=[];let d=null,m=0;const g=Promise.resolve();let _=null;function R(t){const e=_||g;return t?e.then(this?t.bind(this):t):e}function S(t){let e=p+1,s=c.length;while(e<s){const i=e+s>>>1,n=E(c[i]);n<t?e=i+1:s=i}return e}function v(t){c.length&&c.includes(t,l&&t.allowRecurse?p+1:p)||(null==t.id?c.push(t):c.splice(S(t.id),0,t),b())}function b(){l||u||(u=!0,_=g.then(T))}function y(t){const e=c.indexOf(t);e>p&&c.splice(e,1)}function A(t){(0,n.kJ)(t)?f.push(...t):d&&d.includes(t,t.allowRecurse?m+1:m)||f.push(t),b()}function C(t,e=(l?p+1:0)){for(0;e<c.length;e++){const t=c[e];t&&t.pre&&(c.splice(e,1),e--,t())}}function I(t){if(f.length){const t=[...new Set(f)];if(f.length=0,d)return void d.push(...t);for(d=t,d.sort(((t,e)=>E(t)-E(e))),m=0;m<d.length;m++)d[m]();d=null,m=0}}const E=t=>null==t.id?1/0:t.id,D=(t,e)=>{const s=E(t)-E(e);if(0===s){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return s};function T(t){u=!1,l=!0,c.sort(D);n.dG;try{for(p=0;p<c.length;p++){const t=c[p];t&&!1!==t.active&&r(t,null,14)}}finally{p=0,c.length=0,I(t),l=!1,_=null,(c.length||f.length)&&T(t)}}function O(t,e,...s){if(t.isUnmounted)return;const i=t.vnode.props||n.kT;let r=s;const a=e.startsWith("update:"),h=a&&e.slice(7);if(h&&h in i){const t=`${"modelValue"===h?"model":h}Modifiers`,{number:e,trim:o}=i[t]||n.kT;o&&(r=s.map((t=>(0,n.HD)(t)?t.trim():t))),e&&(r=s.map(n.h5))}let l;let u=i[l=(0,n.hR)(e)]||i[l=(0,n.hR)((0,n._A)(e))];!u&&a&&(u=i[l=(0,n.hR)((0,n.rs)(e))]),u&&o(u,t,6,r);const c=i[l+"Once"];if(c){if(t.emitted){if(t.emitted[l])return}else t.emitted={};t.emitted[l]=!0,o(c,t,6,r)}}function N(t,e,s=!1){const i=e.emitsCache,r=i.get(t);if(void 0!==r)return r;const o=t.emits;let a={},h=!1;if(!(0,n.mf)(t)){const i=t=>{const s=N(t,e,!0);s&&(h=!0,(0,n.l7)(a,s))};!s&&e.mixins.length&&e.mixins.forEach(i),t.extends&&i(t.extends),t.mixins&&t.mixins.forEach(i)}return o||h?((0,n.kJ)(o)?o.forEach((t=>a[t]=null)):(0,n.l7)(a,o),(0,n.Kn)(t)&&i.set(t,a),a):((0,n.Kn)(t)&&i.set(t,null),null)}function w(t,e){return!(!t||!(0,n.F7)(e))&&(e=e.slice(2).replace(/Once$/,""),(0,n.RI)(t,e[0].toLowerCase()+e.slice(1))||(0,n.RI)(t,(0,n.rs)(e))||(0,n.RI)(t,e))}let k=null,P=null;function F(t){const e=k;return k=t,P=t&&t.type.__scopeId||null,e}function M(t,e=k,s){if(!e)return t;if(t._n)return t;const i=(...s)=>{i._d&&Xe(-1);const n=F(e);let r;try{r=t(...s)}finally{F(n),i._d&&Xe(1)}return r};return i._n=!0,i._c=!0,i._d=!0,i}function x(t){const{type:e,vnode:s,proxy:i,withProxy:r,props:o,propsOptions:[h],slots:l,attrs:u,emit:c,render:p,renderCache:f,data:d,setupState:m,ctx:g,inheritAttrs:_}=t;let R,S;const v=F(t);try{if(4&s.shapeFlag){const t=r||i;R=rs(p.call(t,t,f,o,m,d,g)),S=u}else{const t=e;0,R=rs(t.length>1?t(o,{attrs:u,slots:l,emit:c}):t(o,null)),S=e.props?u:L(u)}}catch(y){Ve.length=0,a(y,t,1),R=Qe(xe)}let b=R;if(S&&!1!==_){const t=Object.keys(S),{shapeFlag:e}=b;t.length&&7&e&&(h&&t.some(n.tR)&&(S=V(S,h)),b=ss(b,S))}return s.dirs&&(b=ss(b),b.dirs=b.dirs?b.dirs.concat(s.dirs):s.dirs),s.transition&&(b.transition=s.transition),R=b,F(v),R}const L=t=>{let e;for(const s in t)("class"===s||"style"===s||(0,n.F7)(s))&&((e||(e={}))[s]=t[s]);return e},V=(t,e)=>{const s={};for(const i in t)(0,n.tR)(i)&&i.slice(9)in e||(s[i]=t[i]);return s};function B(t,e,s){const{props:i,children:n,component:r}=t,{props:o,children:a,patchFlag:h}=e,l=r.emitsOptions;if(e.dirs||e.transition)return!0;if(!(s&&h>=0))return!(!n&&!a||a&&a.$stable)||i!==o&&(i?!o||G(i,o,l):!!o);if(1024&h)return!0;if(16&h)return i?G(i,o,l):!!o;if(8&h){const t=e.dynamicProps;for(let e=0;e<t.length;e++){const s=t[e];if(o[s]!==i[s]&&!w(l,s))return!0}}return!1}function G(t,e,s){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let n=0;n<i.length;n++){const r=i[n];if(e[r]!==t[r]&&!w(s,r))return!0}return!1}function q({vnode:t,parent:e},s){while(e&&e.subTree===t)(t=e.vnode).el=s,e=e.parent}const U=t=>t.__isSuspense;function X(t,e){e&&e.pendingBranch?(0,n.kJ)(t)?e.effects.push(...t):e.effects.push(t):A(t)}const j={};function H(t,e,s){return Y(t,e,s)}function Y(t,e,{immediate:s,deep:a,flush:h,onTrack:l,onTrigger:u}=n.kT){var c;const p=(0,i.nZ)()===(null==(c=fs)?void 0:c.scope)?fs:null;let f,d,m=!1,g=!1;if((0,i.dq)(t)?(f=()=>t.value,m=(0,i.yT)(t)):(0,i.PG)(t)?(f=()=>t,a=!0):(0,n.kJ)(t)?(g=!0,m=t.some((t=>(0,i.PG)(t)||(0,i.yT)(t))),f=()=>t.map((t=>(0,i.dq)(t)?t.value:(0,i.PG)(t)?Z(t):(0,n.mf)(t)?r(t,p,2):void 0))):f=(0,n.mf)(t)?e?()=>r(t,p,2):()=>{if(!p||!p.isUnmounted)return d&&d(),o(t,p,3,[R])}:n.dG,e&&a){const t=f;f=()=>Z(t())}let _,R=t=>{d=A.onStop=()=>{r(t,p,4)}};if(As){if(R=n.dG,e?s&&o(e,p,3,[f(),g?[]:void 0,R]):f(),"sync"!==h)return n.dG;{const t=xs();_=t.__watcherHandles||(t.__watcherHandles=[])}}let S=g?new Array(t.length).fill(j):j;const b=()=>{if(A.active)if(e){const t=A.run();(a||m||(g?t.some(((t,e)=>(0,n.aU)(t,S[e]))):(0,n.aU)(t,S)))&&(d&&d(),o(e,p,3,[t,S===j?void 0:g&&S[0]===j?[]:S,R]),S=t)}else A.run()};let y;b.allowRecurse=!!e,"sync"===h?y=b:"post"===h?y=()=>De(b,p&&p.suspense):(b.pre=!0,p&&(b.id=p.uid),y=()=>v(b));const A=new i.qq(f,y);e?s?b():S=A.run():"post"===h?De(A.run.bind(A),p&&p.suspense):A.run();const C=()=>{A.stop(),p&&p.scope&&(0,n.Od)(p.scope.effects,A)};return _&&_.push(C),C}function W(t,e,s){const i=this.proxy,r=(0,n.HD)(t)?t.includes(".")?$(i,t):()=>i[t]:t.bind(i,i);let o;(0,n.mf)(e)?o=e:(o=e.handler,s=e);const a=fs;Rs(this);const h=Y(r,o.bind(i),s);return a?Rs(a):Ss(),h}function $(t,e){const s=e.split(".");return()=>{let e=t;for(let t=0;t<s.length&&e;t++)e=e[s[t]];return e}}function Z(t,e){if(!(0,n.Kn)(t)||t["__v_skip"])return t;if(e=e||new Set,e.has(t))return t;if(e.add(t),(0,i.dq)(t))Z(t.value,e);else if((0,n.kJ)(t))for(let s=0;s<t.length;s++)Z(t[s],e);else if((0,n.DM)(t)||(0,n._N)(t))t.forEach((t=>{Z(t,e)}));else if((0,n.PO)(t))for(const s in t)Z(t[s],e);return t}function J(t,e){const s=k;if(null===s)return t;const i=Ns(s)||s.proxy,r=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[t,s,a,h=n.kT]=e[o];t&&((0,n.mf)(t)&&(t={mounted:t,updated:t}),t.deep&&Z(s),r.push({dir:t,instance:i,value:s,oldValue:void 0,arg:a,modifiers:h}))}return t}function K(t,e,s,n){const r=t.dirs,a=e&&e.dirs;for(let h=0;h<r.length;h++){const l=r[h];a&&(l.oldValue=a[h].value);let u=l.dir[n];u&&((0,i.Jd)(),o(u,s,8,[t.el,l,t,e]),(0,i.lk)())}}function z(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return yt((()=>{t.isMounted=!0})),It((()=>{t.isUnmounting=!0})),t}const Q=[Function,Array],tt={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Q,onEnter:Q,onAfterEnter:Q,onEnterCancelled:Q,onBeforeLeave:Q,onLeave:Q,onAfterLeave:Q,onLeaveCancelled:Q,onBeforeAppear:Q,onAppear:Q,onAfterAppear:Q,onAppearCancelled:Q},et={name:"BaseTransition",props:tt,setup(t,{slots:e}){const s=ds(),n=z();let r;return()=>{const o=e.default&&ht(e.default(),!0);if(!o||!o.length)return;let a=o[0];if(o.length>1){let t=!1;for(const e of o)if(e.type!==xe){0,a=e,t=!0;break}}const h=(0,i.IU)(t),{mode:l}=h;if(n.isLeaving)return rt(a);const u=ot(a);if(!u)return rt(a);const c=nt(u,h,n,s);at(u,c);const p=s.subTree,f=p&&ot(p);let d=!1;const{getTransitionKey:m}=u.type;if(m){const t=m();void 0===r?r=t:t!==r&&(r=t,d=!0)}if(f&&f.type!==xe&&(!$e(u,f)||d)){const t=nt(f,h,n,s);if(at(f,t),"out-in"===l)return n.isLeaving=!0,t.afterLeave=()=>{n.isLeaving=!1,!1!==s.update.active&&s.update()},rt(a);"in-out"===l&&u.type!==xe&&(t.delayLeave=(t,e,s)=>{const i=it(n,f);i[String(f.key)]=f,t._leaveCb=()=>{e(),t._leaveCb=void 0,delete c.delayedLeave},c.delayedLeave=s})}return a}}},st=et;function it(t,e){const{leavingVNodes:s}=t;let i=s.get(e.type);return i||(i=Object.create(null),s.set(e.type,i)),i}function nt(t,e,s,i){const{appear:r,mode:a,persisted:h=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:p,onBeforeLeave:f,onLeave:d,onAfterLeave:m,onLeaveCancelled:g,onBeforeAppear:_,onAppear:R,onAfterAppear:S,onAppearCancelled:v}=e,b=String(t.key),y=it(s,t),A=(t,e)=>{t&&o(t,i,9,e)},C=(t,e)=>{const s=e[1];A(t,e),(0,n.kJ)(t)?t.every((t=>t.length<=1))&&s():t.length<=1&&s()},I={mode:a,persisted:h,beforeEnter(e){let i=l;if(!s.isMounted){if(!r)return;i=_||l}e._leaveCb&&e._leaveCb(!0);const n=y[b];n&&$e(t,n)&&n.el._leaveCb&&n.el._leaveCb(),A(i,[e])},enter(t){let e=u,i=c,n=p;if(!s.isMounted){if(!r)return;e=R||u,i=S||c,n=v||p}let o=!1;const a=t._enterCb=e=>{o||(o=!0,A(e?n:i,[t]),I.delayedLeave&&I.delayedLeave(),t._enterCb=void 0)};e?C(e,[t,a]):a()},leave(e,i){const n=String(t.key);if(e._enterCb&&e._enterCb(!0),s.isUnmounting)return i();A(f,[e]);let r=!1;const o=e._leaveCb=s=>{r||(r=!0,i(),A(s?g:m,[e]),e._leaveCb=void 0,y[n]===t&&delete y[n])};y[n]=t,d?C(d,[e,o]):o()},clone(t){return nt(t,e,s,i)}};return I}function rt(t){if(ct(t))return t=ss(t),t.children=null,t}function ot(t){return ct(t)?t.children?t.children[0]:void 0:t}function at(t,e){6&t.shapeFlag&&t.component?at(t.component.subTree,e):128&t.shapeFlag?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function ht(t,e=!1,s){let i=[],n=0;for(let r=0;r<t.length;r++){let o=t[r];const a=null==s?o.key:String(s)+String(null!=o.key?o.key:r);o.type===Fe?(128&o.patchFlag&&n++,i=i.concat(ht(o.children,e,a))):(e||o.type!==xe)&&i.push(null!=a?ss(o,{key:a}):o)}if(n>1)for(let r=0;r<i.length;r++)i[r].patchFlag=-2;return i}function lt(t,e){return(0,n.mf)(t)?(()=>(0,n.l7)({name:t.name},e,{setup:t}))():t}const ut=t=>!!t.type.__asyncLoader;const ct=t=>t.type.__isKeepAlive;RegExp,RegExp;function pt(t,e){return(0,n.kJ)(t)?t.some((t=>pt(t,e))):(0,n.HD)(t)?t.split(",").includes(e):!!(0,n.Kj)(t)&&t.test(e)}function ft(t,e){mt(t,"a",e)}function dt(t,e){mt(t,"da",e)}function mt(t,e,s=fs){const i=t.__wdc||(t.__wdc=()=>{let e=s;while(e){if(e.isDeactivated)return;e=e.parent}return t()});if(St(e,i,s),s){let t=s.parent;while(t&&t.parent)ct(t.parent.vnode)&&gt(i,e,s,t),t=t.parent}}function gt(t,e,s,i){const r=St(e,t,i,!0);Et((()=>{(0,n.Od)(i[e],r)}),s)}function _t(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Rt(t){return 128&t.shapeFlag?t.ssContent:t}function St(t,e,s=fs,n=!1){if(s){const r=s[t]||(s[t]=[]),a=e.__weh||(e.__weh=(...n)=>{if(s.isUnmounted)return;(0,i.Jd)(),Rs(s);const r=o(e,s,t,n);return Ss(),(0,i.lk)(),r});return n?r.unshift(a):r.push(a),a}}const vt=t=>(e,s=fs)=>(!As||"sp"===t)&&St(t,((...t)=>e(...t)),s),bt=vt("bm"),yt=vt("m"),At=vt("bu"),Ct=vt("u"),It=vt("bum"),Et=vt("um"),Dt=vt("sp"),Tt=vt("rtg"),Ot=vt("rtc");function Nt(t,e=fs){St("ec",t,e)}const wt="components";function kt(t,e){return Ft(wt,t,!0,e)||t}const Pt=Symbol.for("v-ndc");function Ft(t,e,s=!0,i=!1){const r=k||fs;if(r){const s=r.type;if(t===wt){const t=ws(s,!1);if(t&&(t===e||t===(0,n._A)(e)||t===(0,n.kC)((0,n._A)(e))))return s}const o=Mt(r[t]||s[t],e)||Mt(r.appContext[t],e);return!o&&i?s:o}}function Mt(t,e){return t&&(t[e]||t[(0,n._A)(e)]||t[(0,n.kC)((0,n._A)(e))])}const xt=t=>t?vs(t)?Ns(t)||t.proxy:xt(t.parent):null,Lt=(0,n.l7)(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>xt(t.parent),$root:t=>xt(t.root),$emit:t=>t.emit,$options:t=>Yt(t),$forceUpdate:t=>t.f||(t.f=()=>v(t.update)),$nextTick:t=>t.n||(t.n=R.bind(t.proxy)),$watch:t=>W.bind(t)}),Vt=(t,e)=>t!==n.kT&&!t.__isScriptSetup&&(0,n.RI)(t,e),Bt={get({_:t},e){const{ctx:s,setupState:r,data:o,props:a,accessCache:h,type:l,appContext:u}=t;let c;if("$"!==e[0]){const i=h[e];if(void 0!==i)switch(i){case 1:return r[e];case 2:return o[e];case 4:return s[e];case 3:return a[e]}else{if(Vt(r,e))return h[e]=1,r[e];if(o!==n.kT&&(0,n.RI)(o,e))return h[e]=2,o[e];if((c=t.propsOptions[0])&&(0,n.RI)(c,e))return h[e]=3,a[e];if(s!==n.kT&&(0,n.RI)(s,e))return h[e]=4,s[e];qt&&(h[e]=0)}}const p=Lt[e];let f,d;return p?("$attrs"===e&&(0,i.j)(t,"get",e),p(t)):(f=l.__cssModules)&&(f=f[e])?f:s!==n.kT&&(0,n.RI)(s,e)?(h[e]=4,s[e]):(d=u.config.globalProperties,(0,n.RI)(d,e)?d[e]:void 0)},set({_:t},e,s){const{data:i,setupState:r,ctx:o}=t;return Vt(r,e)?(r[e]=s,!0):i!==n.kT&&(0,n.RI)(i,e)?(i[e]=s,!0):!(0,n.RI)(t.props,e)&&(("$"!==e[0]||!(e.slice(1)in t))&&(o[e]=s,!0))},has({_:{data:t,setupState:e,accessCache:s,ctx:i,appContext:r,propsOptions:o}},a){let h;return!!s[a]||t!==n.kT&&(0,n.RI)(t,a)||Vt(e,a)||(h=o[0])&&(0,n.RI)(h,a)||(0,n.RI)(i,a)||(0,n.RI)(Lt,a)||(0,n.RI)(r.config.globalProperties,a)},defineProperty(t,e,s){return null!=s.get?t._.accessCache[e]=0:(0,n.RI)(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function Gt(t){return(0,n.kJ)(t)?t.reduce(((t,e)=>(t[e]=null,t)),{}):t}let qt=!0;function Ut(t){const e=Yt(t),s=t.proxy,r=t.ctx;qt=!1,e.beforeCreate&&jt(e.beforeCreate,t,"bc");const{data:o,computed:a,methods:h,watch:l,provide:u,inject:c,created:p,beforeMount:f,mounted:d,beforeUpdate:m,updated:g,activated:_,deactivated:R,beforeDestroy:S,beforeUnmount:v,destroyed:b,unmounted:y,render:A,renderTracked:C,renderTriggered:I,errorCaptured:E,serverPrefetch:D,expose:T,inheritAttrs:O,components:N,directives:w,filters:k}=e,P=null;if(c&&Xt(c,r,P),h)for(const i in h){const t=h[i];(0,n.mf)(t)&&(r[i]=t.bind(s))}if(o){0;const e=o.call(s,s);0,(0,n.Kn)(e)&&(t.data=(0,i.qj)(e))}if(qt=!0,a)for(const i in a){const t=a[i],e=(0,n.mf)(t)?t.bind(s,s):(0,n.mf)(t.get)?t.get.bind(s,s):n.dG;0;const o=!(0,n.mf)(t)&&(0,n.mf)(t.set)?t.set.bind(s):n.dG,h=Ps({get:e,set:o});Object.defineProperty(r,i,{enumerable:!0,configurable:!0,get:()=>h.value,set:t=>h.value=t})}if(l)for(const i in l)Ht(l[i],r,s,i);if(u){const t=(0,n.mf)(u)?u.call(s):u;Reflect.ownKeys(t).forEach((e=>{oe(e,t[e])}))}function F(t,e){(0,n.kJ)(e)?e.forEach((e=>t(e.bind(s)))):e&&t(e.bind(s))}if(p&&jt(p,t,"c"),F(bt,f),F(yt,d),F(At,m),F(Ct,g),F(ft,_),F(dt,R),F(Nt,E),F(Ot,C),F(Tt,I),F(It,v),F(Et,y),F(Dt,D),(0,n.kJ)(T))if(T.length){const e=t.exposed||(t.exposed={});T.forEach((t=>{Object.defineProperty(e,t,{get:()=>s[t],set:e=>s[t]=e})}))}else t.exposed||(t.exposed={});A&&t.render===n.dG&&(t.render=A),null!=O&&(t.inheritAttrs=O),N&&(t.components=N),w&&(t.directives=w)}function Xt(t,e,s=n.dG){(0,n.kJ)(t)&&(t=Kt(t));for(const r in t){const s=t[r];let o;o=(0,n.Kn)(s)?"default"in s?ae(s.from||r,s.default,!0):ae(s.from||r):ae(s),(0,i.dq)(o)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:t=>o.value=t}):e[r]=o}}function jt(t,e,s){o((0,n.kJ)(t)?t.map((t=>t.bind(e.proxy))):t.bind(e.proxy),e,s)}function Ht(t,e,s,i){const r=i.includes(".")?$(s,i):()=>s[i];if((0,n.HD)(t)){const s=e[t];(0,n.mf)(s)&&H(r,s)}else if((0,n.mf)(t))H(r,t.bind(s));else if((0,n.Kn)(t))if((0,n.kJ)(t))t.forEach((t=>Ht(t,e,s,i)));else{const i=(0,n.mf)(t.handler)?t.handler.bind(s):e[t.handler];(0,n.mf)(i)&&H(r,i,t)}else 0}function Yt(t){const e=t.type,{mixins:s,extends:i}=e,{mixins:r,optionsCache:o,config:{optionMergeStrategies:a}}=t.appContext,h=o.get(e);let l;return h?l=h:r.length||s||i?(l={},r.length&&r.forEach((t=>Wt(l,t,a,!0))),Wt(l,e,a)):l=e,(0,n.Kn)(e)&&o.set(e,l),l}function Wt(t,e,s,i=!1){const{mixins:n,extends:r}=e;r&&Wt(t,r,s,!0),n&&n.forEach((e=>Wt(t,e,s,!0)));for(const o in e)if(i&&"expose"===o);else{const i=$t[o]||s&&s[o];t[o]=i?i(t[o],e[o]):e[o]}return t}const $t={data:Zt,props:te,emits:te,methods:Qt,computed:Qt,beforeCreate:zt,created:zt,beforeMount:zt,mounted:zt,beforeUpdate:zt,updated:zt,beforeDestroy:zt,beforeUnmount:zt,destroyed:zt,unmounted:zt,activated:zt,deactivated:zt,errorCaptured:zt,serverPrefetch:zt,components:Qt,directives:Qt,watch:ee,provide:Zt,inject:Jt};function Zt(t,e){return e?t?function(){return(0,n.l7)((0,n.mf)(t)?t.call(this,this):t,(0,n.mf)(e)?e.call(this,this):e)}:e:t}function Jt(t,e){return Qt(Kt(t),Kt(e))}function Kt(t){if((0,n.kJ)(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function zt(t,e){return t?[...new Set([].concat(t,e))]:e}function Qt(t,e){return t?(0,n.l7)(Object.create(null),t,e):e}function te(t,e){return t?(0,n.kJ)(t)&&(0,n.kJ)(e)?[...new Set([...t,...e])]:(0,n.l7)(Object.create(null),Gt(t),Gt(null!=e?e:{})):e}function ee(t,e){if(!t)return e;if(!e)return t;const s=(0,n.l7)(Object.create(null),t);for(const i in e)s[i]=zt(t[i],e[i]);return s}function se(){return{app:null,config:{isNativeTag:n.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ie=0;function ne(t,e){return function(s,i=null){(0,n.mf)(s)||(s=(0,n.l7)({},s)),null==i||(0,n.Kn)(i)||(i=null);const r=se();const o=new Set;let a=!1;const h=r.app={_uid:ie++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:Ls,get config(){return r.config},set config(t){0},use(t,...e){return o.has(t)||(t&&(0,n.mf)(t.install)?(o.add(t),t.install(h,...e)):(0,n.mf)(t)&&(o.add(t),t(h,...e))),h},mixin(t){return r.mixins.includes(t)||r.mixins.push(t),h},component(t,e){return e?(r.components[t]=e,h):r.components[t]},directive(t,e){return e?(r.directives[t]=e,h):r.directives[t]},mount(n,o,l){if(!a){0;const u=Qe(s,i);return u.appContext=r,o&&e?e(u,n):t(u,n,l),a=!0,h._container=n,n.__vue_app__=h,Ns(u.component)||u.component.proxy}},unmount(){a&&(t(null,h._container),delete h._container.__vue_app__)},provide(t,e){return r.provides[t]=e,h},runWithContext(t){re=h;try{return t()}finally{re=null}}};return h}}let re=null;function oe(t,e){if(fs){let s=fs.provides;const i=fs.parent&&fs.parent.provides;i===s&&(s=fs.provides=Object.create(i)),s[t]=e}else 0}function ae(t,e,s=!1){const i=fs||k;if(i||re){const r=i?null==i.parent?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:re._context.provides;if(r&&t in r)return r[t];if(arguments.length>1)return s&&(0,n.mf)(e)?e.call(i&&i.proxy):e}else 0}function he(){return!!(fs||k||re)}function le(t,e,s,r=!1){const o={},a={};(0,n.Nj)(a,Ze,1),t.propsDefaults=Object.create(null),ce(t,e,o,a);for(const i in t.propsOptions[0])i in o||(o[i]=void 0);s?t.props=r?o:(0,i.Um)(o):t.type.props?t.props=o:t.props=a,t.attrs=a}function ue(t,e,s,r){const{props:o,attrs:a,vnode:{patchFlag:h}}=t,l=(0,i.IU)(o),[u]=t.propsOptions;let c=!1;if(!(r||h>0)||16&h){let i;ce(t,e,o,a)&&(c=!0);for(const r in l)e&&((0,n.RI)(e,r)||(i=(0,n.rs)(r))!==r&&(0,n.RI)(e,i))||(u?!s||void 0===s[r]&&void 0===s[i]||(o[r]=pe(u,l,r,void 0,t,!0)):delete o[r]);if(a!==l)for(const t in a)e&&(0,n.RI)(e,t)||(delete a[t],c=!0)}else if(8&h){const s=t.vnode.dynamicProps;for(let i=0;i<s.length;i++){let r=s[i];if(w(t.emitsOptions,r))continue;const h=e[r];if(u)if((0,n.RI)(a,r))h!==a[r]&&(a[r]=h,c=!0);else{const e=(0,n._A)(r);o[e]=pe(u,l,e,h,t,!1)}else h!==a[r]&&(a[r]=h,c=!0)}}c&&(0,i.X$)(t,"set","$attrs")}function ce(t,e,s,r){const[o,a]=t.propsOptions;let h,l=!1;if(e)for(let i in e){if((0,n.Gg)(i))continue;const u=e[i];let c;o&&(0,n.RI)(o,c=(0,n._A)(i))?a&&a.includes(c)?(h||(h={}))[c]=u:s[c]=u:w(t.emitsOptions,i)||i in r&&u===r[i]||(r[i]=u,l=!0)}if(a){const e=(0,i.IU)(s),r=h||n.kT;for(let i=0;i<a.length;i++){const h=a[i];s[h]=pe(o,e,h,r[h],t,!(0,n.RI)(r,h))}}return l}function pe(t,e,s,i,r,o){const a=t[s];if(null!=a){const t=(0,n.RI)(a,"default");if(t&&void 0===i){const t=a.default;if(a.type!==Function&&!a.skipFactory&&(0,n.mf)(t)){const{propsDefaults:n}=r;s in n?i=n[s]:(Rs(r),i=n[s]=t.call(null,e),Ss())}else i=t}a[0]&&(o&&!t?i=!1:!a[1]||""!==i&&i!==(0,n.rs)(s)||(i=!0))}return i}function fe(t,e,s=!1){const i=e.propsCache,r=i.get(t);if(r)return r;const o=t.props,a={},h=[];let l=!1;if(!(0,n.mf)(t)){const i=t=>{l=!0;const[s,i]=fe(t,e,!0);(0,n.l7)(a,s),i&&h.push(...i)};!s&&e.mixins.length&&e.mixins.forEach(i),t.extends&&i(t.extends),t.mixins&&t.mixins.forEach(i)}if(!o&&!l)return(0,n.Kn)(t)&&i.set(t,n.Z6),n.Z6;if((0,n.kJ)(o))for(let c=0;c<o.length;c++){0;const t=(0,n._A)(o[c]);de(t)&&(a[t]=n.kT)}else if(o){0;for(const t in o){const e=(0,n._A)(t);if(de(e)){const s=o[t],i=a[e]=(0,n.kJ)(s)||(0,n.mf)(s)?{type:s}:(0,n.l7)({},s);if(i){const t=_e(Boolean,i.type),s=_e(String,i.type);i[0]=t>-1,i[1]=s<0||t<s,(t>-1||(0,n.RI)(i,"default"))&&h.push(e)}}}}const u=[a,h];return(0,n.Kn)(t)&&i.set(t,u),u}function de(t){return"$"!==t[0]}function me(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:null===t?"null":""}function ge(t,e){return me(t)===me(e)}function _e(t,e){return(0,n.kJ)(e)?e.findIndex((e=>ge(e,t))):(0,n.mf)(e)&&ge(e,t)?0:-1}const Re=t=>"_"===t[0]||"$stable"===t,Se=t=>(0,n.kJ)(t)?t.map(rs):[rs(t)],ve=(t,e,s)=>{if(e._n)return e;const i=M(((...t)=>Se(e(...t))),s);return i._c=!1,i},be=(t,e,s)=>{const i=t._ctx;for(const r in t){if(Re(r))continue;const s=t[r];if((0,n.mf)(s))e[r]=ve(r,s,i);else if(null!=s){0;const t=Se(s);e[r]=()=>t}}},ye=(t,e)=>{const s=Se(e);t.slots.default=()=>s},Ae=(t,e)=>{if(32&t.vnode.shapeFlag){const s=e._;s?(t.slots=(0,i.IU)(e),(0,n.Nj)(e,"_",s)):be(e,t.slots={})}else t.slots={},e&&ye(t,e);(0,n.Nj)(t.slots,Ze,1)},Ce=(t,e,s)=>{const{vnode:i,slots:r}=t;let o=!0,a=n.kT;if(32&i.shapeFlag){const t=e._;t?s&&1===t?o=!1:((0,n.l7)(r,e),s||1!==t||delete r._):(o=!e.$stable,be(e,r)),a=e}else e&&(ye(t,e),a={default:1});if(o)for(const n in r)Re(n)||n in a||delete r[n]};function Ie(t,e,s,o,a=!1){if((0,n.kJ)(t))return void t.forEach(((t,i)=>Ie(t,e&&((0,n.kJ)(e)?e[i]:e),s,o,a)));if(ut(o)&&!a)return;const h=4&o.shapeFlag?Ns(o.component)||o.component.proxy:o.el,l=a?null:h,{i:u,r:c}=t;const p=e&&e.r,f=u.refs===n.kT?u.refs={}:u.refs,d=u.setupState;if(null!=p&&p!==c&&((0,n.HD)(p)?(f[p]=null,(0,n.RI)(d,p)&&(d[p]=null)):(0,i.dq)(p)&&(p.value=null)),(0,n.mf)(c))r(c,u,12,[l,f]);else{const e=(0,n.HD)(c),r=(0,i.dq)(c);if(e||r){const i=()=>{if(t.f){const s=e?(0,n.RI)(d,c)?d[c]:f[c]:c.value;a?(0,n.kJ)(s)&&(0,n.Od)(s,h):(0,n.kJ)(s)?s.includes(h)||s.push(h):e?(f[c]=[h],(0,n.RI)(d,c)&&(d[c]=f[c])):(c.value=[h],t.k&&(f[t.k]=c.value))}else e?(f[c]=l,(0,n.RI)(d,c)&&(d[c]=l)):r&&(c.value=l,t.k&&(f[t.k]=l))};l?(i.id=-1,De(i,s)):i()}else 0}}function Ee(){}const De=X;function Te(t){return Oe(t)}function Oe(t,e){Ee();const s=(0,n.E9)();s.__VUE__=!0;const{insert:r,remove:o,patchProp:a,createElement:h,createText:l,createComment:u,setText:c,setElementText:p,parentNode:f,nextSibling:d,setScopeId:m=n.dG,insertStaticContent:g}=t,_=(t,e,s,i=null,n=null,r=null,o=!1,a=null,h=!!e.dynamicChildren)=>{if(t===e)return;t&&!$e(t,e)&&(i=Q(t),W(t,n,r,!0),t=null),-2===e.patchFlag&&(h=!1,e.dynamicChildren=null);const{type:l,ref:u,shapeFlag:c}=e;switch(l){case Me:R(t,e,s,i);break;case xe:S(t,e,s,i);break;case Le:null==t&&b(e,s,i,o);break;case Fe:F(t,e,s,i,n,r,o,a,h);break;default:1&c?D(t,e,s,i,n,r,o,a,h):6&c?M(t,e,s,i,n,r,o,a,h):(64&c||128&c)&&l.process(t,e,s,i,n,r,o,a,h,et)}null!=u&&n&&Ie(u,t&&t.ref,r,e||t,!e)},R=(t,e,s,i)=>{if(null==t)r(e.el=l(e.children),s,i);else{const s=e.el=t.el;e.children!==t.children&&c(s,e.children)}},S=(t,e,s,i)=>{null==t?r(e.el=u(e.children||""),s,i):e.el=t.el},b=(t,e,s,i)=>{[t.el,t.anchor]=g(t.children,e,s,i,t.el,t.anchor)},A=({el:t,anchor:e},s,i)=>{let n;while(t&&t!==e)n=d(t),r(t,s,i),t=n;r(e,s,i)},E=({el:t,anchor:e})=>{let s;while(t&&t!==e)s=d(t),o(t),t=s;o(e)},D=(t,e,s,i,n,r,o,a,h)=>{o=o||"svg"===e.type,null==t?T(e,s,i,n,r,o,a,h):w(t,e,n,r,o,a,h)},T=(t,e,s,i,o,l,u,c)=>{let f,d;const{type:m,props:g,shapeFlag:_,transition:R,dirs:S}=t;if(f=t.el=h(t.type,l,g&&g.is,g),8&_?p(f,t.children):16&_&&N(t.children,f,null,i,o,l&&"foreignObject"!==m,u,c),S&&K(t,null,i,"created"),O(f,t,t.scopeId,u,i),g){for(const e in g)"value"===e||(0,n.Gg)(e)||a(f,e,null,g[e],l,t.children,i,o,z);"value"in g&&a(f,"value",null,g.value),(d=g.onVnodeBeforeMount)&&ls(d,i,t)}S&&K(t,null,i,"beforeMount");const v=(!o||o&&!o.pendingBranch)&&R&&!R.persisted;v&&R.beforeEnter(f),r(f,e,s),((d=g&&g.onVnodeMounted)||v||S)&&De((()=>{d&&ls(d,i,t),v&&R.enter(f),S&&K(t,null,i,"mounted")}),o)},O=(t,e,s,i,n)=>{if(s&&m(t,s),i)for(let r=0;r<i.length;r++)m(t,i[r]);if(n){let s=n.subTree;if(e===s){const e=n.vnode;O(t,e,e.scopeId,e.slotScopeIds,n.parent)}}},N=(t,e,s,i,n,r,o,a,h=0)=>{for(let l=h;l<t.length;l++){const h=t[l]=a?os(t[l]):rs(t[l]);_(null,h,e,s,i,n,r,o,a)}},w=(t,e,s,i,r,o,h)=>{const l=e.el=t.el;let{patchFlag:u,dynamicChildren:c,dirs:f}=e;u|=16&t.patchFlag;const d=t.props||n.kT,m=e.props||n.kT;let g;s&&Ne(s,!1),(g=m.onVnodeBeforeUpdate)&&ls(g,s,e,t),f&&K(e,t,s,"beforeUpdate"),s&&Ne(s,!0);const _=r&&"foreignObject"!==e.type;if(c?k(t.dynamicChildren,c,l,s,i,_,o):h||X(t,e,l,null,s,i,_,o,!1),u>0){if(16&u)P(l,e,d,m,s,i,r);else if(2&u&&d.class!==m.class&&a(l,"class",null,m.class,r),4&u&&a(l,"style",d.style,m.style,r),8&u){const n=e.dynamicProps;for(let e=0;e<n.length;e++){const o=n[e],h=d[o],u=m[o];u===h&&"value"!==o||a(l,o,h,u,r,t.children,s,i,z)}}1&u&&t.children!==e.children&&p(l,e.children)}else h||null!=c||P(l,e,d,m,s,i,r);((g=m.onVnodeUpdated)||f)&&De((()=>{g&&ls(g,s,e,t),f&&K(e,t,s,"updated")}),i)},k=(t,e,s,i,n,r,o)=>{for(let a=0;a<e.length;a++){const h=t[a],l=e[a],u=h.el&&(h.type===Fe||!$e(h,l)||70&h.shapeFlag)?f(h.el):s;_(h,l,u,null,i,n,r,o,!0)}},P=(t,e,s,i,r,o,h)=>{if(s!==i){if(s!==n.kT)for(const l in s)(0,n.Gg)(l)||l in i||a(t,l,s[l],null,h,e.children,r,o,z);for(const l in i){if((0,n.Gg)(l))continue;const u=i[l],c=s[l];u!==c&&"value"!==l&&a(t,l,c,u,h,e.children,r,o,z)}"value"in i&&a(t,"value",s.value,i.value)}},F=(t,e,s,i,n,o,a,h,u)=>{const c=e.el=t?t.el:l(""),p=e.anchor=t?t.anchor:l("");let{patchFlag:f,dynamicChildren:d,slotScopeIds:m}=e;m&&(h=h?h.concat(m):m),null==t?(r(c,s,i),r(p,s,i),N(e.children,s,p,n,o,a,h,u)):f>0&&64&f&&d&&t.dynamicChildren?(k(t.dynamicChildren,d,s,n,o,a,h),(null!=e.key||n&&e===n.subTree)&&we(t,e,!0)):X(t,e,s,p,n,o,a,h,u)},M=(t,e,s,i,n,r,o,a,h)=>{e.slotScopeIds=a,null==t?512&e.shapeFlag?n.ctx.activate(e,s,i,o,h):L(e,s,i,n,r,o,h):V(t,e,h)},L=(t,e,s,i,n,r,o)=>{const a=t.component=ps(t,i,n);if(ct(t)&&(a.ctx.renderer=et),Cs(a),a.asyncDep){if(n&&n.registerDep(a,G),!t.el){const t=a.subTree=Qe(xe);S(null,t,e,s)}}else G(a,t,e,s,n,r,o)},V=(t,e,s)=>{const i=e.component=t.component;if(B(t,e,s)){if(i.asyncDep&&!i.asyncResolved)return void U(i,e,s);i.next=e,y(i.update),i.update()}else e.el=t.el,i.vnode=e},G=(t,e,s,r,o,a,h)=>{const l=()=>{if(t.isMounted){let e,{next:s,bu:i,u:r,parent:l,vnode:u}=t,c=s;0,Ne(t,!1),s?(s.el=u.el,U(t,s,h)):s=u,i&&(0,n.ir)(i),(e=s.props&&s.props.onVnodeBeforeUpdate)&&ls(e,l,s,u),Ne(t,!0);const p=x(t);0;const d=t.subTree;t.subTree=p,_(d,p,f(d.el),Q(d),t,o,a),s.el=p.el,null===c&&q(t,p.el),r&&De(r,o),(e=s.props&&s.props.onVnodeUpdated)&&De((()=>ls(e,l,s,u)),o)}else{let i;const{el:h,props:l}=e,{bm:u,m:c,parent:p}=t,f=ut(e);if(Ne(t,!1),u&&(0,n.ir)(u),!f&&(i=l&&l.onVnodeBeforeMount)&&ls(i,p,e),Ne(t,!0),h&&it){const s=()=>{t.subTree=x(t),it(h,t.subTree,t,o,null)};f?e.type.__asyncLoader().then((()=>!t.isUnmounted&&s())):s()}else{0;const i=t.subTree=x(t);0,_(null,i,s,r,t,o,a),e.el=i.el}if(c&&De(c,o),!f&&(i=l&&l.onVnodeMounted)){const t=e;De((()=>ls(i,p,t)),o)}(256&e.shapeFlag||p&&ut(p.vnode)&&256&p.vnode.shapeFlag)&&t.a&&De(t.a,o),t.isMounted=!0,e=s=r=null}},u=t.effect=new i.qq(l,(()=>v(c)),t.scope),c=t.update=()=>u.run();c.id=t.uid,Ne(t,!0),c()},U=(t,e,s)=>{e.component=t;const n=t.vnode.props;t.vnode=e,t.next=null,ue(t,e.props,n,s),Ce(t,e.children,s),(0,i.Jd)(),C(),(0,i.lk)()},X=(t,e,s,i,n,r,o,a,h=!1)=>{const l=t&&t.children,u=t?t.shapeFlag:0,c=e.children,{patchFlag:f,shapeFlag:d}=e;if(f>0){if(128&f)return void H(l,c,s,i,n,r,o,a,h);if(256&f)return void j(l,c,s,i,n,r,o,a,h)}8&d?(16&u&&z(l,n,r),c!==l&&p(s,c)):16&u?16&d?H(l,c,s,i,n,r,o,a,h):z(l,n,r,!0):(8&u&&p(s,""),16&d&&N(c,s,i,n,r,o,a,h))},j=(t,e,s,i,r,o,a,h,l)=>{t=t||n.Z6,e=e||n.Z6;const u=t.length,c=e.length,p=Math.min(u,c);let f;for(f=0;f<p;f++){const i=e[f]=l?os(e[f]):rs(e[f]);_(t[f],i,s,null,r,o,a,h,l)}u>c?z(t,r,o,!0,!1,p):N(e,s,i,r,o,a,h,l,p)},H=(t,e,s,i,r,o,a,h,l)=>{let u=0;const c=e.length;let p=t.length-1,f=c-1;while(u<=p&&u<=f){const i=t[u],n=e[u]=l?os(e[u]):rs(e[u]);if(!$e(i,n))break;_(i,n,s,null,r,o,a,h,l),u++}while(u<=p&&u<=f){const i=t[p],n=e[f]=l?os(e[f]):rs(e[f]);if(!$e(i,n))break;_(i,n,s,null,r,o,a,h,l),p--,f--}if(u>p){if(u<=f){const t=f+1,n=t<c?e[t].el:i;while(u<=f)_(null,e[u]=l?os(e[u]):rs(e[u]),s,n,r,o,a,h,l),u++}}else if(u>f)while(u<=p)W(t[u],r,o,!0),u++;else{const d=u,m=u,g=new Map;for(u=m;u<=f;u++){const t=e[u]=l?os(e[u]):rs(e[u]);null!=t.key&&g.set(t.key,u)}let R,S=0;const v=f-m+1;let b=!1,y=0;const A=new Array(v);for(u=0;u<v;u++)A[u]=0;for(u=d;u<=p;u++){const i=t[u];if(S>=v){W(i,r,o,!0);continue}let n;if(null!=i.key)n=g.get(i.key);else for(R=m;R<=f;R++)if(0===A[R-m]&&$e(i,e[R])){n=R;break}void 0===n?W(i,r,o,!0):(A[n-m]=u+1,n>=y?y=n:b=!0,_(i,e[n],s,null,r,o,a,h,l),S++)}const C=b?ke(A):n.Z6;for(R=C.length-1,u=v-1;u>=0;u--){const t=m+u,n=e[t],p=t+1<c?e[t+1].el:i;0===A[u]?_(null,n,s,p,r,o,a,h,l):b&&(R<0||u!==C[R]?Y(n,s,p,2):R--)}}},Y=(t,e,s,i,n=null)=>{const{el:o,type:a,transition:h,children:l,shapeFlag:u}=t;if(6&u)return void Y(t.component.subTree,e,s,i);if(128&u)return void t.suspense.move(e,s,i);if(64&u)return void a.move(t,e,s,et);if(a===Fe){r(o,e,s);for(let t=0;t<l.length;t++)Y(l[t],e,s,i);return void r(t.anchor,e,s)}if(a===Le)return void A(t,e,s);const c=2!==i&&1&u&&h;if(c)if(0===i)h.beforeEnter(o),r(o,e,s),De((()=>h.enter(o)),n);else{const{leave:t,delayLeave:i,afterLeave:n}=h,a=()=>r(o,e,s),l=()=>{t(o,(()=>{a(),n&&n()}))};i?i(o,a,l):l()}else r(o,e,s)},W=(t,e,s,i=!1,n=!1)=>{const{type:r,props:o,ref:a,children:h,dynamicChildren:l,shapeFlag:u,patchFlag:c,dirs:p}=t;if(null!=a&&Ie(a,null,s,t,!0),256&u)return void e.ctx.deactivate(t);const f=1&u&&p,d=!ut(t);let m;if(d&&(m=o&&o.onVnodeBeforeUnmount)&&ls(m,e,t),6&u)J(t.component,s,i);else{if(128&u)return void t.suspense.unmount(s,i);f&&K(t,null,e,"beforeUnmount"),64&u?t.type.remove(t,e,s,n,et,i):l&&(r!==Fe||c>0&&64&c)?z(l,e,s,!1,!0):(r===Fe&&384&c||!n&&16&u)&&z(h,e,s),i&&$(t)}(d&&(m=o&&o.onVnodeUnmounted)||f)&&De((()=>{m&&ls(m,e,t),f&&K(t,null,e,"unmounted")}),s)},$=t=>{const{type:e,el:s,anchor:i,transition:n}=t;if(e===Fe)return void Z(s,i);if(e===Le)return void E(t);const r=()=>{o(s),n&&!n.persisted&&n.afterLeave&&n.afterLeave()};if(1&t.shapeFlag&&n&&!n.persisted){const{leave:e,delayLeave:i}=n,o=()=>e(s,r);i?i(t.el,r,o):o()}else r()},Z=(t,e)=>{let s;while(t!==e)s=d(t),o(t),t=s;o(e)},J=(t,e,s)=>{const{bum:i,scope:r,update:o,subTree:a,um:h}=t;i&&(0,n.ir)(i),r.stop(),o&&(o.active=!1,W(a,t,e,s)),h&&De(h,e),De((()=>{t.isUnmounted=!0}),e),e&&e.pendingBranch&&!e.isUnmounted&&t.asyncDep&&!t.asyncResolved&&t.suspenseId===e.pendingId&&(e.deps--,0===e.deps&&e.resolve())},z=(t,e,s,i=!1,n=!1,r=0)=>{for(let o=r;o<t.length;o++)W(t[o],e,s,i,n)},Q=t=>6&t.shapeFlag?Q(t.component.subTree):128&t.shapeFlag?t.suspense.next():d(t.anchor||t.el),tt=(t,e,s)=>{null==t?e._vnode&&W(e._vnode,null,null,!0):_(e._vnode||null,t,e,null,null,null,s),C(),I(),e._vnode=t},et={p:_,um:W,m:Y,r:$,mt:L,mc:N,pc:X,pbc:k,n:Q,o:t};let st,it;return e&&([st,it]=e(et)),{render:tt,hydrate:st,createApp:ne(tt,st)}}function Ne({effect:t,update:e},s){t.allowRecurse=e.allowRecurse=s}function we(t,e,s=!1){const i=t.children,r=e.children;if((0,n.kJ)(i)&&(0,n.kJ)(r))for(let n=0;n<i.length;n++){const t=i[n];let e=r[n];1&e.shapeFlag&&!e.dynamicChildren&&((e.patchFlag<=0||32===e.patchFlag)&&(e=r[n]=os(r[n]),e.el=t.el),s||we(t,e)),e.type===Me&&(e.el=t.el)}}function ke(t){const e=t.slice(),s=[0];let i,n,r,o,a;const h=t.length;for(i=0;i<h;i++){const h=t[i];if(0!==h){if(n=s[s.length-1],t[n]<h){e[i]=n,s.push(i);continue}r=0,o=s.length-1;while(r<o)a=r+o>>1,t[s[a]]<h?r=a+1:o=a;h<t[s[r]]&&(r>0&&(e[i]=s[r-1]),s[r]=i)}}r=s.length,o=s[r-1];while(r-- >0)s[r]=o,o=e[o];return s}const Pe=t=>t.__isTeleport;const Fe=Symbol.for("v-fgt"),Me=Symbol.for("v-txt"),xe=Symbol.for("v-cmt"),Le=Symbol.for("v-stc"),Ve=[];let Be=null;function Ge(t=!1){Ve.push(Be=t?null:[])}function qe(){Ve.pop(),Be=Ve[Ve.length-1]||null}let Ue=1;function Xe(t){Ue+=t}function je(t){return t.dynamicChildren=Ue>0?Be||n.Z6:null,qe(),Ue>0&&Be&&Be.push(t),t}function He(t,e,s,i,n,r){return je(ze(t,e,s,i,n,r,!0))}function Ye(t,e,s,i,n){return je(Qe(t,e,s,i,n,!0))}function We(t){return!!t&&!0===t.__v_isVNode}function $e(t,e){return t.type===e.type&&t.key===e.key}const Ze="__vInternal",Je=({key:t})=>null!=t?t:null,Ke=({ref:t,ref_key:e,ref_for:s})=>("number"===typeof t&&(t=""+t),null!=t?(0,n.HD)(t)||(0,i.dq)(t)||(0,n.mf)(t)?{i:k,r:t,k:e,f:!!s}:t:null);function ze(t,e=null,s=null,i=0,r=null,o=(t===Fe?0:1),a=!1,h=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Je(e),ref:e&&Ke(e),scopeId:P,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:k};return h?(as(l,s),128&o&&t.normalize(l)):s&&(l.shapeFlag|=(0,n.HD)(s)?8:16),Ue>0&&!a&&Be&&(l.patchFlag>0||6&o)&&32!==l.patchFlag&&Be.push(l),l}const Qe=ts;function ts(t,e=null,s=null,r=0,o=null,a=!1){if(t&&t!==Pt||(t=xe),We(t)){const i=ss(t,e,!0);return s&&as(i,s),Ue>0&&!a&&Be&&(6&i.shapeFlag?Be[Be.indexOf(t)]=i:Be.push(i)),i.patchFlag|=-2,i}if(ks(t)&&(t=t.__vccOpts),e){e=es(e);let{class:t,style:s}=e;t&&!(0,n.HD)(t)&&(e.class=(0,n.C_)(t)),(0,n.Kn)(s)&&((0,i.X3)(s)&&!(0,n.kJ)(s)&&(s=(0,n.l7)({},s)),e.style=(0,n.j5)(s))}const h=(0,n.HD)(t)?1:U(t)?128:Pe(t)?64:(0,n.Kn)(t)?4:(0,n.mf)(t)?2:0;return ze(t,e,s,r,o,h,a,!0)}function es(t){return t?(0,i.X3)(t)||Ze in t?(0,n.l7)({},t):t:null}function ss(t,e,s=!1){const{props:i,ref:r,patchFlag:o,children:a}=t,h=e?hs(i||{},e):i,l={__v_isVNode:!0,__v_skip:!0,type:t.type,props:h,key:h&&Je(h),ref:e&&e.ref?s&&r?(0,n.kJ)(r)?r.concat(Ke(e)):[r,Ke(e)]:Ke(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Fe?-1===o?16:16|o:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ss(t.ssContent),ssFallback:t.ssFallback&&ss(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l}function is(t=" ",e=0){return Qe(Me,null,t,e)}function ns(t="",e=!1){return e?(Ge(),Ye(xe,null,t)):Qe(xe,null,t)}function rs(t){return null==t||"boolean"===typeof t?Qe(xe):(0,n.kJ)(t)?Qe(Fe,null,t.slice()):"object"===typeof t?os(t):Qe(Me,null,String(t))}function os(t){return null===t.el&&-1!==t.patchFlag||t.memo?t:ss(t)}function as(t,e){let s=0;const{shapeFlag:i}=t;if(null==e)e=null;else if((0,n.kJ)(e))s=16;else if("object"===typeof e){if(65&i){const s=e.default;return void(s&&(s._c&&(s._d=!1),as(t,s()),s._c&&(s._d=!0)))}{s=32;const i=e._;i||Ze in e?3===i&&k&&(1===k.slots._?e._=1:(e._=2,t.patchFlag|=1024)):e._ctx=k}}else(0,n.mf)(e)?(e={default:e,_ctx:k},s=32):(e=String(e),64&i?(s=16,e=[is(e)]):s=8);t.children=e,t.shapeFlag|=s}function hs(...t){const e={};for(let s=0;s<t.length;s++){const i=t[s];for(const t in i)if("class"===t)e.class!==i.class&&(e.class=(0,n.C_)([e.class,i.class]));else if("style"===t)e.style=(0,n.j5)([e.style,i.style]);else if((0,n.F7)(t)){const s=e[t],r=i[t];!r||s===r||(0,n.kJ)(s)&&s.includes(r)||(e[t]=s?[].concat(s,r):r)}else""!==t&&(e[t]=i[t])}return e}function ls(t,e,s,i=null){o(t,e,7,[s,i])}const us=se();let cs=0;function ps(t,e,s){const r=t.type,o=(e?e.appContext:t.appContext)||us,a={uid:cs++,vnode:t,type:r,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new i.Bj(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:fe(r,o),emitsOptions:N(r,o),emit:null,emitted:null,propsDefaults:n.kT,inheritAttrs:r.inheritAttrs,ctx:n.kT,data:n.kT,props:n.kT,attrs:n.kT,slots:n.kT,refs:n.kT,setupState:n.kT,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=e?e.root:a,a.emit=O.bind(null,a),t.ce&&t.ce(a),a}let fs=null;const ds=()=>fs||k;let ms,gs,_s="__VUE_INSTANCE_SETTERS__";(gs=(0,n.E9)()[_s])||(gs=(0,n.E9)()[_s]=[]),gs.push((t=>fs=t)),ms=t=>{gs.length>1?gs.forEach((e=>e(t))):gs[0](t)};const Rs=t=>{ms(t),t.scope.on()},Ss=()=>{fs&&fs.scope.off(),ms(null)};function vs(t){return 4&t.vnode.shapeFlag}let bs,ys,As=!1;function Cs(t,e=!1){As=e;const{props:s,children:i}=t.vnode,n=vs(t);le(t,s,n,e),Ae(t,i);const r=n?Is(t,e):void 0;return As=!1,r}function Is(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=(0,i.Xl)(new Proxy(t.ctx,Bt));const{setup:o}=s;if(o){const s=t.setupContext=o.length>1?Os(t):null;Rs(t),(0,i.Jd)();const h=r(o,t,0,[t.props,s]);if((0,i.lk)(),Ss(),(0,n.tI)(h)){if(h.then(Ss,Ss),e)return h.then((s=>{Es(t,s,e)})).catch((e=>{a(e,t,0)}));t.asyncDep=h}else Es(t,h,e)}else Ds(t,e)}function Es(t,e,s){(0,n.mf)(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:(0,n.Kn)(e)&&(t.setupState=(0,i.WL)(e)),Ds(t,s)}function Ds(t,e,s){const r=t.type;if(!t.render){if(!e&&bs&&!r.render){const e=r.template||Yt(t).template;if(e){0;const{isCustomElement:s,compilerOptions:i}=t.appContext.config,{delimiters:o,compilerOptions:a}=r,h=(0,n.l7)((0,n.l7)({isCustomElement:s,delimiters:o},i),a);r.render=bs(e,h)}}t.render=r.render||n.dG,ys&&ys(t)}Rs(t),(0,i.Jd)(),Ut(t),(0,i.lk)(),Ss()}function Ts(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,s){return(0,i.j)(t,"get","$attrs"),e[s]}}))}function Os(t){const e=e=>{t.exposed=e||{}};return{get attrs(){return Ts(t)},slots:t.slots,emit:t.emit,expose:e}}function Ns(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy((0,i.WL)((0,i.Xl)(t.exposed)),{get(e,s){return s in e?e[s]:s in Lt?Lt[s](t):void 0},has(t,e){return e in t||e in Lt}}))}function ws(t,e=!0){return(0,n.mf)(t)?t.displayName||t.name:t.name||e&&t.__name}function ks(t){return(0,n.mf)(t)&&"__vccOpts"in t}const Ps=(t,e)=>(0,i.Fl)(t,e,As);function Fs(t,e,s){const i=arguments.length;return 2===i?(0,n.Kn)(e)&&!(0,n.kJ)(e)?We(e)?Qe(t,null,[e]):Qe(t,e):Qe(t,null,e):(i>3?s=Array.prototype.slice.call(arguments,2):3===i&&We(s)&&(s=[s]),Qe(t,e,s))}const Ms=Symbol.for("v-scx"),xs=()=>{{const t=ae(Ms);return t}};const Ls="3.3.4"},7823:function(t,e,s){"use strict";s.d(e,{F8:function(){return ht},iM:function(){return at},ri:function(){return ft}});s(9308);var i=s(1653),n=s(7552),r=s(1944);const o="http://www.w3.org/2000/svg",a="undefined"!==typeof document?document:null,h=a&&a.createElement("template"),l={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,i)=>{const n=e?a.createElementNS(o,t):a.createElement(t,s?{is:s}:void 0);return"select"===t&&i&&null!=i.multiple&&n.setAttribute("multiple",i.multiple),n},createText:t=>a.createTextNode(t),createComment:t=>a.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>a.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,i,n,r){const o=s?s.previousSibling:e.lastChild;if(n&&(n===r||n.nextSibling)){while(1)if(e.insertBefore(n.cloneNode(!0),s),n===r||!(n=n.nextSibling))break}else{h.innerHTML=i?`<svg>${t}</svg>`:t;const n=h.content;if(i){const t=n.firstChild;while(t.firstChild)n.appendChild(t.firstChild);n.removeChild(t)}e.insertBefore(n,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}};function u(t,e,s){const i=t._vtc;i&&(e=(e?[e,...i]:[...i]).join(" ")),null==e?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}function c(t,e,s){const n=t.style,r=(0,i.HD)(s);if(s&&!r){if(e&&!(0,i.HD)(e))for(const t in e)null==s[t]&&f(n,t,"");for(const t in s)f(n,t,s[t])}else{const i=n.display;r?e!==s&&(n.cssText=s):e&&t.removeAttribute("style"),"_vod"in t&&(n.display=i)}}const p=/\s*!important$/;function f(t,e,s){if((0,i.kJ)(s))s.forEach((s=>f(t,e,s)));else if(null==s&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const n=g(t,e);p.test(s)?t.setProperty((0,i.rs)(n),s.replace(p,""),"important"):t[n]=s}}const d=["Webkit","Moz","ms"],m={};function g(t,e){const s=m[e];if(s)return s;let n=(0,i._A)(e);if("filter"!==n&&n in t)return m[e]=n;n=(0,i.kC)(n);for(let i=0;i<d.length;i++){const s=d[i]+n;if(s in t)return m[e]=s}return e}const _="http://www.w3.org/1999/xlink";function R(t,e,s,n,r){if(n&&e.startsWith("xlink:"))null==s?t.removeAttributeNS(_,e.slice(6,e.length)):t.setAttributeNS(_,e,s);else{const n=(0,i.Pq)(e);null==s||n&&!(0,i.yA)(s)?t.removeAttribute(e):t.setAttribute(e,n?"":s)}}function S(t,e,s,n,r,o,a){if("innerHTML"===e||"textContent"===e)return n&&a(n,r,o),void(t[e]=null==s?"":s);const h=t.tagName;if("value"===e&&"PROGRESS"!==h&&!h.includes("-")){t._value=s;const i="OPTION"===h?t.getAttribute("value"):t.value,n=null==s?"":s;return i!==n&&(t.value=n),void(null==s&&t.removeAttribute(e))}let l=!1;if(""===s||null==s){const n=typeof t[e];"boolean"===n?s=(0,i.yA)(s):null==s&&"string"===n?(s="",l=!0):"number"===n&&(s=0,l=!0)}try{t[e]=s}catch(u){0}l&&t.removeAttribute(e)}function v(t,e,s,i){t.addEventListener(e,s,i)}function b(t,e,s,i){t.removeEventListener(e,s,i)}function y(t,e,s,i,n=null){const r=t._vei||(t._vei={}),o=r[e];if(i&&o)o.value=i;else{const[s,a]=C(e);if(i){const o=r[e]=T(i,n);v(t,s,o,a)}else o&&(b(t,s,o,a),r[e]=void 0)}}const A=/(?:Once|Passive|Capture)$/;function C(t){let e;if(A.test(t)){let s;e={};while(s=t.match(A))t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}const s=":"===t[2]?t.slice(3):(0,i.rs)(t.slice(2));return[s,e]}let I=0;const E=Promise.resolve(),D=()=>I||(E.then((()=>I=0)),I=Date.now());function T(t,e){const s=t=>{if(t._vts){if(t._vts<=s.attached)return}else t._vts=Date.now();(0,n.$d)(O(t,s.value),e,5,[t])};return s.value=t,s.attached=D(),s}function O(t,e){if((0,i.kJ)(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map((t=>e=>!e._stopped&&t&&t(e)))}return e}const N=/^on[a-z]/,w=(t,e,s,n,r=!1,o,a,h,l)=>{"class"===e?u(t,n,r):"style"===e?c(t,s,n):(0,i.F7)(e)?(0,i.tR)(e)||y(t,e,s,n,a):("."===e[0]?(e=e.slice(1),1):"^"===e[0]?(e=e.slice(1),0):k(t,e,n,r))?S(t,e,n,o,a,h,l):("true-value"===e?t._trueValue=n:"false-value"===e&&(t._falseValue=n),R(t,e,n,r))};function k(t,e,s,n){return n?"innerHTML"===e||"textContent"===e||!!(e in t&&N.test(e)&&(0,i.mf)(s)):"spellcheck"!==e&&"draggable"!==e&&"translate"!==e&&("form"!==e&&(("list"!==e||"INPUT"!==t.tagName)&&(("type"!==e||"TEXTAREA"!==t.tagName)&&((!N.test(e)||!(0,i.HD)(s))&&e in t))))}"undefined"!==typeof HTMLElement&&HTMLElement;const P="transition",F="animation",M=(t,{slots:e})=>(0,n.h)(n.P$,G(t),e);M.displayName="Transition";const x={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},L=M.props=(0,i.l7)({},n.nJ,x),V=(t,e=[])=>{(0,i.kJ)(t)?t.forEach((t=>t(...e))):t&&t(...e)},B=t=>!!t&&((0,i.kJ)(t)?t.some((t=>t.length>1)):t.length>1);function G(t){const e={};for(const i in t)i in x||(e[i]=t[i]);if(!1===t.css)return e;const{name:s="v",type:n,duration:r,enterFromClass:o=`${s}-enter-from`,enterActiveClass:a=`${s}-enter-active`,enterToClass:h=`${s}-enter-to`,appearFromClass:l=o,appearActiveClass:u=a,appearToClass:c=h,leaveFromClass:p=`${s}-leave-from`,leaveActiveClass:f=`${s}-leave-active`,leaveToClass:d=`${s}-leave-to`}=t,m=q(r),g=m&&m[0],_=m&&m[1],{onBeforeEnter:R,onEnter:S,onEnterCancelled:v,onLeave:b,onLeaveCancelled:y,onBeforeAppear:A=R,onAppear:C=S,onAppearCancelled:I=v}=e,E=(t,e,s)=>{j(t,e?c:h),j(t,e?u:a),s&&s()},D=(t,e)=>{t._isLeaving=!1,j(t,p),j(t,d),j(t,f),e&&e()},T=t=>(e,s)=>{const i=t?C:S,r=()=>E(e,t,s);V(i,[e,r]),H((()=>{j(e,t?l:o),X(e,t?c:h),B(i)||W(e,n,g,r)}))};return(0,i.l7)(e,{onBeforeEnter(t){V(R,[t]),X(t,o),X(t,a)},onBeforeAppear(t){V(A,[t]),X(t,l),X(t,u)},onEnter:T(!1),onAppear:T(!0),onLeave(t,e){t._isLeaving=!0;const s=()=>D(t,e);X(t,p),K(),X(t,f),H((()=>{t._isLeaving&&(j(t,p),X(t,d),B(b)||W(t,n,_,s))})),V(b,[t,s])},onEnterCancelled(t){E(t,!1),V(v,[t])},onAppearCancelled(t){E(t,!0),V(I,[t])},onLeaveCancelled(t){D(t),V(y,[t])}})}function q(t){if(null==t)return null;if((0,i.Kn)(t))return[U(t.enter),U(t.leave)];{const e=U(t);return[e,e]}}function U(t){const e=(0,i.He)(t);return e}function X(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.add(e))),(t._vtc||(t._vtc=new Set)).add(e)}function j(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.remove(e)));const{_vtc:s}=t;s&&(s.delete(e),s.size||(t._vtc=void 0))}function H(t){requestAnimationFrame((()=>{requestAnimationFrame(t)}))}let Y=0;function W(t,e,s,i){const n=t._endId=++Y,r=()=>{n===t._endId&&i()};if(s)return setTimeout(r,s);const{type:o,timeout:a,propCount:h}=$(t,e);if(!o)return i();const l=o+"end";let u=0;const c=()=>{t.removeEventListener(l,p),r()},p=e=>{e.target===t&&++u>=h&&c()};setTimeout((()=>{u<h&&c()}),a+1),t.addEventListener(l,p)}function $(t,e){const s=window.getComputedStyle(t),i=t=>(s[t]||"").split(", "),n=i(`${P}Delay`),r=i(`${P}Duration`),o=Z(n,r),a=i(`${F}Delay`),h=i(`${F}Duration`),l=Z(a,h);let u=null,c=0,p=0;e===P?o>0&&(u=P,c=o,p=r.length):e===F?l>0&&(u=F,c=l,p=h.length):(c=Math.max(o,l),u=c>0?o>l?P:F:null,p=u?u===P?r.length:h.length:0);const f=u===P&&/\b(transform|all)(,|$)/.test(i(`${P}Property`).toString());return{type:u,timeout:c,propCount:p,hasTransform:f}}function Z(t,e){while(t.length<e.length)t=t.concat(t);return Math.max(...e.map(((e,s)=>J(e)+J(t[s]))))}function J(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function K(){return document.body.offsetHeight}const z=new WeakMap,Q=new WeakMap,tt={name:"TransitionGroup",props:(0,i.l7)({},L,{tag:String,moveClass:String}),setup(t,{slots:e}){const s=(0,n.FN)(),i=(0,n.Y8)();let o,a;return(0,n.ic)((()=>{if(!o.length)return;const e=t.moveClass||`${t.name||"v"}-move`;if(!nt(o[0].el,s.vnode.el,e))return;o.forEach(et),o.forEach(st);const i=o.filter(it);K(),i.forEach((t=>{const s=t.el,i=s.style;X(s,e),i.transform=i.webkitTransform=i.transitionDuration="";const n=s._moveCb=t=>{t&&t.target!==s||t&&!/transform$/.test(t.propertyName)||(s.removeEventListener("transitionend",n),s._moveCb=null,j(s,e))};s.addEventListener("transitionend",n)}))})),()=>{const h=(0,r.IU)(t),l=G(h);let u=h.tag||n.HY;o=a,a=e.default?(0,n.Q6)(e.default()):[];for(let t=0;t<a.length;t++){const e=a[t];null!=e.key&&(0,n.nK)(e,(0,n.U2)(e,l,i,s))}if(o)for(let t=0;t<o.length;t++){const e=o[t];(0,n.nK)(e,(0,n.U2)(e,l,i,s)),z.set(e,e.el.getBoundingClientRect())}return(0,n.Wm)(u,null,a)}}};tt.props;function et(t){const e=t.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function st(t){Q.set(t,t.el.getBoundingClientRect())}function it(t){const e=z.get(t),s=Q.get(t),i=e.left-s.left,n=e.top-s.top;if(i||n){const e=t.el.style;return e.transform=e.webkitTransform=`translate(${i}px,${n}px)`,e.transitionDuration="0s",t}}function nt(t,e,s){const i=t.cloneNode();t._vtc&&t._vtc.forEach((t=>{t.split(/\s+/).forEach((t=>t&&i.classList.remove(t)))})),s.split(/\s+/).forEach((t=>t&&i.classList.add(t))),i.style.display="none";const n=1===e.nodeType?e:e.parentNode;n.appendChild(i);const{hasTransform:r}=$(i);return n.removeChild(i),r}const rt=["ctrl","shift","alt","meta"],ot={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&0!==t.button,middle:t=>"button"in t&&1!==t.button,right:t=>"button"in t&&2!==t.button,exact:(t,e)=>rt.some((s=>t[`${s}Key`]&&!e.includes(s)))},at=(t,e)=>(s,...i)=>{for(let t=0;t<e.length;t++){const i=ot[e[t]];if(i&&i(s,e))return}return t(s,...i)},ht={beforeMount(t,{value:e},{transition:s}){t._vod="none"===t.style.display?"":t.style.display,s&&e?s.beforeEnter(t):lt(t,e)},mounted(t,{value:e},{transition:s}){s&&e&&s.enter(t)},updated(t,{value:e,oldValue:s},{transition:i}){!e!==!s&&(i?e?(i.beforeEnter(t),lt(t,!0),i.enter(t)):i.leave(t,(()=>{lt(t,!1)})):lt(t,e))},beforeUnmount(t,{value:e}){lt(t,e)}};function lt(t,e){t.style.display=e?t._vod:"none"}const ut=(0,i.l7)({patchProp:w},l);let ct;function pt(){return ct||(ct=(0,n.Us)(ut))}const ft=(...t)=>{const e=pt().createApp(...t);const{mount:s}=e;return e.mount=t=>{const n=dt(t);if(!n)return;const r=e._component;(0,i.mf)(r)||r.render||r.template||(r.template=n.innerHTML),n.innerHTML="";const o=s(n,!1,n instanceof SVGElement);return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e};function dt(t){if((0,i.HD)(t)){const e=document.querySelector(t);return e}return t}},1653:function(t,e,s){"use strict";s.d(e,{C_:function(){return z},DM:function(){return _},E9:function(){return j},F7:function(){return l},Gg:function(){return N},HD:function(){return b},He:function(){return U},Kj:function(){return S},Kn:function(){return A},NO:function(){return a},Nj:function(){return G},Od:function(){return p},PO:function(){return T},Pq:function(){return tt},RI:function(){return d},S0:function(){return O},W7:function(){return D},WV:function(){return it},Z6:function(){return r},_A:function(){return P},_N:function(){return g},aU:function(){return V},dG:function(){return o},e1:function(){return Y},fY:function(){return i},h5:function(){return q},hR:function(){return L},hq:function(){return nt},ir:function(){return B},j5:function(){return W},kC:function(){return x},kJ:function(){return m},kT:function(){return n},l7:function(){return c},mf:function(){return v},rs:function(){return M},tI:function(){return C},tR:function(){return u},yA:function(){return et},yk:function(){return y},zw:function(){return rt}});s(9308);function i(t,e){const s=Object.create(null),i=t.split(",");for(let n=0;n<i.length;n++)s[i[n]]=!0;return e?t=>!!s[t.toLowerCase()]:t=>!!s[t]}const n={},r=[],o=()=>{},a=()=>!1,h=/^on[^a-z]/,l=t=>h.test(t),u=t=>t.startsWith("onUpdate:"),c=Object.assign,p=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},f=Object.prototype.hasOwnProperty,d=(t,e)=>f.call(t,e),m=Array.isArray,g=t=>"[object Map]"===E(t),_=t=>"[object Set]"===E(t),R=t=>"[object Date]"===E(t),S=t=>"[object RegExp]"===E(t),v=t=>"function"===typeof t,b=t=>"string"===typeof t,y=t=>"symbol"===typeof t,A=t=>null!==t&&"object"===typeof t,C=t=>A(t)&&v(t.then)&&v(t.catch),I=Object.prototype.toString,E=t=>I.call(t),D=t=>E(t).slice(8,-1),T=t=>"[object Object]"===E(t),O=t=>b(t)&&"NaN"!==t&&"-"!==t[0]&&""+parseInt(t,10)===t,N=i(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),w=t=>{const e=Object.create(null);return s=>{const i=e[s];return i||(e[s]=t(s))}},k=/-(\w)/g,P=w((t=>t.replace(k,((t,e)=>e?e.toUpperCase():"")))),F=/\B([A-Z])/g,M=w((t=>t.replace(F,"-$1").toLowerCase())),x=w((t=>t.charAt(0).toUpperCase()+t.slice(1))),L=w((t=>t?`on${x(t)}`:"")),V=(t,e)=>!Object.is(t,e),B=(t,e)=>{for(let s=0;s<t.length;s++)t[s](e)},G=(t,e,s)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:s})},q=t=>{const e=parseFloat(t);return isNaN(e)?t:e},U=t=>{const e=b(t)?Number(t):NaN;return isNaN(e)?t:e};let X;const j=()=>X||(X="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof s.g?s.g:{});const H="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console",Y=i(H);function W(t){if(m(t)){const e={};for(let s=0;s<t.length;s++){const i=t[s],n=b(i)?K(i):W(i);if(n)for(const t in n)e[t]=n[t]}return e}return b(t)||A(t)?t:void 0}const $=/;(?![^(]*\))/g,Z=/:([^]+)/,J=/\/\*[^]*?\*\//g;function K(t){const e={};return t.replace(J,"").split($).forEach((t=>{if(t){const s=t.split(Z);s.length>1&&(e[s[0].trim()]=s[1].trim())}})),e}function z(t){let e="";if(b(t))e=t;else if(m(t))for(let s=0;s<t.length;s++){const i=z(t[s]);i&&(e+=i+" ")}else if(A(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const Q="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",tt=i(Q);function et(t){return!!t||""===t}function st(t,e){if(t.length!==e.length)return!1;let s=!0;for(let i=0;s&&i<t.length;i++)s=it(t[i],e[i]);return s}function it(t,e){if(t===e)return!0;let s=R(t),i=R(e);if(s||i)return!(!s||!i)&&t.getTime()===e.getTime();if(s=y(t),i=y(e),s||i)return t===e;if(s=m(t),i=m(e),s||i)return!(!s||!i)&&st(t,e);if(s=A(t),i=A(e),s||i){if(!s||!i)return!1;const n=Object.keys(t).length,r=Object.keys(e).length;if(n!==r)return!1;for(const s in t){const i=t.hasOwnProperty(s),n=e.hasOwnProperty(s);if(i&&!n||!i&&n||!it(t[s],e[s]))return!1}}return String(t)===String(e)}function nt(t,e){return t.findIndex((t=>it(t,e)))}const rt=t=>b(t)?t:null==t?"":m(t)||A(t)&&(t.toString===I||!v(t.toString))?JSON.stringify(t,ot,2):String(t),ot=(t,e)=>e&&e.__v_isRef?ot(t,e.value):g(e)?{[`Map(${e.size})`]:[...e.entries()].reduce(((t,[e,s])=>(t[`${e} =>`]=s,t)),{})}:_(e)?{[`Set(${e.size})`]:[...e.values()]}:!A(e)||m(e)||T(e)?e:String(e)},1433:function(t,e,s){"use strict";s.d(e,{Ql:function(){return fe}});s(9308),s(4306),s(8198),s(728),s(3078);var i=s(7552),n=s(1944),r=s(1653),o=s(7823),a=Object.defineProperty,h=(t,e,s)=>e in t?a(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,l=(t,e,s)=>(h(t,"symbol"!=typeof e?e+"":e,s),s),u=function(){this.state=new Array(8);for(var t=0;t<this.state.length;t++)this.state[t]=64};u.BUTTON_A=0,u.BUTTON_B=1,u.BUTTON_SELECT=2,u.BUTTON_START=3,u.BUTTON_UP=4,u.BUTTON_DOWN=5,u.BUTTON_LEFT=6,u.BUTTON_RIGHT=7,u.prototype={buttonDown:function(t){this.state[t]=65},buttonUp:function(t){this.state[t]=64}};var c=u,p={copyArrayElements:function(t,e,s,i,n){for(var r=0;r<n;++r)s[i+r]=t[e+r]},copyArray:function(t){return t.slice(0)},fromJSON:function(t,e){for(var s=0;s<t.JSON_PROPERTIES.length;s++)t[t.JSON_PROPERTIES[s]]=e[t.JSON_PROPERTIES[s]]},toJSON:function(t){for(var e={},s=0;s<t.JSON_PROPERTIES.length;s++)e[t.JSON_PROPERTIES[s]]=t[t.JSON_PROPERTIES[s]];return e}},f=p,d=function(t){this.nes=t,this.mem=null,this.REG_ACC=null,this.REG_X=null,this.REG_Y=null,this.REG_SP=null,this.REG_PC=null,this.REG_PC_NEW=null,this.REG_STATUS=null,this.F_CARRY=null,this.F_DECIMAL=null,this.F_INTERRUPT=null,this.F_INTERRUPT_NEW=null,this.F_OVERFLOW=null,this.F_SIGN=null,this.F_ZERO=null,this.F_NOTUSED=null,this.F_NOTUSED_NEW=null,this.F_BRK=null,this.F_BRK_NEW=null,this.opdata=null,this.cyclesToHalt=null,this.crash=null,this.irqRequested=null,this.irqType=null,this.reset()};d.prototype={IRQ_NORMAL:0,IRQ_NMI:1,IRQ_RESET:2,reset:function(){this.mem=new Array(65536);for(var t=0;t<8192;t++)this.mem[t]=255;for(var e=0;e<4;e++){var s=2048*e;this.mem[s+8]=247,this.mem[s+9]=239,this.mem[s+10]=223,this.mem[s+15]=191}for(var i=8193;i<this.mem.length;i++)this.mem[i]=0;this.REG_ACC=0,this.REG_X=0,this.REG_Y=0,this.REG_SP=511,this.REG_PC=32767,this.REG_PC_NEW=32767,this.REG_STATUS=40,this.setStatus(40),this.F_CARRY=0,this.F_DECIMAL=0,this.F_INTERRUPT=1,this.F_INTERRUPT_NEW=1,this.F_OVERFLOW=0,this.F_SIGN=0,this.F_ZERO=1,this.F_NOTUSED=1,this.F_NOTUSED_NEW=1,this.F_BRK=1,this.F_BRK_NEW=1,this.opdata=(new m).opdata,this.cyclesToHalt=0,this.crash=!1,this.irqRequested=!1,this.irqType=null},emulate:function(){var t,e;if(this.irqRequested){switch(t=this.F_CARRY|(0===this.F_ZERO?1:0)<<1|this.F_INTERRUPT<<2|this.F_DECIMAL<<3|this.F_BRK<<4|this.F_NOTUSED<<5|this.F_OVERFLOW<<6|this.F_SIGN<<7,this.REG_PC_NEW=this.REG_PC,this.F_INTERRUPT_NEW=this.F_INTERRUPT,this.irqType){case 0:if(0!==this.F_INTERRUPT)break;this.doIrq(t);break;case 1:this.doNonMaskableInterrupt(t);break;case 2:this.doResetInterrupt();break}this.REG_PC=this.REG_PC_NEW,this.F_INTERRUPT=this.F_INTERRUPT_NEW,this.F_BRK=this.F_BRK_NEW,this.irqRequested=!1}var s=this.opdata[this.nes.mmap.load(this.REG_PC+1)],i=s>>24,n=0,r=s>>8&255,o=this.REG_PC;this.REG_PC+=s>>16&255;var a=0;switch(r){case 0:a=this.load(o+2);break;case 1:a=this.load(o+2),a+=a<128?this.REG_PC:this.REG_PC-256;break;case 2:break;case 3:a=this.load16bit(o+2);break;case 4:a=this.REG_ACC;break;case 5:a=this.REG_PC;break;case 6:a=this.load(o+2)+this.REG_X&255;break;case 7:a=this.load(o+2)+this.REG_Y&255;break;case 8:a=this.load16bit(o+2),(65280&a)!==(a+this.REG_X&65280)&&(n=1),a+=this.REG_X;break;case 9:a=this.load16bit(o+2),(65280&a)!==(a+this.REG_Y&65280)&&(n=1),a+=this.REG_Y;break;case 10:a=this.load(o+2),(65280&a)!==(a+this.REG_X&65280)&&(n=1),a+=this.REG_X,a&=255,a=this.load16bit(a);break;case 11:a=this.load16bit(this.load(o+2)),(65280&a)!==(a+this.REG_Y&65280)&&(n=1),a+=this.REG_Y;break;case 12:a=this.load16bit(o+2),a=a<8191?this.mem[a]+(this.mem[65280&a|1+(255&a)&255]<<8):this.nes.mmap.load(a)+(this.nes.mmap.load(65280&a|1+(255&a)&255)<<8);break}switch(a&=65535,255&s){case 0:t=this.REG_ACC+this.load(a)+this.F_CARRY,0===(128&(this.REG_ACC^this.load(a)))&&0!==(128&(this.REG_ACC^t))?this.F_OVERFLOW=1:this.F_OVERFLOW=0,this.F_CARRY=t>255?1:0,this.F_SIGN=t>>7&1,this.F_ZERO=255&t,this.REG_ACC=255&t,i+=n;break;case 1:this.REG_ACC=this.REG_ACC&this.load(a),this.F_SIGN=this.REG_ACC>>7&1,this.F_ZERO=this.REG_ACC,11!==r&&(i+=n);break;case 2:4===r?(this.F_CARRY=this.REG_ACC>>7&1,this.REG_ACC=this.REG_ACC<<1&255,this.F_SIGN=this.REG_ACC>>7&1,this.F_ZERO=this.REG_ACC):(t=this.load(a),this.F_CARRY=t>>7&1,t=t<<1&255,this.F_SIGN=t>>7&1,this.F_ZERO=t,this.write(a,t));break;case 3:0===this.F_CARRY&&(i+=(65280&o)!==(65280&a)?2:1,this.REG_PC=a);break;case 4:1===this.F_CARRY&&(i+=(65280&o)!==(65280&a)?2:1,this.REG_PC=a);break;case 5:0===this.F_ZERO&&(i+=(65280&o)!==(65280&a)?2:1,this.REG_PC=a);break;case 6:t=this.load(a),this.F_SIGN=t>>7&1,this.F_OVERFLOW=t>>6&1,t&=this.REG_ACC,this.F_ZERO=t;break;case 7:1===this.F_SIGN&&(i++,this.REG_PC=a);break;case 8:0!==this.F_ZERO&&(i+=(65280&o)!==(65280&a)?2:1,this.REG_PC=a);break;case 9:0===this.F_SIGN&&(i+=(65280&o)!==(65280&a)?2:1,this.REG_PC=a);break;case 10:this.REG_PC+=2,this.push(this.REG_PC>>8&255),this.push(255&this.REG_PC),this.F_BRK=1,this.push(this.F_CARRY|(0===this.F_ZERO?1:0)<<1|this.F_INTERRUPT<<2|this.F_DECIMAL<<3|this.F_BRK<<4|this.F_NOTUSED<<5|this.F_OVERFLOW<<6|this.F_SIGN<<7),this.F_INTERRUPT=1,this.REG_PC=this.load16bit(65534),this.REG_PC--;break;case 11:0===this.F_OVERFLOW&&(i+=(65280&o)!==(65280&a)?2:1,this.REG_PC=a);break;case 12:1===this.F_OVERFLOW&&(i+=(65280&o)!==(65280&a)?2:1,this.REG_PC=a);break;case 13:this.F_CARRY=0;break;case 14:this.F_DECIMAL=0;break;case 15:this.F_INTERRUPT=0;break;case 16:this.F_OVERFLOW=0;break;case 17:t=this.REG_ACC-this.load(a),this.F_CARRY=t>=0?1:0,this.F_SIGN=t>>7&1,this.F_ZERO=255&t,i+=n;break;case 18:t=this.REG_X-this.load(a),this.F_CARRY=t>=0?1:0,this.F_SIGN=t>>7&1,this.F_ZERO=255&t;break;case 19:t=this.REG_Y-this.load(a),this.F_CARRY=t>=0?1:0,this.F_SIGN=t>>7&1,this.F_ZERO=255&t;break;case 20:t=this.load(a)-1&255,this.F_SIGN=t>>7&1,this.F_ZERO=t,this.write(a,t);break;case 21:this.REG_X=this.REG_X-1&255,this.F_SIGN=this.REG_X>>7&1,this.F_ZERO=this.REG_X;break;case 22:this.REG_Y=this.REG_Y-1&255,this.F_SIGN=this.REG_Y>>7&1,this.F_ZERO=this.REG_Y;break;case 23:this.REG_ACC=255&(this.load(a)^this.REG_ACC),this.F_SIGN=this.REG_ACC>>7&1,this.F_ZERO=this.REG_ACC,i+=n;break;case 24:t=this.load(a)+1&255,this.F_SIGN=t>>7&1,this.F_ZERO=t,this.write(a,255&t);break;case 25:this.REG_X=this.REG_X+1&255,this.F_SIGN=this.REG_X>>7&1,this.F_ZERO=this.REG_X;break;case 26:this.REG_Y++,this.REG_Y&=255,this.F_SIGN=this.REG_Y>>7&1,this.F_ZERO=this.REG_Y;break;case 27:this.REG_PC=a-1;break;case 28:this.push(this.REG_PC>>8&255),this.push(255&this.REG_PC),this.REG_PC=a-1;break;case 29:this.REG_ACC=this.load(a),this.F_SIGN=this.REG_ACC>>7&1,this.F_ZERO=this.REG_ACC,i+=n;break;case 30:this.REG_X=this.load(a),this.F_SIGN=this.REG_X>>7&1,this.F_ZERO=this.REG_X,i+=n;break;case 31:this.REG_Y=this.load(a),this.F_SIGN=this.REG_Y>>7&1,this.F_ZERO=this.REG_Y,i+=n;break;case 32:4===r?(t=255&this.REG_ACC,this.F_CARRY=1&t,t>>=1,this.REG_ACC=t):(t=255&this.load(a),this.F_CARRY=1&t,t>>=1,this.write(a,t)),this.F_SIGN=0,this.F_ZERO=t;break;case 33:break;case 34:t=255&(this.load(a)|this.REG_ACC),this.F_SIGN=t>>7&1,this.F_ZERO=t,this.REG_ACC=t,11!==r&&(i+=n);break;case 35:this.push(this.REG_ACC);break;case 36:this.F_BRK=1,this.push(this.F_CARRY|(0===this.F_ZERO?1:0)<<1|this.F_INTERRUPT<<2|this.F_DECIMAL<<3|this.F_BRK<<4|this.F_NOTUSED<<5|this.F_OVERFLOW<<6|this.F_SIGN<<7);break;case 37:this.REG_ACC=this.pull(),this.F_SIGN=this.REG_ACC>>7&1,this.F_ZERO=this.REG_ACC;break;case 38:t=this.pull(),this.F_CARRY=1&t,this.F_ZERO=1===(t>>1&1)?0:1,this.F_INTERRUPT=t>>2&1,this.F_DECIMAL=t>>3&1,this.F_BRK=t>>4&1,this.F_NOTUSED=t>>5&1,this.F_OVERFLOW=t>>6&1,this.F_SIGN=t>>7&1,this.F_NOTUSED=1;break;case 39:4===r?(t=this.REG_ACC,e=this.F_CARRY,this.F_CARRY=t>>7&1,t=(t<<1&255)+e,this.REG_ACC=t):(t=this.load(a),e=this.F_CARRY,this.F_CARRY=t>>7&1,t=(t<<1&255)+e,this.write(a,t)),this.F_SIGN=t>>7&1,this.F_ZERO=t;break;case 40:4===r?(e=this.F_CARRY<<7,this.F_CARRY=1&this.REG_ACC,t=(this.REG_ACC>>1)+e,this.REG_ACC=t):(t=this.load(a),e=this.F_CARRY<<7,this.F_CARRY=1&t,t=(t>>1)+e,this.write(a,t)),this.F_SIGN=t>>7&1,this.F_ZERO=t;break;case 41:if(t=this.pull(),this.F_CARRY=1&t,this.F_ZERO=0===(t>>1&1)?1:0,this.F_INTERRUPT=t>>2&1,this.F_DECIMAL=t>>3&1,this.F_BRK=t>>4&1,this.F_NOTUSED=t>>5&1,this.F_OVERFLOW=t>>6&1,this.F_SIGN=t>>7&1,this.REG_PC=this.pull(),this.REG_PC+=this.pull()<<8,65535===this.REG_PC)return;this.REG_PC--,this.F_NOTUSED=1;break;case 42:if(this.REG_PC=this.pull(),this.REG_PC+=this.pull()<<8,65535===this.REG_PC)return;break;case 43:t=this.REG_ACC-this.load(a)-(1-this.F_CARRY),this.F_SIGN=t>>7&1,this.F_ZERO=255&t,0!==(128&(this.REG_ACC^t))&&0!==(128&(this.REG_ACC^this.load(a)))?this.F_OVERFLOW=1:this.F_OVERFLOW=0,this.F_CARRY=t<0?0:1,this.REG_ACC=255&t,11!==r&&(i+=n);break;case 44:this.F_CARRY=1;break;case 45:this.F_DECIMAL=1;break;case 46:this.F_INTERRUPT=1;break;case 47:this.write(a,this.REG_ACC);break;case 48:this.write(a,this.REG_X);break;case 49:this.write(a,this.REG_Y);break;case 50:this.REG_X=this.REG_ACC,this.F_SIGN=this.REG_ACC>>7&1,this.F_ZERO=this.REG_ACC;break;case 51:this.REG_Y=this.REG_ACC,this.F_SIGN=this.REG_ACC>>7&1,this.F_ZERO=this.REG_ACC;break;case 52:this.REG_X=this.REG_SP-256,this.F_SIGN=this.REG_SP>>7&1,this.F_ZERO=this.REG_X;break;case 53:this.REG_ACC=this.REG_X,this.F_SIGN=this.REG_X>>7&1,this.F_ZERO=this.REG_X;break;case 54:this.REG_SP=this.REG_X+256,this.stackWrap();break;case 55:this.REG_ACC=this.REG_Y,this.F_SIGN=this.REG_Y>>7&1,this.F_ZERO=this.REG_Y;break;case 56:t=this.REG_ACC&this.load(a),this.F_CARRY=1&t,this.REG_ACC=this.F_ZERO=t>>1,this.F_SIGN=0;break;case 57:this.REG_ACC=this.F_ZERO=this.REG_ACC&this.load(a),this.F_CARRY=this.F_SIGN=this.REG_ACC>>7&1;break;case 58:t=this.REG_ACC&this.load(a),this.REG_ACC=this.F_ZERO=(t>>1)+(this.F_CARRY<<7),this.F_SIGN=this.F_CARRY,this.F_CARRY=t>>7&1,this.F_OVERFLOW=1&(t>>7^t>>6);break;case 59:t=(this.REG_X&this.REG_ACC)-this.load(a),this.F_SIGN=t>>7&1,this.F_ZERO=255&t,0!==(128&(this.REG_X^t))&&0!==(128&(this.REG_X^this.load(a)))?this.F_OVERFLOW=1:this.F_OVERFLOW=0,this.F_CARRY=t<0?0:1,this.REG_X=255&t;break;case 60:this.REG_ACC=this.REG_X=this.F_ZERO=this.load(a),this.F_SIGN=this.REG_ACC>>7&1,i+=n;break;case 61:this.write(a,this.REG_ACC&this.REG_X);break;case 62:t=this.load(a)-1&255,this.write(a,t),t=this.REG_ACC-t,this.F_CARRY=t>=0?1:0,this.F_SIGN=t>>7&1,this.F_ZERO=255&t,11!==r&&(i+=n);break;case 63:t=this.load(a)+1&255,this.write(a,t),t=this.REG_ACC-t-(1-this.F_CARRY),this.F_SIGN=t>>7&1,this.F_ZERO=255&t,0!==(128&(this.REG_ACC^t))&&0!==(128&(this.REG_ACC^this.load(a)))?this.F_OVERFLOW=1:this.F_OVERFLOW=0,this.F_CARRY=t<0?0:1,this.REG_ACC=255&t,11!==r&&(i+=n);break;case 64:t=this.load(a),e=this.F_CARRY,this.F_CARRY=t>>7&1,t=(t<<1&255)+e,this.write(a,t),this.REG_ACC=this.REG_ACC&t,this.F_SIGN=this.REG_ACC>>7&1,this.F_ZERO=this.REG_ACC,11!==r&&(i+=n);break;case 65:t=this.load(a),e=this.F_CARRY<<7,this.F_CARRY=1&t,t=(t>>1)+e,this.write(a,t),t=this.REG_ACC+this.load(a)+this.F_CARRY,0===(128&(this.REG_ACC^this.load(a)))&&0!==(128&(this.REG_ACC^t))?this.F_OVERFLOW=1:this.F_OVERFLOW=0,this.F_CARRY=t>255?1:0,this.F_SIGN=t>>7&1,this.F_ZERO=255&t,this.REG_ACC=255&t,11!==r&&(i+=n);break;case 66:t=this.load(a),this.F_CARRY=t>>7&1,t=t<<1&255,this.write(a,t),this.REG_ACC=this.REG_ACC|t,this.F_SIGN=this.REG_ACC>>7&1,this.F_ZERO=this.REG_ACC,11!==r&&(i+=n);break;case 67:t=255&this.load(a),this.F_CARRY=1&t,t>>=1,this.write(a,t),this.REG_ACC=this.REG_ACC^t,this.F_SIGN=this.REG_ACC>>7&1,this.F_ZERO=this.REG_ACC,11!==r&&(i+=n);break;case 68:break;case 69:this.load(a),11!==r&&(i+=n);break;default:this.nes.stop(),this.nes.crashMessage="Game crashed, invalid opcode at address $"+o.toString(16);break}return i},load:function(t){return t<8192?this.mem[2047&t]:this.nes.mmap.load(t)},load16bit:function(t){return t<8191?this.mem[2047&t]|this.mem[t+1&2047]<<8:this.nes.mmap.load(t)|this.nes.mmap.load(t+1)<<8},write:function(t,e){t<8192?this.mem[2047&t]=e:this.nes.mmap.write(t,e)},requestIrq:function(t){this.irqRequested&&t===this.IRQ_NORMAL||(this.irqRequested=!0,this.irqType=t)},push:function(t){this.nes.mmap.write(this.REG_SP,t),this.REG_SP--,this.REG_SP=256|255&this.REG_SP},stackWrap:function(){this.REG_SP=256|255&this.REG_SP},pull:function(){return this.REG_SP++,this.REG_SP=256|255&this.REG_SP,this.nes.mmap.load(this.REG_SP)},pageCrossed:function(t,e){return(65280&t)!==(65280&e)},haltCycles:function(t){this.cyclesToHalt+=t},doNonMaskableInterrupt:function(t){0!==(128&this.nes.mmap.load(8192))&&(this.REG_PC_NEW++,this.push(this.REG_PC_NEW>>8&255),this.push(255&this.REG_PC_NEW),this.push(t),this.REG_PC_NEW=this.nes.mmap.load(65530)|this.nes.mmap.load(65531)<<8,this.REG_PC_NEW--)},doResetInterrupt:function(){this.REG_PC_NEW=this.nes.mmap.load(65532)|this.nes.mmap.load(65533)<<8,this.REG_PC_NEW--},doIrq:function(t){this.REG_PC_NEW++,this.push(this.REG_PC_NEW>>8&255),this.push(255&this.REG_PC_NEW),this.push(t),this.F_INTERRUPT_NEW=1,this.F_BRK_NEW=0,this.REG_PC_NEW=this.nes.mmap.load(65534)|this.nes.mmap.load(65535)<<8,this.REG_PC_NEW--},getStatus:function(){return this.F_CARRY|this.F_ZERO<<1|this.F_INTERRUPT<<2|this.F_DECIMAL<<3|this.F_BRK<<4|this.F_NOTUSED<<5|this.F_OVERFLOW<<6|this.F_SIGN<<7},setStatus:function(t){this.F_CARRY=1&t,this.F_ZERO=t>>1&1,this.F_INTERRUPT=t>>2&1,this.F_DECIMAL=t>>3&1,this.F_BRK=t>>4&1,this.F_NOTUSED=t>>5&1,this.F_OVERFLOW=t>>6&1,this.F_SIGN=t>>7&1},JSON_PROPERTIES:["mem","cyclesToHalt","irqRequested","irqType","REG_ACC","REG_X","REG_Y","REG_SP","REG_PC","REG_PC_NEW","REG_STATUS","F_CARRY","F_DECIMAL","F_INTERRUPT","F_INTERRUPT_NEW","F_OVERFLOW","F_SIGN","F_ZERO","F_NOTUSED","F_NOTUSED_NEW","F_BRK","F_BRK_NEW"],toJSON:function(){return f.toJSON(this)},fromJSON:function(t){f.fromJSON(this,t)}};var m=function(){this.opdata=new Array(256);for(var t=0;t<256;t++)this.opdata[t]=255;this.setOp(this.INS_ADC,105,this.ADDR_IMM,2,2),this.setOp(this.INS_ADC,101,this.ADDR_ZP,2,3),this.setOp(this.INS_ADC,117,this.ADDR_ZPX,2,4),this.setOp(this.INS_ADC,109,this.ADDR_ABS,3,4),this.setOp(this.INS_ADC,125,this.ADDR_ABSX,3,4),this.setOp(this.INS_ADC,121,this.ADDR_ABSY,3,4),this.setOp(this.INS_ADC,97,this.ADDR_PREIDXIND,2,6),this.setOp(this.INS_ADC,113,this.ADDR_POSTIDXIND,2,5),this.setOp(this.INS_AND,41,this.ADDR_IMM,2,2),this.setOp(this.INS_AND,37,this.ADDR_ZP,2,3),this.setOp(this.INS_AND,53,this.ADDR_ZPX,2,4),this.setOp(this.INS_AND,45,this.ADDR_ABS,3,4),this.setOp(this.INS_AND,61,this.ADDR_ABSX,3,4),this.setOp(this.INS_AND,57,this.ADDR_ABSY,3,4),this.setOp(this.INS_AND,33,this.ADDR_PREIDXIND,2,6),this.setOp(this.INS_AND,49,this.ADDR_POSTIDXIND,2,5),this.setOp(this.INS_ASL,10,this.ADDR_ACC,1,2),this.setOp(this.INS_ASL,6,this.ADDR_ZP,2,5),this.setOp(this.INS_ASL,22,this.ADDR_ZPX,2,6),this.setOp(this.INS_ASL,14,this.ADDR_ABS,3,6),this.setOp(this.INS_ASL,30,this.ADDR_ABSX,3,7),this.setOp(this.INS_BCC,144,this.ADDR_REL,2,2),this.setOp(this.INS_BCS,176,this.ADDR_REL,2,2),this.setOp(this.INS_BEQ,240,this.ADDR_REL,2,2),this.setOp(this.INS_BIT,36,this.ADDR_ZP,2,3),this.setOp(this.INS_BIT,44,this.ADDR_ABS,3,4),this.setOp(this.INS_BMI,48,this.ADDR_REL,2,2),this.setOp(this.INS_BNE,208,this.ADDR_REL,2,2),this.setOp(this.INS_BPL,16,this.ADDR_REL,2,2),this.setOp(this.INS_BRK,0,this.ADDR_IMP,1,7),this.setOp(this.INS_BVC,80,this.ADDR_REL,2,2),this.setOp(this.INS_BVS,112,this.ADDR_REL,2,2),this.setOp(this.INS_CLC,24,this.ADDR_IMP,1,2),this.setOp(this.INS_CLD,216,this.ADDR_IMP,1,2),this.setOp(this.INS_CLI,88,this.ADDR_IMP,1,2),this.setOp(this.INS_CLV,184,this.ADDR_IMP,1,2),this.setOp(this.INS_CMP,201,this.ADDR_IMM,2,2),this.setOp(this.INS_CMP,197,this.ADDR_ZP,2,3),this.setOp(this.INS_CMP,213,this.ADDR_ZPX,2,4),this.setOp(this.INS_CMP,205,this.ADDR_ABS,3,4),this.setOp(this.INS_CMP,221,this.ADDR_ABSX,3,4),this.setOp(this.INS_CMP,217,this.ADDR_ABSY,3,4),this.setOp(this.INS_CMP,193,this.ADDR_PREIDXIND,2,6),this.setOp(this.INS_CMP,209,this.ADDR_POSTIDXIND,2,5),this.setOp(this.INS_CPX,224,this.ADDR_IMM,2,2),this.setOp(this.INS_CPX,228,this.ADDR_ZP,2,3),this.setOp(this.INS_CPX,236,this.ADDR_ABS,3,4),this.setOp(this.INS_CPY,192,this.ADDR_IMM,2,2),this.setOp(this.INS_CPY,196,this.ADDR_ZP,2,3),this.setOp(this.INS_CPY,204,this.ADDR_ABS,3,4),this.setOp(this.INS_DEC,198,this.ADDR_ZP,2,5),this.setOp(this.INS_DEC,214,this.ADDR_ZPX,2,6),this.setOp(this.INS_DEC,206,this.ADDR_ABS,3,6),this.setOp(this.INS_DEC,222,this.ADDR_ABSX,3,7),this.setOp(this.INS_DEX,202,this.ADDR_IMP,1,2),this.setOp(this.INS_DEY,136,this.ADDR_IMP,1,2),this.setOp(this.INS_EOR,73,this.ADDR_IMM,2,2),this.setOp(this.INS_EOR,69,this.ADDR_ZP,2,3),this.setOp(this.INS_EOR,85,this.ADDR_ZPX,2,4),this.setOp(this.INS_EOR,77,this.ADDR_ABS,3,4),this.setOp(this.INS_EOR,93,this.ADDR_ABSX,3,4),this.setOp(this.INS_EOR,89,this.ADDR_ABSY,3,4),this.setOp(this.INS_EOR,65,this.ADDR_PREIDXIND,2,6),this.setOp(this.INS_EOR,81,this.ADDR_POSTIDXIND,2,5),this.setOp(this.INS_INC,230,this.ADDR_ZP,2,5),this.setOp(this.INS_INC,246,this.ADDR_ZPX,2,6),this.setOp(this.INS_INC,238,this.ADDR_ABS,3,6),this.setOp(this.INS_INC,254,this.ADDR_ABSX,3,7),this.setOp(this.INS_INX,232,this.ADDR_IMP,1,2),this.setOp(this.INS_INY,200,this.ADDR_IMP,1,2),this.setOp(this.INS_JMP,76,this.ADDR_ABS,3,3),this.setOp(this.INS_JMP,108,this.ADDR_INDABS,3,5),this.setOp(this.INS_JSR,32,this.ADDR_ABS,3,6),this.setOp(this.INS_LDA,169,this.ADDR_IMM,2,2),this.setOp(this.INS_LDA,165,this.ADDR_ZP,2,3),this.setOp(this.INS_LDA,181,this.ADDR_ZPX,2,4),this.setOp(this.INS_LDA,173,this.ADDR_ABS,3,4),this.setOp(this.INS_LDA,189,this.ADDR_ABSX,3,4),this.setOp(this.INS_LDA,185,this.ADDR_ABSY,3,4),this.setOp(this.INS_LDA,161,this.ADDR_PREIDXIND,2,6),this.setOp(this.INS_LDA,177,this.ADDR_POSTIDXIND,2,5),this.setOp(this.INS_LDX,162,this.ADDR_IMM,2,2),this.setOp(this.INS_LDX,166,this.ADDR_ZP,2,3),this.setOp(this.INS_LDX,182,this.ADDR_ZPY,2,4),this.setOp(this.INS_LDX,174,this.ADDR_ABS,3,4),this.setOp(this.INS_LDX,190,this.ADDR_ABSY,3,4),this.setOp(this.INS_LDY,160,this.ADDR_IMM,2,2),this.setOp(this.INS_LDY,164,this.ADDR_ZP,2,3),this.setOp(this.INS_LDY,180,this.ADDR_ZPX,2,4),this.setOp(this.INS_LDY,172,this.ADDR_ABS,3,4),this.setOp(this.INS_LDY,188,this.ADDR_ABSX,3,4),this.setOp(this.INS_LSR,74,this.ADDR_ACC,1,2),this.setOp(this.INS_LSR,70,this.ADDR_ZP,2,5),this.setOp(this.INS_LSR,86,this.ADDR_ZPX,2,6),this.setOp(this.INS_LSR,78,this.ADDR_ABS,3,6),this.setOp(this.INS_LSR,94,this.ADDR_ABSX,3,7),this.setOp(this.INS_NOP,26,this.ADDR_IMP,1,2),this.setOp(this.INS_NOP,58,this.ADDR_IMP,1,2),this.setOp(this.INS_NOP,90,this.ADDR_IMP,1,2),this.setOp(this.INS_NOP,122,this.ADDR_IMP,1,2),this.setOp(this.INS_NOP,218,this.ADDR_IMP,1,2),this.setOp(this.INS_NOP,234,this.ADDR_IMP,1,2),this.setOp(this.INS_NOP,250,this.ADDR_IMP,1,2),this.setOp(this.INS_ORA,9,this.ADDR_IMM,2,2),this.setOp(this.INS_ORA,5,this.ADDR_ZP,2,3),this.setOp(this.INS_ORA,21,this.ADDR_ZPX,2,4),this.setOp(this.INS_ORA,13,this.ADDR_ABS,3,4),this.setOp(this.INS_ORA,29,this.ADDR_ABSX,3,4),this.setOp(this.INS_ORA,25,this.ADDR_ABSY,3,4),this.setOp(this.INS_ORA,1,this.ADDR_PREIDXIND,2,6),this.setOp(this.INS_ORA,17,this.ADDR_POSTIDXIND,2,5),this.setOp(this.INS_PHA,72,this.ADDR_IMP,1,3),this.setOp(this.INS_PHP,8,this.ADDR_IMP,1,3),this.setOp(this.INS_PLA,104,this.ADDR_IMP,1,4),this.setOp(this.INS_PLP,40,this.ADDR_IMP,1,4),this.setOp(this.INS_ROL,42,this.ADDR_ACC,1,2),this.setOp(this.INS_ROL,38,this.ADDR_ZP,2,5),this.setOp(this.INS_ROL,54,this.ADDR_ZPX,2,6),this.setOp(this.INS_ROL,46,this.ADDR_ABS,3,6),this.setOp(this.INS_ROL,62,this.ADDR_ABSX,3,7),this.setOp(this.INS_ROR,106,this.ADDR_ACC,1,2),this.setOp(this.INS_ROR,102,this.ADDR_ZP,2,5),this.setOp(this.INS_ROR,118,this.ADDR_ZPX,2,6),this.setOp(this.INS_ROR,110,this.ADDR_ABS,3,6),this.setOp(this.INS_ROR,126,this.ADDR_ABSX,3,7),this.setOp(this.INS_RTI,64,this.ADDR_IMP,1,6),this.setOp(this.INS_RTS,96,this.ADDR_IMP,1,6),this.setOp(this.INS_SBC,233,this.ADDR_IMM,2,2),this.setOp(this.INS_SBC,229,this.ADDR_ZP,2,3),this.setOp(this.INS_SBC,245,this.ADDR_ZPX,2,4),this.setOp(this.INS_SBC,237,this.ADDR_ABS,3,4),this.setOp(this.INS_SBC,253,this.ADDR_ABSX,3,4),this.setOp(this.INS_SBC,249,this.ADDR_ABSY,3,4),this.setOp(this.INS_SBC,225,this.ADDR_PREIDXIND,2,6),this.setOp(this.INS_SBC,241,this.ADDR_POSTIDXIND,2,5),this.setOp(this.INS_SEC,56,this.ADDR_IMP,1,2),this.setOp(this.INS_SED,248,this.ADDR_IMP,1,2),this.setOp(this.INS_SEI,120,this.ADDR_IMP,1,2),this.setOp(this.INS_STA,133,this.ADDR_ZP,2,3),this.setOp(this.INS_STA,149,this.ADDR_ZPX,2,4),this.setOp(this.INS_STA,141,this.ADDR_ABS,3,4),this.setOp(this.INS_STA,157,this.ADDR_ABSX,3,5),this.setOp(this.INS_STA,153,this.ADDR_ABSY,3,5),this.setOp(this.INS_STA,129,this.ADDR_PREIDXIND,2,6),this.setOp(this.INS_STA,145,this.ADDR_POSTIDXIND,2,6),this.setOp(this.INS_STX,134,this.ADDR_ZP,2,3),this.setOp(this.INS_STX,150,this.ADDR_ZPY,2,4),this.setOp(this.INS_STX,142,this.ADDR_ABS,3,4),this.setOp(this.INS_STY,132,this.ADDR_ZP,2,3),this.setOp(this.INS_STY,148,this.ADDR_ZPX,2,4),this.setOp(this.INS_STY,140,this.ADDR_ABS,3,4),this.setOp(this.INS_TAX,170,this.ADDR_IMP,1,2),this.setOp(this.INS_TAY,168,this.ADDR_IMP,1,2),this.setOp(this.INS_TSX,186,this.ADDR_IMP,1,2),this.setOp(this.INS_TXA,138,this.ADDR_IMP,1,2),this.setOp(this.INS_TXS,154,this.ADDR_IMP,1,2),this.setOp(this.INS_TYA,152,this.ADDR_IMP,1,2),this.setOp(this.INS_ALR,75,this.ADDR_IMM,2,2),this.setOp(this.INS_ANC,11,this.ADDR_IMM,2,2),this.setOp(this.INS_ANC,43,this.ADDR_IMM,2,2),this.setOp(this.INS_ARR,107,this.ADDR_IMM,2,2),this.setOp(this.INS_AXS,203,this.ADDR_IMM,2,2),this.setOp(this.INS_LAX,163,this.ADDR_PREIDXIND,2,6),this.setOp(this.INS_LAX,167,this.ADDR_ZP,2,3),this.setOp(this.INS_LAX,175,this.ADDR_ABS,3,4),this.setOp(this.INS_LAX,179,this.ADDR_POSTIDXIND,2,5),this.setOp(this.INS_LAX,183,this.ADDR_ZPY,2,4),this.setOp(this.INS_LAX,191,this.ADDR_ABSY,3,4),this.setOp(this.INS_SAX,131,this.ADDR_PREIDXIND,2,6),this.setOp(this.INS_SAX,135,this.ADDR_ZP,2,3),this.setOp(this.INS_SAX,143,this.ADDR_ABS,3,4),this.setOp(this.INS_SAX,151,this.ADDR_ZPY,2,4),this.setOp(this.INS_DCP,195,this.ADDR_PREIDXIND,2,8),this.setOp(this.INS_DCP,199,this.ADDR_ZP,2,5),this.setOp(this.INS_DCP,207,this.ADDR_ABS,3,6),this.setOp(this.INS_DCP,211,this.ADDR_POSTIDXIND,2,8),this.setOp(this.INS_DCP,215,this.ADDR_ZPX,2,6),this.setOp(this.INS_DCP,219,this.ADDR_ABSY,3,7),this.setOp(this.INS_DCP,223,this.ADDR_ABSX,3,7),this.setOp(this.INS_ISC,227,this.ADDR_PREIDXIND,2,8),this.setOp(this.INS_ISC,231,this.ADDR_ZP,2,5),this.setOp(this.INS_ISC,239,this.ADDR_ABS,3,6),this.setOp(this.INS_ISC,243,this.ADDR_POSTIDXIND,2,8),this.setOp(this.INS_ISC,247,this.ADDR_ZPX,2,6),this.setOp(this.INS_ISC,251,this.ADDR_ABSY,3,7),this.setOp(this.INS_ISC,255,this.ADDR_ABSX,3,7),this.setOp(this.INS_RLA,35,this.ADDR_PREIDXIND,2,8),this.setOp(this.INS_RLA,39,this.ADDR_ZP,2,5),this.setOp(this.INS_RLA,47,this.ADDR_ABS,3,6),this.setOp(this.INS_RLA,51,this.ADDR_POSTIDXIND,2,8),this.setOp(this.INS_RLA,55,this.ADDR_ZPX,2,6),this.setOp(this.INS_RLA,59,this.ADDR_ABSY,3,7),this.setOp(this.INS_RLA,63,this.ADDR_ABSX,3,7),this.setOp(this.INS_RRA,99,this.ADDR_PREIDXIND,2,8),this.setOp(this.INS_RRA,103,this.ADDR_ZP,2,5),this.setOp(this.INS_RRA,111,this.ADDR_ABS,3,6),this.setOp(this.INS_RRA,115,this.ADDR_POSTIDXIND,2,8),this.setOp(this.INS_RRA,119,this.ADDR_ZPX,2,6),this.setOp(this.INS_RRA,123,this.ADDR_ABSY,3,7),this.setOp(this.INS_RRA,127,this.ADDR_ABSX,3,7),this.setOp(this.INS_SLO,3,this.ADDR_PREIDXIND,2,8),this.setOp(this.INS_SLO,7,this.ADDR_ZP,2,5),this.setOp(this.INS_SLO,15,this.ADDR_ABS,3,6),this.setOp(this.INS_SLO,19,this.ADDR_POSTIDXIND,2,8),this.setOp(this.INS_SLO,23,this.ADDR_ZPX,2,6),this.setOp(this.INS_SLO,27,this.ADDR_ABSY,3,7),this.setOp(this.INS_SLO,31,this.ADDR_ABSX,3,7),this.setOp(this.INS_SRE,67,this.ADDR_PREIDXIND,2,8),this.setOp(this.INS_SRE,71,this.ADDR_ZP,2,5),this.setOp(this.INS_SRE,79,this.ADDR_ABS,3,6),this.setOp(this.INS_SRE,83,this.ADDR_POSTIDXIND,2,8),this.setOp(this.INS_SRE,87,this.ADDR_ZPX,2,6),this.setOp(this.INS_SRE,91,this.ADDR_ABSY,3,7),this.setOp(this.INS_SRE,95,this.ADDR_ABSX,3,7),this.setOp(this.INS_SKB,128,this.ADDR_IMM,2,2),this.setOp(this.INS_SKB,130,this.ADDR_IMM,2,2),this.setOp(this.INS_SKB,137,this.ADDR_IMM,2,2),this.setOp(this.INS_SKB,194,this.ADDR_IMM,2,2),this.setOp(this.INS_SKB,226,this.ADDR_IMM,2,2),this.setOp(this.INS_IGN,12,this.ADDR_ABS,3,4),this.setOp(this.INS_IGN,28,this.ADDR_ABSX,3,4),this.setOp(this.INS_IGN,60,this.ADDR_ABSX,3,4),this.setOp(this.INS_IGN,92,this.ADDR_ABSX,3,4),this.setOp(this.INS_IGN,124,this.ADDR_ABSX,3,4),this.setOp(this.INS_IGN,220,this.ADDR_ABSX,3,4),this.setOp(this.INS_IGN,252,this.ADDR_ABSX,3,4),this.setOp(this.INS_IGN,4,this.ADDR_ZP,2,3),this.setOp(this.INS_IGN,68,this.ADDR_ZP,2,3),this.setOp(this.INS_IGN,100,this.ADDR_ZP,2,3),this.setOp(this.INS_IGN,20,this.ADDR_ZPX,2,4),this.setOp(this.INS_IGN,52,this.ADDR_ZPX,2,4),this.setOp(this.INS_IGN,84,this.ADDR_ZPX,2,4),this.setOp(this.INS_IGN,116,this.ADDR_ZPX,2,4),this.setOp(this.INS_IGN,212,this.ADDR_ZPX,2,4),this.setOp(this.INS_IGN,244,this.ADDR_ZPX,2,4),this.cycTable=new Array(7,6,2,8,3,3,5,5,3,2,2,2,4,4,6,6,2,5,2,8,4,4,6,6,2,4,2,7,4,4,7,7,6,6,2,8,3,3,5,5,4,2,2,2,4,4,6,6,2,5,2,8,4,4,6,6,2,4,2,7,4,4,7,7,6,6,2,8,3,3,5,5,3,2,2,2,3,4,6,6,2,5,2,8,4,4,6,6,2,4,2,7,4,4,7,7,6,6,2,8,3,3,5,5,4,2,2,2,5,4,6,6,2,5,2,8,4,4,6,6,2,4,2,7,4,4,7,7,2,6,2,6,3,3,3,3,2,2,2,2,4,4,4,4,2,6,2,6,4,4,4,4,2,5,2,5,5,5,5,5,2,6,2,6,3,3,3,3,2,2,2,2,4,4,4,4,2,5,2,5,4,4,4,4,2,4,2,4,4,4,4,4,2,6,2,8,3,3,5,5,2,2,2,2,4,4,6,6,2,5,2,8,4,4,6,6,2,4,2,7,4,4,7,7,2,6,3,8,3,3,5,5,2,2,2,2,4,4,6,6,2,5,2,8,4,4,6,6,2,4,2,7,4,4,7,7),this.instname=new Array(70),this.instname[0]="ADC",this.instname[1]="AND",this.instname[2]="ASL",this.instname[3]="BCC",this.instname[4]="BCS",this.instname[5]="BEQ",this.instname[6]="BIT",this.instname[7]="BMI",this.instname[8]="BNE",this.instname[9]="BPL",this.instname[10]="BRK",this.instname[11]="BVC",this.instname[12]="BVS",this.instname[13]="CLC",this.instname[14]="CLD",this.instname[15]="CLI",this.instname[16]="CLV",this.instname[17]="CMP",this.instname[18]="CPX",this.instname[19]="CPY",this.instname[20]="DEC",this.instname[21]="DEX",this.instname[22]="DEY",this.instname[23]="EOR",this.instname[24]="INC",this.instname[25]="INX",this.instname[26]="INY",this.instname[27]="JMP",this.instname[28]="JSR",this.instname[29]="LDA",this.instname[30]="LDX",this.instname[31]="LDY",this.instname[32]="LSR",this.instname[33]="NOP",this.instname[34]="ORA",this.instname[35]="PHA",this.instname[36]="PHP",this.instname[37]="PLA",this.instname[38]="PLP",this.instname[39]="ROL",this.instname[40]="ROR",this.instname[41]="RTI",this.instname[42]="RTS",this.instname[43]="SBC",this.instname[44]="SEC",this.instname[45]="SED",this.instname[46]="SEI",this.instname[47]="STA",this.instname[48]="STX",this.instname[49]="STY",this.instname[50]="TAX",this.instname[51]="TAY",this.instname[52]="TSX",this.instname[53]="TXA",this.instname[54]="TXS",this.instname[55]="TYA",this.instname[56]="ALR",this.instname[57]="ANC",this.instname[58]="ARR",this.instname[59]="AXS",this.instname[60]="LAX",this.instname[61]="SAX",this.instname[62]="DCP",this.instname[63]="ISC",this.instname[64]="RLA",this.instname[65]="RRA",this.instname[66]="SLO",this.instname[67]="SRE",this.instname[68]="SKB",this.instname[69]="IGN",this.addrDesc=new Array("Zero Page           ","Relative            ","Implied             ","Absolute            ","Accumulator         ","Immediate           ","Zero Page,X         ","Zero Page,Y         ","Absolute,X          ","Absolute,Y          ","Preindexed Indirect ","Postindexed Indirect","Indirect Absolute   ")};m.prototype={INS_ADC:0,INS_AND:1,INS_ASL:2,INS_BCC:3,INS_BCS:4,INS_BEQ:5,INS_BIT:6,INS_BMI:7,INS_BNE:8,INS_BPL:9,INS_BRK:10,INS_BVC:11,INS_BVS:12,INS_CLC:13,INS_CLD:14,INS_CLI:15,INS_CLV:16,INS_CMP:17,INS_CPX:18,INS_CPY:19,INS_DEC:20,INS_DEX:21,INS_DEY:22,INS_EOR:23,INS_INC:24,INS_INX:25,INS_INY:26,INS_JMP:27,INS_JSR:28,INS_LDA:29,INS_LDX:30,INS_LDY:31,INS_LSR:32,INS_NOP:33,INS_ORA:34,INS_PHA:35,INS_PHP:36,INS_PLA:37,INS_PLP:38,INS_ROL:39,INS_ROR:40,INS_RTI:41,INS_RTS:42,INS_SBC:43,INS_SEC:44,INS_SED:45,INS_SEI:46,INS_STA:47,INS_STX:48,INS_STY:49,INS_TAX:50,INS_TAY:51,INS_TSX:52,INS_TXA:53,INS_TXS:54,INS_TYA:55,INS_ALR:56,INS_ANC:57,INS_ARR:58,INS_AXS:59,INS_LAX:60,INS_SAX:61,INS_DCP:62,INS_ISC:63,INS_RLA:64,INS_RRA:65,INS_SLO:66,INS_SRE:67,INS_SKB:68,INS_IGN:69,INS_DUMMY:70,ADDR_ZP:0,ADDR_REL:1,ADDR_IMP:2,ADDR_ABS:3,ADDR_ACC:4,ADDR_IMM:5,ADDR_ZPX:6,ADDR_ZPY:7,ADDR_ABSX:8,ADDR_ABSY:9,ADDR_PREIDXIND:10,ADDR_POSTIDXIND:11,ADDR_INDABS:12,setOp:function(t,e,s,i,n){this.opdata[e]=255&t|(255&s)<<8|(255&i)<<16|(255&n)<<24}};var g=d,_=function(){this.pix=new Array(64),this.fbIndex=null,this.tIndex=null,this.x=null,this.y=null,this.w=null,this.h=null,this.incX=null,this.incY=null,this.palIndex=null,this.tpri=null,this.c=null,this.initialized=!1,this.opaque=new Array(8)};_.prototype={setBuffer:function(t){for(this.y=0;this.y<8;this.y++)this.setScanline(this.y,t[this.y],t[this.y+8])},setScanline:function(t,e,s){for(this.initialized=!0,this.tIndex=t<<3,this.x=0;this.x<8;this.x++)this.pix[this.tIndex+this.x]=(e>>7-this.x&1)+((s>>7-this.x&1)<<1),0===this.pix[this.tIndex+this.x]&&(this.opaque[t]=!1)},render:function(t,e,s,i,n,r,o,a,h,l,u,c,p){if(!(r<-7||r>=256||o<-7||o>=240))if(this.w=i-e,this.h=n-s,r<0&&(e-=r),r+i>=256&&(i=256-r),o<0&&(s-=o),o+n>=240&&(n=240-o),l||u)if(l&&!u)for(this.fbIndex=(o<<8)+r,this.tIndex=7,this.y=0;this.y<8;this.y++){for(this.x=0;this.x<8;this.x++)this.x>=e&&this.x<i&&this.y>=s&&this.y<n&&(this.palIndex=this.pix[this.tIndex],this.tpri=p[this.fbIndex],0!==this.palIndex&&c<=(255&this.tpri)&&(t[this.fbIndex]=h[this.palIndex+a],this.tpri=3840&this.tpri|c,p[this.fbIndex]=this.tpri)),this.fbIndex++,this.tIndex--;this.fbIndex-=8,this.fbIndex+=256,this.tIndex+=16}else if(u&&!l)for(this.fbIndex=(o<<8)+r,this.tIndex=56,this.y=0;this.y<8;this.y++){for(this.x=0;this.x<8;this.x++)this.x>=e&&this.x<i&&this.y>=s&&this.y<n&&(this.palIndex=this.pix[this.tIndex],this.tpri=p[this.fbIndex],0!==this.palIndex&&c<=(255&this.tpri)&&(t[this.fbIndex]=h[this.palIndex+a],this.tpri=3840&this.tpri|c,p[this.fbIndex]=this.tpri)),this.fbIndex++,this.tIndex++;this.fbIndex-=8,this.fbIndex+=256,this.tIndex-=16}else for(this.fbIndex=(o<<8)+r,this.tIndex=63,this.y=0;this.y<8;this.y++){for(this.x=0;this.x<8;this.x++)this.x>=e&&this.x<i&&this.y>=s&&this.y<n&&(this.palIndex=this.pix[this.tIndex],this.tpri=p[this.fbIndex],0!==this.palIndex&&c<=(255&this.tpri)&&(t[this.fbIndex]=h[this.palIndex+a],this.tpri=3840&this.tpri|c,p[this.fbIndex]=this.tpri)),this.fbIndex++,this.tIndex--;this.fbIndex-=8,this.fbIndex+=256}else for(this.fbIndex=(o<<8)+r,this.tIndex=0,this.y=0;this.y<8;this.y++){for(this.x=0;this.x<8;this.x++)this.x>=e&&this.x<i&&this.y>=s&&this.y<n&&(this.palIndex=this.pix[this.tIndex],this.tpri=p[this.fbIndex],0!==this.palIndex&&c<=(255&this.tpri)&&(t[this.fbIndex]=h[this.palIndex+a],this.tpri=3840&this.tpri|c,p[this.fbIndex]=this.tpri)),this.fbIndex++,this.tIndex++;this.fbIndex-=8,this.fbIndex+=256}},isTransparent:function(t,e){return 0===this.pix[(e<<3)+t]},toJSON:function(){return{opaque:this.opaque,pix:this.pix}},fromJSON:function(t){this.opaque=t.opaque,this.pix=t.pix}};var R=_,S=R,v=p,b=function(t){this.nes=t,this.vramMem=null,this.spriteMem=null,this.vramAddress=null,this.vramTmpAddress=null,this.vramBufferedReadValue=null,this.firstWrite=null,this.sramAddress=null,this.currentMirroring=null,this.requestEndFrame=null,this.nmiOk=null,this.dummyCycleToggle=null,this.validTileData=null,this.nmiCounter=null,this.scanlineAlreadyRendered=null,this.f_nmiOnVblank=null,this.f_spriteSize=null,this.f_bgPatternTable=null,this.f_spPatternTable=null,this.f_addrInc=null,this.f_nTblAddress=null,this.f_color=null,this.f_spVisibility=null,this.f_bgVisibility=null,this.f_spClipping=null,this.f_bgClipping=null,this.f_dispType=null,this.cntFV=null,this.cntV=null,this.cntH=null,this.cntVT=null,this.cntHT=null,this.regFV=null,this.regV=null,this.regH=null,this.regVT=null,this.regHT=null,this.regFH=null,this.regS=null,this.curNt=null,this.attrib=null,this.buffer=null,this.bgbuffer=null,this.pixrendered=null,this.validTileData=null,this.scantile=null,this.scanline=null,this.lastRenderedScanline=null,this.curX=null,this.sprX=null,this.sprY=null,this.sprTile=null,this.sprCol=null,this.vertFlip=null,this.horiFlip=null,this.bgPriority=null,this.spr0HitX=null,this.spr0HitY=null,this.hitSpr0=null,this.sprPalette=null,this.imgPalette=null,this.ptTile=null,this.ntable1=null,this.currentMirroring=null,this.nameTable=null,this.vramMirrorTable=null,this.palTable=null,this.showSpr0Hit=!1,this.clipToTvSize=!0,this.reset()};b.prototype={STATUS_VRAMWRITE:4,STATUS_SLSPRITECOUNT:5,STATUS_SPRITE0HIT:6,STATUS_VBLANK:7,reset:function(){var t;for(this.vramMem=new Array(32768),this.spriteMem=new Array(256),t=0;t<this.vramMem.length;t++)this.vramMem[t]=0;for(t=0;t<this.spriteMem.length;t++)this.spriteMem[t]=0;for(this.vramAddress=null,this.vramTmpAddress=null,this.vramBufferedReadValue=0,this.firstWrite=!0,this.sramAddress=0,this.currentMirroring=-1,this.requestEndFrame=!1,this.nmiOk=!1,this.dummyCycleToggle=!1,this.validTileData=!1,this.nmiCounter=0,this.scanlineAlreadyRendered=null,this.f_nmiOnVblank=0,this.f_spriteSize=0,this.f_bgPatternTable=0,this.f_spPatternTable=0,this.f_addrInc=0,this.f_nTblAddress=0,this.f_color=0,this.f_spVisibility=0,this.f_bgVisibility=0,this.f_spClipping=0,this.f_bgClipping=0,this.f_dispType=0,this.cntFV=0,this.cntV=0,this.cntH=0,this.cntVT=0,this.cntHT=0,this.regFV=0,this.regV=0,this.regH=0,this.regVT=0,this.regHT=0,this.regFH=0,this.regS=0,this.curNt=null,this.attrib=new Array(32),this.buffer=new Array(61440),this.bgbuffer=new Array(61440),this.pixrendered=new Array(61440),this.validTileData=null,this.scantile=new Array(32),this.scanline=0,this.lastRenderedScanline=-1,this.curX=0,this.sprX=new Array(64),this.sprY=new Array(64),this.sprTile=new Array(64),this.sprCol=new Array(64),this.vertFlip=new Array(64),this.horiFlip=new Array(64),this.bgPriority=new Array(64),this.spr0HitX=0,this.spr0HitY=0,this.hitSpr0=!1,this.sprPalette=new Array(16),this.imgPalette=new Array(16),this.ptTile=new Array(512),t=0;t<512;t++)this.ptTile[t]=new S;for(this.ntable1=new Array(4),this.currentMirroring=-1,this.nameTable=new Array(4),t=0;t<4;t++)this.nameTable[t]=new y(32,32,"Nt"+t);for(this.vramMirrorTable=new Array(32768),t=0;t<32768;t++)this.vramMirrorTable[t]=t;this.palTable=new A,this.palTable.loadNTSCPalette(),this.updateControlReg1(0),this.updateControlReg2(0)},setMirroring:function(t){if(t!==this.currentMirroring){this.currentMirroring=t,this.triggerRendering(),null===this.vramMirrorTable&&(this.vramMirrorTable=new Array(32768));for(var e=0;e<32768;e++)this.vramMirrorTable[e]=e;this.defineMirrorRegion(16160,16128,32),this.defineMirrorRegion(16192,16128,32),this.defineMirrorRegion(16256,16128,32),this.defineMirrorRegion(16320,16128,32),this.defineMirrorRegion(12288,8192,3840),this.defineMirrorRegion(16384,0,16384),t===this.nes.rom.HORIZONTAL_MIRRORING?(this.ntable1[0]=0,this.ntable1[1]=0,this.ntable1[2]=1,this.ntable1[3]=1,this.defineMirrorRegion(9216,8192,1024),this.defineMirrorRegion(11264,10240,1024)):t===this.nes.rom.VERTICAL_MIRRORING?(this.ntable1[0]=0,this.ntable1[1]=1,this.ntable1[2]=0,this.ntable1[3]=1,this.defineMirrorRegion(10240,8192,1024),this.defineMirrorRegion(11264,9216,1024)):t===this.nes.rom.SINGLESCREEN_MIRRORING?(this.ntable1[0]=0,this.ntable1[1]=0,this.ntable1[2]=0,this.ntable1[3]=0,this.defineMirrorRegion(9216,8192,1024),this.defineMirrorRegion(10240,8192,1024),this.defineMirrorRegion(11264,8192,1024)):t===this.nes.rom.SINGLESCREEN_MIRRORING2?(this.ntable1[0]=1,this.ntable1[1]=1,this.ntable1[2]=1,this.ntable1[3]=1,this.defineMirrorRegion(9216,9216,1024),this.defineMirrorRegion(10240,9216,1024),this.defineMirrorRegion(11264,9216,1024)):(this.ntable1[0]=0,this.ntable1[1]=1,this.ntable1[2]=2,this.ntable1[3]=3)}},defineMirrorRegion:function(t,e,s){for(var i=0;i<s;i++)this.vramMirrorTable[t+i]=e+i},startVBlank:function(){this.nes.cpu.requestIrq(this.nes.cpu.IRQ_NMI),this.lastRenderedScanline<239&&this.renderFramePartially(this.lastRenderedScanline+1,240-this.lastRenderedScanline),this.endFrame(),this.lastRenderedScanline=-1},endScanline:function(){switch(this.scanline){case 19:this.dummyCycleToggle&&(this.curX=1,this.dummyCycleToggle=!this.dummyCycleToggle);break;case 20:this.setStatusFlag(this.STATUS_VBLANK,!1),this.setStatusFlag(this.STATUS_SPRITE0HIT,!1),this.hitSpr0=!1,this.spr0HitX=-1,this.spr0HitY=-1,(1===this.f_bgVisibility||1===this.f_spVisibility)&&(this.cntFV=this.regFV,this.cntV=this.regV,this.cntH=this.regH,this.cntVT=this.regVT,this.cntHT=this.regHT,1===this.f_bgVisibility&&this.renderBgScanline(!1,0)),1===this.f_bgVisibility&&1===this.f_spVisibility&&this.checkSprite0(0),(1===this.f_bgVisibility||1===this.f_spVisibility)&&this.nes.mmap.clockIrqCounter();break;case 261:this.setStatusFlag(this.STATUS_VBLANK,!0),this.requestEndFrame=!0,this.nmiCounter=9,this.scanline=-1;break;default:this.scanline>=21&&this.scanline<=260&&(1===this.f_bgVisibility&&(this.scanlineAlreadyRendered||(this.cntHT=this.regHT,this.cntH=this.regH,this.renderBgScanline(!0,this.scanline+1-21)),this.scanlineAlreadyRendered=!1,!this.hitSpr0&&1===this.f_spVisibility&&this.sprX[0]>=-7&&this.sprX[0]<256&&this.sprY[0]+1<=this.scanline-20&&this.sprY[0]+1+(0===this.f_spriteSize?8:16)>=this.scanline-20&&this.checkSprite0(this.scanline-20)&&(this.hitSpr0=!0)),(1===this.f_bgVisibility||1===this.f_spVisibility)&&this.nes.mmap.clockIrqCounter())}this.scanline++,this.regsToAddress(),this.cntsToAddress()},startFrame:function(){var t=0;if(0===this.f_dispType)t=this.imgPalette[0];else switch(this.f_color){case 0:t=0;break;case 1:t=65280;break;case 2:t=16711680;break;case 3:t=0;break;case 4:t=255;break;default:t=0}var e,s=this.buffer;for(e=0;e<61440;e++)s[e]=t;var i=this.pixrendered;for(e=0;e<i.length;e++)i[e]=65},endFrame:function(){var t,e,s,i=this.buffer;if(this.showSpr0Hit){if(this.sprX[0]>=0&&this.sprX[0]<256&&this.sprY[0]>=0&&this.sprY[0]<240){for(t=0;t<256;t++)i[(this.sprY[0]<<8)+t]=16733525;for(t=0;t<240;t++)i[(t<<8)+this.sprX[0]]=16733525}if(this.spr0HitX>=0&&this.spr0HitX<256&&this.spr0HitY>=0&&this.spr0HitY<240){for(t=0;t<256;t++)i[(this.spr0HitY<<8)+t]=5635925;for(t=0;t<240;t++)i[(t<<8)+this.spr0HitX]=5635925}}if(this.clipToTvSize||0===this.f_bgClipping||0===this.f_spClipping)for(s=0;s<240;s++)for(e=0;e<8;e++)i[(s<<8)+e]=0;if(this.clipToTvSize)for(s=0;s<240;s++)for(e=0;e<8;e++)i[255+(s<<8)-e]=0;if(this.clipToTvSize)for(s=0;s<8;s++)for(e=0;e<256;e++)i[(s<<8)+e]=0,i[(239-s<<8)+e]=0;this.nes.ui.writeFrame(i)},updateControlReg1:function(t){this.triggerRendering(),this.f_nmiOnVblank=t>>7&1,this.f_spriteSize=t>>5&1,this.f_bgPatternTable=t>>4&1,this.f_spPatternTable=t>>3&1,this.f_addrInc=t>>2&1,this.f_nTblAddress=3&t,this.regV=t>>1&1,this.regH=1&t,this.regS=t>>4&1},updateControlReg2:function(t){this.triggerRendering(),this.f_color=t>>5&7,this.f_spVisibility=t>>4&1,this.f_bgVisibility=t>>3&1,this.f_spClipping=t>>2&1,this.f_bgClipping=t>>1&1,this.f_dispType=1&t,0===this.f_dispType&&this.palTable.setEmphasis(this.f_color),this.updatePalettes()},setStatusFlag:function(t,e){var s=1<<t;this.nes.cpu.mem[8194]=this.nes.cpu.mem[8194]&255-s|(e?s:0)},readStatusRegister:function(){var t=this.nes.cpu.mem[8194];return this.firstWrite=!0,this.setStatusFlag(this.STATUS_VBLANK,!1),t},writeSRAMAddress:function(t){this.sramAddress=t},sramLoad:function(){return this.spriteMem[this.sramAddress]},sramWrite:function(t){this.spriteMem[this.sramAddress]=t,this.spriteRamWriteUpdate(this.sramAddress,t),this.sramAddress++,this.sramAddress%=256},scrollWrite:function(t){this.triggerRendering(),this.firstWrite?(this.regHT=t>>3&31,this.regFH=7&t):(this.regFV=7&t,this.regVT=t>>3&31),this.firstWrite=!this.firstWrite},writeVRAMAddress:function(t){this.firstWrite?(this.regFV=t>>4&3,this.regV=t>>3&1,this.regH=t>>2&1,this.regVT=7&this.regVT|(3&t)<<3):(this.triggerRendering(),this.regVT=24&this.regVT|t>>5&7,this.regHT=31&t,this.cntFV=this.regFV,this.cntV=this.regV,this.cntH=this.regH,this.cntVT=this.regVT,this.cntHT=this.regHT,this.checkSprite0(this.scanline-20)),this.firstWrite=!this.firstWrite,this.cntsToAddress(),this.vramAddress<8192&&this.nes.mmap.latchAccess(this.vramAddress)},vramLoad:function(){var t;return this.cntsToAddress(),this.regsToAddress(),this.vramAddress<=16127?(t=this.vramBufferedReadValue,this.vramAddress<8192?this.vramBufferedReadValue=this.vramMem[this.vramAddress]:this.vramBufferedReadValue=this.mirroredLoad(this.vramAddress),this.vramAddress<8192&&this.nes.mmap.latchAccess(this.vramAddress),this.vramAddress+=1===this.f_addrInc?32:1,this.cntsFromAddress(),this.regsFromAddress(),t):(t=this.mirroredLoad(this.vramAddress),this.vramAddress+=1===this.f_addrInc?32:1,this.cntsFromAddress(),this.regsFromAddress(),t)},vramWrite:function(t){this.triggerRendering(),this.cntsToAddress(),this.regsToAddress(),this.vramAddress>=8192?this.mirroredWrite(this.vramAddress,t):(this.writeMem(this.vramAddress,t),this.nes.mmap.latchAccess(this.vramAddress)),this.vramAddress+=1===this.f_addrInc?32:1,this.regsFromAddress(),this.cntsFromAddress()},sramDMA:function(t){for(var e,s=256*t,i=this.sramAddress;i<256;i++)e=this.nes.cpu.mem[s+i],this.spriteMem[i]=e,this.spriteRamWriteUpdate(i,e);this.nes.cpu.haltCycles(513)},regsFromAddress:function(){var t=this.vramTmpAddress>>8&255;this.regFV=t>>4&7,this.regV=t>>3&1,this.regH=t>>2&1,this.regVT=7&this.regVT|(3&t)<<3,t=255&this.vramTmpAddress,this.regVT=24&this.regVT|t>>5&7,this.regHT=31&t},cntsFromAddress:function(){var t=this.vramAddress>>8&255;this.cntFV=t>>4&3,this.cntV=t>>3&1,this.cntH=t>>2&1,this.cntVT=7&this.cntVT|(3&t)<<3,t=255&this.vramAddress,this.cntVT=24&this.cntVT|t>>5&7,this.cntHT=31&t},regsToAddress:function(){var t=(7&this.regFV)<<4;t|=(1&this.regV)<<3,t|=(1&this.regH)<<2,t|=this.regVT>>3&3;var e=(7&this.regVT)<<5;e|=31&this.regHT,this.vramTmpAddress=32767&(t<<8|e)},cntsToAddress:function(){var t=(7&this.cntFV)<<4;t|=(1&this.cntV)<<3,t|=(1&this.cntH)<<2,t|=this.cntVT>>3&3;var e=(7&this.cntVT)<<5;e|=31&this.cntHT,this.vramAddress=32767&(t<<8|e)},incTileCounter:function(t){for(var e=t;0!==e;e--)this.cntHT++,32===this.cntHT&&(this.cntHT=0,this.cntVT++,this.cntVT>=30&&(this.cntH++,2===this.cntH&&(this.cntH=0,this.cntV++,2===this.cntV&&(this.cntV=0,this.cntFV++,this.cntFV&=7))))},mirroredLoad:function(t){return this.vramMem[this.vramMirrorTable[t]]},mirroredWrite:function(t,e){if(t>=16128&&t<16160)16128===t||16144===t?(this.writeMem(16128,e),this.writeMem(16144,e)):16132===t||16148===t?(this.writeMem(16132,e),this.writeMem(16148,e)):16136===t||16152===t?(this.writeMem(16136,e),this.writeMem(16152,e)):16140===t||16156===t?(this.writeMem(16140,e),this.writeMem(16156,e)):this.writeMem(t,e);else{if(!(t<this.vramMirrorTable.length))throw new Error("Invalid VRAM address: "+t.toString(16));this.writeMem(this.vramMirrorTable[t],e)}},triggerRendering:function(){this.scanline>=21&&this.scanline<=260&&(this.renderFramePartially(this.lastRenderedScanline+1,this.scanline-21-this.lastRenderedScanline),this.lastRenderedScanline=this.scanline-21)},renderFramePartially:function(t,e){if(1===this.f_spVisibility&&this.renderSpritesPartially(t,e,!0),1===this.f_bgVisibility){var s=t<<8,i=t+e<<8;i>61440&&(i=61440);for(var n=this.buffer,r=this.bgbuffer,o=this.pixrendered,a=s;a<i;a++)o[a]>255&&(n[a]=r[a])}1===this.f_spVisibility&&this.renderSpritesPartially(t,e,!1),this.validTileData=!1},renderBgScanline:function(t,e){var s=0===this.regS?0:256,i=(e<<8)-this.regFH;if(this.curNt=this.ntable1[this.cntV+this.cntV+this.cntH],this.cntHT=this.regHT,this.cntH=this.regH,this.curNt=this.ntable1[this.cntV+this.cntV+this.cntH],e<240&&e-this.cntFV>=0){for(var n,r,o,a,h=this.cntFV<<3,l=this.scantile,u=this.attrib,c=this.ptTile,p=this.nameTable,f=this.imgPalette,d=this.pixrendered,m=t?this.bgbuffer:this.buffer,g=0;g<32;g++){if(e>=0){if(this.validTileData){if(n=l[g],typeof n>"u")continue;r=n.pix,o=u[g]}else{if(n=c[s+p[this.curNt].getTileIndex(this.cntHT,this.cntVT)],typeof n>"u")continue;r=n.pix,o=p[this.curNt].getAttrib(this.cntHT,this.cntVT),l[g]=n,u[g]=o}var _=0,R=(g<<3)-this.regFH;if(R>-8)if(R<0&&(i-=R,_=-R),n.opaque[this.cntFV])for(;_<8;_++)m[i]=f[r[h+_]+o],d[i]|=256,i++;else for(;_<8;_++)a=r[h+_],0!==a&&(m[i]=f[a+o],d[i]|=256),i++}32===++this.cntHT&&(this.cntHT=0,this.cntH++,this.cntH%=2,this.curNt=this.ntable1[(this.cntV<<1)+this.cntH])}this.validTileData=!0}this.cntFV++,8===this.cntFV&&(this.cntFV=0,this.cntVT++,30===this.cntVT?(this.cntVT=0,this.cntV++,this.cntV%=2,this.curNt=this.ntable1[(this.cntV<<1)+this.cntH]):32===this.cntVT&&(this.cntVT=0),this.validTileData=!1)},renderSpritesPartially:function(t,e,s){if(1===this.f_spVisibility)for(var i=0;i<64;i++)if(this.bgPriority[i]===s&&this.sprX[i]>=0&&this.sprX[i]<256&&this.sprY[i]+8>=t&&this.sprY[i]<t+e)if(0===this.f_spriteSize)this.srcy1=0,this.srcy2=8,this.sprY[i]<t&&(this.srcy1=t-this.sprY[i]-1),this.sprY[i]+8>t+e&&(this.srcy2=t+e-this.sprY[i]+1),0===this.f_spPatternTable?this.ptTile[this.sprTile[i]].render(this.buffer,0,this.srcy1,8,this.srcy2,this.sprX[i],this.sprY[i]+1,this.sprCol[i],this.sprPalette,this.horiFlip[i],this.vertFlip[i],i,this.pixrendered):this.ptTile[this.sprTile[i]+256].render(this.buffer,0,this.srcy1,8,this.srcy2,this.sprX[i],this.sprY[i]+1,this.sprCol[i],this.sprPalette,this.horiFlip[i],this.vertFlip[i],i,this.pixrendered);else{var n=this.sprTile[i];0!==(1&n)&&(n=this.sprTile[i]-1+256);var r=0,o=8;this.sprY[i]<t&&(r=t-this.sprY[i]-1),this.sprY[i]+8>t+e&&(o=t+e-this.sprY[i]),this.ptTile[n+(this.vertFlip[i]?1:0)].render(this.buffer,0,r,8,o,this.sprX[i],this.sprY[i]+1,this.sprCol[i],this.sprPalette,this.horiFlip[i],this.vertFlip[i],i,this.pixrendered),r=0,o=8,this.sprY[i]+8<t&&(r=t-(this.sprY[i]+8+1)),this.sprY[i]+16>t+e&&(o=t+e-(this.sprY[i]+8)),this.ptTile[n+(this.vertFlip[i]?0:1)].render(this.buffer,0,r,8,o,this.sprX[i],this.sprY[i]+1+8,this.sprCol[i],this.sprPalette,this.horiFlip[i],this.vertFlip[i],i,this.pixrendered)}},checkSprite0:function(t){this.spr0HitX=-1,this.spr0HitY=-1;var e,s,i,n,r,o,a=0===this.f_spPatternTable?0:256;if(s=this.sprX[0],i=this.sprY[0]+1,0===this.f_spriteSize){if(i<=t&&i+8>t&&s>=-7&&s<256)if(n=this.ptTile[this.sprTile[0]+a],e=this.vertFlip[0]?7-(t-i):t-i,e*=8,o=256*t+s,this.horiFlip[0])for(r=7;r>=0;r--){if(s>=0&&s<256&&o>=0&&o<61440&&0!==this.pixrendered[o]&&0!==n.pix[e+r])return this.spr0HitX=o%256,this.spr0HitY=t,!0;s++,o++}else for(r=0;r<8;r++){if(s>=0&&s<256&&o>=0&&o<61440&&0!==this.pixrendered[o]&&0!==n.pix[e+r])return this.spr0HitX=o%256,this.spr0HitY=t,!0;s++,o++}}else if(i<=t&&i+16>t&&s>=-7&&s<256)if(e=this.vertFlip[0]?15-(t-i):t-i,e<8?n=this.ptTile[this.sprTile[0]+(this.vertFlip[0]?1:0)+(0!==(1&this.sprTile[0])?255:0)]:(n=this.ptTile[this.sprTile[0]+(this.vertFlip[0]?0:1)+(0!==(1&this.sprTile[0])?255:0)],this.vertFlip[0]?e=15-e:e-=8),e*=8,o=256*t+s,this.horiFlip[0])for(r=7;r>=0;r--){if(s>=0&&s<256&&o>=0&&o<61440&&0!==this.pixrendered[o]&&0!==n.pix[e+r])return this.spr0HitX=o%256,this.spr0HitY=t,!0;s++,o++}else for(r=0;r<8;r++){if(s>=0&&s<256&&o>=0&&o<61440&&0!==this.pixrendered[o]&&0!==n.pix[e+r])return this.spr0HitX=o%256,this.spr0HitY=t,!0;s++,o++}return!1},writeMem:function(t,e){this.vramMem[t]=e,t<8192?(this.vramMem[t]=e,this.patternWrite(t,e)):t>=8192&&t<9152?this.nameTableWrite(this.ntable1[0],t-8192,e):t>=9152&&t<9216?this.attribTableWrite(this.ntable1[0],t-9152,e):t>=9216&&t<10176?this.nameTableWrite(this.ntable1[1],t-9216,e):t>=10176&&t<10240?this.attribTableWrite(this.ntable1[1],t-10176,e):t>=10240&&t<11200?this.nameTableWrite(this.ntable1[2],t-10240,e):t>=11200&&t<11264?this.attribTableWrite(this.ntable1[2],t-11200,e):t>=11264&&t<12224?this.nameTableWrite(this.ntable1[3],t-11264,e):t>=12224&&t<12288?this.attribTableWrite(this.ntable1[3],t-12224,e):t>=16128&&t<16160&&this.updatePalettes()},updatePalettes:function(){var t;for(t=0;t<16;t++)0===this.f_dispType?this.imgPalette[t]=this.palTable.getEntry(63&this.vramMem[16128+t]):this.imgPalette[t]=this.palTable.getEntry(32&this.vramMem[16128+t]);for(t=0;t<16;t++)0===this.f_dispType?this.sprPalette[t]=this.palTable.getEntry(63&this.vramMem[16144+t]):this.sprPalette[t]=this.palTable.getEntry(32&this.vramMem[16144+t])},patternWrite:function(t,e){var s=Math.floor(t/16),i=t%16;i<8?this.ptTile[s].setScanline(i,e,this.vramMem[t+8]):this.ptTile[s].setScanline(i-8,this.vramMem[t-8],e)},nameTableWrite:function(t,e,s){this.nameTable[t].tile[e]=s,this.checkSprite0(this.scanline-20)},attribTableWrite:function(t,e,s){this.nameTable[t].writeAttrib(e,s)},spriteRamWriteUpdate:function(t,e){var s=Math.floor(t/4);0===s&&this.checkSprite0(this.scanline-20),t%4===0?this.sprY[s]=e:t%4===1?this.sprTile[s]=e:t%4===2?(this.vertFlip[s]=0!==(128&e),this.horiFlip[s]=0!==(64&e),this.bgPriority[s]=0!==(32&e),this.sprCol[s]=(3&e)<<2):t%4===3&&(this.sprX[s]=e)},doNMI:function(){this.setStatusFlag(this.STATUS_VBLANK,!0),this.nes.cpu.requestIrq(this.nes.cpu.IRQ_NMI)},isPixelWhite:function(t,e){return this.triggerRendering(),16777215===this.nes.ppu.buffer[(e<<8)+t]},JSON_PROPERTIES:["vramMem","spriteMem","cntFV","cntV","cntH","cntVT","cntHT","regFV","regV","regH","regVT","regHT","regFH","regS","vramAddress","vramTmpAddress","f_nmiOnVblank","f_spriteSize","f_bgPatternTable","f_spPatternTable","f_addrInc","f_nTblAddress","f_color","f_spVisibility","f_bgVisibility","f_spClipping","f_bgClipping","f_dispType","vramBufferedReadValue","firstWrite","currentMirroring","vramMirrorTable","ntable1","sramAddress","hitSpr0","sprPalette","imgPalette","curX","scanline","lastRenderedScanline","curNt","scantile","attrib","buffer","bgbuffer","pixrendered","requestEndFrame","nmiOk","dummyCycleToggle","nmiCounter","validTileData","scanlineAlreadyRendered"],toJSON:function(){var t,e=v.toJSON(this);for(e.nameTable=[],t=0;t<this.nameTable.length;t++)e.nameTable[t]=this.nameTable[t].toJSON();for(e.ptTile=[],t=0;t<this.ptTile.length;t++)e.ptTile[t]=this.ptTile[t].toJSON();return e},fromJSON:function(t){var e;for(v.fromJSON(this,t),e=0;e<this.nameTable.length;e++)this.nameTable[e].fromJSON(t.nameTable[e]);for(e=0;e<this.ptTile.length;e++)this.ptTile[e].fromJSON(t.ptTile[e]);for(e=0;e<this.spriteMem.length;e++)this.spriteRamWriteUpdate(e,this.spriteMem[e])}};var y=function(t,e,s){this.width=t,this.height=e,this.name=s,this.tile=new Array(t*e),this.attrib=new Array(t*e);for(var i=0;i<t*e;i++)this.tile[i]=0,this.attrib[i]=0};y.prototype={getTileIndex:function(t,e){return this.tile[e*this.width+t]},getAttrib:function(t,e){return this.attrib[e*this.width+t]},writeAttrib:function(t,e){for(var s,i,n,r,o=t%8*4,a=4*Math.floor(t/8),h=0;h<2;h++)for(var l=0;l<2;l++){s=e>>2*(2*h+l)&3;for(var u=0;u<2;u++)for(var c=0;c<2;c++)i=o+2*l+c,n=a+2*h+u,r=n*this.width+i,this.attrib[r]=s<<2&12}},toJSON:function(){return{tile:this.tile,attrib:this.attrib}},fromJSON:function(t){this.tile=t.tile,this.attrib=t.attrib}};var A=function(){this.curTable=new Array(64),this.emphTable=new Array(8),this.currentEmph=-1};A.prototype={reset:function(){this.setEmphasis(0)},loadNTSCPalette:function(){this.curTable=[5395026,11796480,10485760,11599933,7602281,91,95,6208,12048,543240,26368,1196544,7153664,0,0,0,12899815,16728064,14421538,16729963,14090399,6818519,6588,21681,27227,35843,43776,2918400,10777088,0,0,0,16316664,16755516,16742785,16735173,16730354,14633471,4681215,46327,57599,58229,259115,7911470,15065624,7895160,0,0,16777215,16773822,16300216,16300248,16758527,16761855,13095423,10148607,8973816,8650717,12122296,16119980,16777136,16308472,0,0],this.makeTables(),this.setEmphasis(0)},loadPALPalette:function(){this.curTable=[5395026,11796480,10485760,11599933,7602281,91,95,6208,12048,543240,26368,1196544,7153664,0,0,0,12899815,16728064,14421538,16729963,14090399,6818519,6588,21681,27227,35843,43776,2918400,10777088,0,0,0,16316664,16755516,16742785,16735173,16730354,14633471,4681215,46327,57599,58229,259115,7911470,15065624,7895160,0,0,16777215,16773822,16300216,16300248,16758527,16761855,13095423,10148607,8973816,8650717,12122296,16119980,16777136,16308472,0,0],this.makeTables(),this.setEmphasis(0)},makeTables:function(){for(var t,e,s,i,n,r,o,a,h=0;h<8;h++)for(r=1,o=1,a=1,0!==(1&h)&&(r=.75,a=.75),0!==(2&h)&&(r=.75,o=.75),0!==(4&h)&&(o=.75,a=.75),this.emphTable[h]=new Array(64),n=0;n<64;n++)i=this.curTable[n],t=Math.floor(this.getRed(i)*r),e=Math.floor(this.getGreen(i)*o),s=Math.floor(this.getBlue(i)*a),this.emphTable[h][n]=this.getRgb(t,e,s)},setEmphasis:function(t){if(t!==this.currentEmph){this.currentEmph=t;for(var e=0;e<64;e++)this.curTable[e]=this.emphTable[t][e]}},getEntry:function(t){return this.curTable[t]},getRed:function(t){return t>>16&255},getGreen:function(t){return t>>8&255},getBlue:function(t){return 255&t},getRgb:function(t,e,s){return t<<16|e<<8|s},loadDefaultPalette:function(){this.curTable[0]=this.getRgb(117,117,117),this.curTable[1]=this.getRgb(39,27,143),this.curTable[2]=this.getRgb(0,0,171),this.curTable[3]=this.getRgb(71,0,159),this.curTable[4]=this.getRgb(143,0,119),this.curTable[5]=this.getRgb(171,0,19),this.curTable[6]=this.getRgb(167,0,0),this.curTable[7]=this.getRgb(127,11,0),this.curTable[8]=this.getRgb(67,47,0),this.curTable[9]=this.getRgb(0,71,0),this.curTable[10]=this.getRgb(0,81,0),this.curTable[11]=this.getRgb(0,63,23),this.curTable[12]=this.getRgb(27,63,95),this.curTable[13]=this.getRgb(0,0,0),this.curTable[14]=this.getRgb(0,0,0),this.curTable[15]=this.getRgb(0,0,0),this.curTable[16]=this.getRgb(188,188,188),this.curTable[17]=this.getRgb(0,115,239),this.curTable[18]=this.getRgb(35,59,239),this.curTable[19]=this.getRgb(131,0,243),this.curTable[20]=this.getRgb(191,0,191),this.curTable[21]=this.getRgb(231,0,91),this.curTable[22]=this.getRgb(219,43,0),this.curTable[23]=this.getRgb(203,79,15),this.curTable[24]=this.getRgb(139,115,0),this.curTable[25]=this.getRgb(0,151,0),this.curTable[26]=this.getRgb(0,171,0),this.curTable[27]=this.getRgb(0,147,59),this.curTable[28]=this.getRgb(0,131,139),this.curTable[29]=this.getRgb(0,0,0),this.curTable[30]=this.getRgb(0,0,0),this.curTable[31]=this.getRgb(0,0,0),this.curTable[32]=this.getRgb(255,255,255),this.curTable[33]=this.getRgb(63,191,255),this.curTable[34]=this.getRgb(95,151,255),this.curTable[35]=this.getRgb(167,139,253),this.curTable[36]=this.getRgb(247,123,255),this.curTable[37]=this.getRgb(255,119,183),this.curTable[38]=this.getRgb(255,119,99),this.curTable[39]=this.getRgb(255,155,59),this.curTable[40]=this.getRgb(243,191,63),this.curTable[41]=this.getRgb(131,211,19),this.curTable[42]=this.getRgb(79,223,75),this.curTable[43]=this.getRgb(88,248,152),this.curTable[44]=this.getRgb(0,235,219),this.curTable[45]=this.getRgb(0,0,0),this.curTable[46]=this.getRgb(0,0,0),this.curTable[47]=this.getRgb(0,0,0),this.curTable[48]=this.getRgb(255,255,255),this.curTable[49]=this.getRgb(171,231,255),this.curTable[50]=this.getRgb(199,215,255),this.curTable[51]=this.getRgb(215,203,255),this.curTable[52]=this.getRgb(255,199,255),this.curTable[53]=this.getRgb(255,199,219),this.curTable[54]=this.getRgb(255,191,179),this.curTable[55]=this.getRgb(255,219,171),this.curTable[56]=this.getRgb(255,231,163),this.curTable[57]=this.getRgb(227,255,163),this.curTable[58]=this.getRgb(171,243,191),this.curTable[59]=this.getRgb(179,255,207),this.curTable[60]=this.getRgb(159,255,243),this.curTable[61]=this.getRgb(0,0,0),this.curTable[62]=this.getRgb(0,0,0),this.curTable[63]=this.getRgb(0,0,0),this.makeTables(),this.setEmphasis(0)}};var C=b,I=1789772.5,E=function(t){this.nes=t,this.square1=new O(this,!0),this.square2=new O(this,!1),this.triangle=new N(this),this.noise=new T(this),this.dmc=new D(this),this.frameIrqCounter=null,this.frameIrqCounterMax=4,this.initCounter=2048,this.channelEnableValue=null,this.sampleRate=44100,this.lengthLookup=null,this.dmcFreqLookup=null,this.noiseWavelengthLookup=null,this.square_table=null,this.tnd_table=null,this.frameIrqEnabled=!1,this.frameIrqActive=null,this.frameClockNow=null,this.startedPlaying=!1,this.recordOutput=!1,this.initingHardware=!1,this.masterFrameCounter=null,this.derivedFrameCounter=null,this.countSequence=null,this.sampleTimer=null,this.frameTime=null,this.sampleTimerMax=null,this.sampleCount=null,this.triValue=0,this.smpSquare1=null,this.smpSquare2=null,this.smpTriangle=null,this.smpDmc=null,this.accCount=null,this.prevSampleL=0,this.prevSampleR=0,this.smpAccumL=0,this.smpAccumR=0,this.dacRange=0,this.dcValue=0,this.masterVolume=256,this.stereoPosLSquare1=null,this.stereoPosLSquare2=null,this.stereoPosLTriangle=null,this.stereoPosLNoise=null,this.stereoPosLDMC=null,this.stereoPosRSquare1=null,this.stereoPosRSquare2=null,this.stereoPosRTriangle=null,this.stereoPosRNoise=null,this.stereoPosRDMC=null,this.extraCycles=null,this.maxSample=null,this.minSample=null,this.panning=[80,170,100,150,128],this.setPanning(this.panning),this.initLengthLookup(),this.initDmcFrequencyLookup(),this.initNoiseWavelengthLookup(),this.initDACtables();for(var e=0;e<20;e++)16===e?this.writeReg(16400,16):this.writeReg(16384+e,0);this.reset()};E.prototype={reset:function(){this.sampleRate=this.nes.opts.sampleRate,this.sampleTimerMax=Math.floor(1024*I*this.nes.opts.preferredFrameRate/(60*this.sampleRate)),this.frameTime=Math.floor(14915*this.nes.opts.preferredFrameRate/60),this.sampleTimer=0,this.updateChannelEnable(0),this.masterFrameCounter=0,this.derivedFrameCounter=0,this.countSequence=0,this.sampleCount=0,this.initCounter=2048,this.frameIrqEnabled=!1,this.initingHardware=!1,this.resetCounter(),this.square1.reset(),this.square2.reset(),this.triangle.reset(),this.noise.reset(),this.dmc.reset(),this.accCount=0,this.smpSquare1=0,this.smpSquare2=0,this.smpTriangle=0,this.smpDmc=0,this.frameIrqEnabled=!1,this.frameIrqCounterMax=4,this.channelEnableValue=255,this.startedPlaying=!1,this.prevSampleL=0,this.prevSampleR=0,this.smpAccumL=0,this.smpAccumR=0,this.maxSample=-5e5,this.minSample=5e5},readReg:function(t){var e=0;return e|=this.square1.getLengthStatus(),e|=this.square2.getLengthStatus()<<1,e|=this.triangle.getLengthStatus()<<2,e|=this.noise.getLengthStatus()<<3,e|=this.dmc.getLengthStatus()<<4,e|=(this.frameIrqActive&&this.frameIrqEnabled?1:0)<<6,e|=this.dmc.getIrqStatus()<<7,this.frameIrqActive=!1,this.dmc.irqGenerated=!1,65535&e},writeReg:function(t,e){t>=16384&&t<16388?this.square1.writeReg(t,e):t>=16388&&t<16392?this.square2.writeReg(t,e):t>=16392&&t<16396?this.triangle.writeReg(t,e):t>=16396&&t<=16399?this.noise.writeReg(t,e):16400===t||16401===t||16402===t||16403===t?this.dmc.writeReg(t,e):16405===t?(this.updateChannelEnable(e),0!==e&&this.initCounter>0&&(this.initingHardware=!0),this.dmc.writeReg(t,e)):16407===t&&(this.countSequence=e>>7&1,this.masterFrameCounter=0,this.frameIrqActive=!1,this.frameIrqEnabled=0===(e>>6&1),0===this.countSequence?(this.frameIrqCounterMax=4,this.derivedFrameCounter=4):(this.frameIrqCounterMax=5,this.derivedFrameCounter=0,this.frameCounterTick()))},resetCounter:function(){0===this.countSequence?this.derivedFrameCounter=4:this.derivedFrameCounter=0},updateChannelEnable:function(t){this.channelEnableValue=65535&t,this.square1.setEnabled(0!==(1&t)),this.square2.setEnabled(0!==(2&t)),this.triangle.setEnabled(0!==(4&t)),this.noise.setEnabled(0!==(8&t)),this.dmc.setEnabled(0!==(16&t))},clockFrameCounter:function(t){if(this.initCounter>0&&this.initingHardware)return this.initCounter-=t,void(this.initCounter<=0&&(this.initingHardware=!1));t+=this.extraCycles;var e=this.sampleTimerMax-this.sampleTimer;t<<10>e?(this.extraCycles=(t<<10)-e>>10,t-=this.extraCycles):this.extraCycles=0;var s=this.dmc,i=this.triangle,n=this.square1,r=this.square2,o=this.noise;if(s.isEnabled)for(s.shiftCounter-=t<<3;s.shiftCounter<=0&&s.dmaFrequency>0;)s.shiftCounter+=s.dmaFrequency,s.clockDmc();if(i.progTimerMax>0)for(i.progTimerCount-=t;i.progTimerCount<=0;)i.progTimerCount+=i.progTimerMax+1,i.linearCounter>0&&i.lengthCounter>0&&(i.triangleCounter++,i.triangleCounter&=31,i.isEnabled&&(i.triangleCounter>=16?i.sampleValue=15&i.triangleCounter:i.sampleValue=15-(15&i.triangleCounter),i.sampleValue<<=4));n.progTimerCount-=t,n.progTimerCount<=0&&(n.progTimerCount+=n.progTimerMax+1<<1,n.squareCounter++,n.squareCounter&=7,n.updateSampleValue()),r.progTimerCount-=t,r.progTimerCount<=0&&(r.progTimerCount+=r.progTimerMax+1<<1,r.squareCounter++,r.squareCounter&=7,r.updateSampleValue());var a=t;if(o.progTimerCount-a>0)o.progTimerCount-=a,o.accCount+=a,o.accValue+=a*o.sampleValue;else for(;a-- >0;)--o.progTimerCount<=0&&o.progTimerMax>0&&(o.shiftReg<<=1,o.tmp=32768&(o.shiftReg<<(0===o.randomMode?1:6)^o.shiftReg),0!==o.tmp?(o.shiftReg|=1,o.randomBit=0,o.sampleValue=0):(o.randomBit=1,o.isEnabled&&o.lengthCounter>0?o.sampleValue=o.masterVolume:o.sampleValue=0),o.progTimerCount+=o.progTimerMax),o.accValue+=o.sampleValue,o.accCount++;this.frameIrqEnabled&&this.frameIrqActive&&this.nes.cpu.requestIrq(this.nes.cpu.IRQ_NORMAL),this.masterFrameCounter+=t<<1,this.masterFrameCounter>=this.frameTime&&(this.masterFrameCounter-=this.frameTime,this.frameCounterTick()),this.accSample(t),this.sampleTimer+=t<<10,this.sampleTimer>=this.sampleTimerMax&&(this.sample(),this.sampleTimer-=this.sampleTimerMax)},accSample:function(t){this.triangle.sampleCondition&&(this.triValue=Math.floor((this.triangle.progTimerCount<<4)/(this.triangle.progTimerMax+1)),this.triValue>16&&(this.triValue=16),this.triangle.triangleCounter>=16&&(this.triValue=16-this.triValue),this.triValue+=this.triangle.sampleValue),2===t?(this.smpTriangle+=this.triValue<<1,this.smpDmc+=this.dmc.sample<<1,this.smpSquare1+=this.square1.sampleValue<<1,this.smpSquare2+=this.square2.sampleValue<<1,this.accCount+=2):4===t?(this.smpTriangle+=this.triValue<<2,this.smpDmc+=this.dmc.sample<<2,this.smpSquare1+=this.square1.sampleValue<<2,this.smpSquare2+=this.square2.sampleValue<<2,this.accCount+=4):(this.smpTriangle+=t*this.triValue,this.smpDmc+=t*this.dmc.sample,this.smpSquare1+=t*this.square1.sampleValue,this.smpSquare2+=t*this.square2.sampleValue,this.accCount+=t)},frameCounterTick:function(){this.derivedFrameCounter++,this.derivedFrameCounter>=this.frameIrqCounterMax&&(this.derivedFrameCounter=0),(1===this.derivedFrameCounter||3===this.derivedFrameCounter)&&(this.triangle.clockLengthCounter(),this.square1.clockLengthCounter(),this.square2.clockLengthCounter(),this.noise.clockLengthCounter(),this.square1.clockSweep(),this.square2.clockSweep()),this.derivedFrameCounter>=0&&this.derivedFrameCounter<4&&(this.square1.clockEnvDecay(),this.square2.clockEnvDecay(),this.noise.clockEnvDecay(),this.triangle.clockLinearCounter()),3===this.derivedFrameCounter&&0===this.countSequence&&(this.frameIrqActive=!0)},sample:function(){var t,e;this.accCount>0?(this.smpSquare1<<=4,this.smpSquare1=Math.floor(this.smpSquare1/this.accCount),this.smpSquare2<<=4,this.smpSquare2=Math.floor(this.smpSquare2/this.accCount),this.smpTriangle=Math.floor(this.smpTriangle/this.accCount),this.smpDmc<<=4,this.smpDmc=Math.floor(this.smpDmc/this.accCount),this.accCount=0):(this.smpSquare1=this.square1.sampleValue<<4,this.smpSquare2=this.square2.sampleValue<<4,this.smpTriangle=this.triangle.sampleValue,this.smpDmc=this.dmc.sample<<4);var s=Math.floor((this.noise.accValue<<4)/this.noise.accCount);this.noise.accValue=s>>4,this.noise.accCount=1,t=this.smpSquare1*this.stereoPosLSquare1+this.smpSquare2*this.stereoPosLSquare2>>8,e=3*this.smpTriangle*this.stereoPosLTriangle+(s<<1)*this.stereoPosLNoise+this.smpDmc*this.stereoPosLDMC>>8,t>=this.square_table.length&&(t=this.square_table.length-1),e>=this.tnd_table.length&&(e=this.tnd_table.length-1);var i=this.square_table[t]+this.tnd_table[e]-this.dcValue;t=this.smpSquare1*this.stereoPosRSquare1+this.smpSquare2*this.stereoPosRSquare2>>8,e=3*this.smpTriangle*this.stereoPosRTriangle+(s<<1)*this.stereoPosRNoise+this.smpDmc*this.stereoPosRDMC>>8,t>=this.square_table.length&&(t=this.square_table.length-1),e>=this.tnd_table.length&&(e=this.tnd_table.length-1);var n=this.square_table[t]+this.tnd_table[e]-this.dcValue,r=i-this.prevSampleL;this.prevSampleL+=r,this.smpAccumL+=r-(this.smpAccumL>>10),i=this.smpAccumL;var o=n-this.prevSampleR;this.prevSampleR+=o,this.smpAccumR+=o-(this.smpAccumR>>10),n=this.smpAccumR,i>this.maxSample&&(this.maxSample=i),i<this.minSample&&(this.minSample=i),this.nes.opts.onAudioSample&&this.nes.opts.onAudioSample(i/32768,n/32768),this.smpSquare1=0,this.smpSquare2=0,this.smpTriangle=0,this.smpDmc=0},getLengthMax:function(t){return this.lengthLookup[t>>3]},getDmcFrequency:function(t){return t>=0&&t<16?this.dmcFreqLookup[t]:0},getNoiseWaveLength:function(t){return t>=0&&t<16?this.noiseWavelengthLookup[t]:0},setPanning:function(t){for(var e=0;e<5;e++)this.panning[e]=t[e];this.updateStereoPos()},setMasterVolume:function(t){t<0&&(t=0),t>256&&(t=256),this.masterVolume=t,this.updateStereoPos()},updateStereoPos:function(){this.stereoPosLSquare1=this.panning[0]*this.masterVolume>>8,this.stereoPosLSquare2=this.panning[1]*this.masterVolume>>8,this.stereoPosLTriangle=this.panning[2]*this.masterVolume>>8,this.stereoPosLNoise=this.panning[3]*this.masterVolume>>8,this.stereoPosLDMC=this.panning[4]*this.masterVolume>>8,this.stereoPosRSquare1=this.masterVolume-this.stereoPosLSquare1,this.stereoPosRSquare2=this.masterVolume-this.stereoPosLSquare2,this.stereoPosRTriangle=this.masterVolume-this.stereoPosLTriangle,this.stereoPosRNoise=this.masterVolume-this.stereoPosLNoise,this.stereoPosRDMC=this.masterVolume-this.stereoPosLDMC},initLengthLookup:function(){this.lengthLookup=[10,254,20,2,40,4,80,6,160,8,60,10,14,12,26,14,12,16,24,18,48,20,96,22,192,24,72,26,16,28,32,30]},initDmcFrequencyLookup:function(){this.dmcFreqLookup=new Array(16),this.dmcFreqLookup[0]=3424,this.dmcFreqLookup[1]=3040,this.dmcFreqLookup[2]=2720,this.dmcFreqLookup[3]=2560,this.dmcFreqLookup[4]=2288,this.dmcFreqLookup[5]=2032,this.dmcFreqLookup[6]=1808,this.dmcFreqLookup[7]=1712,this.dmcFreqLookup[8]=1520,this.dmcFreqLookup[9]=1280,this.dmcFreqLookup[10]=1136,this.dmcFreqLookup[11]=1024,this.dmcFreqLookup[12]=848,this.dmcFreqLookup[13]=672,this.dmcFreqLookup[14]=576,this.dmcFreqLookup[15]=432},initNoiseWavelengthLookup:function(){this.noiseWavelengthLookup=new Array(16),this.noiseWavelengthLookup[0]=4,this.noiseWavelengthLookup[1]=8,this.noiseWavelengthLookup[2]=16,this.noiseWavelengthLookup[3]=32,this.noiseWavelengthLookup[4]=64,this.noiseWavelengthLookup[5]=96,this.noiseWavelengthLookup[6]=128,this.noiseWavelengthLookup[7]=160,this.noiseWavelengthLookup[8]=202,this.noiseWavelengthLookup[9]=254,this.noiseWavelengthLookup[10]=380,this.noiseWavelengthLookup[11]=508,this.noiseWavelengthLookup[12]=762,this.noiseWavelengthLookup[13]=1016,this.noiseWavelengthLookup[14]=2034,this.noiseWavelengthLookup[15]=4068},initDACtables:function(){var t,e,s,i=0,n=0;for(this.square_table=new Array(512),this.tnd_table=new Array(3264),s=0;s<512;s++)t=95.52/(8128/(s/16)+100),t*=.98411,t*=5e4,e=Math.floor(t),this.square_table[s]=e,e>i&&(i=e);for(s=0;s<3264;s++)t=163.67/(24329/(s/16)+100),t*=.98411,t*=5e4,e=Math.floor(t),this.tnd_table[s]=e,e>n&&(n=e);this.dacRange=i+n,this.dcValue=this.dacRange/2}};var D=function(t){this.papu=t,this.MODE_NORMAL=0,this.MODE_LOOP=1,this.MODE_IRQ=2,this.isEnabled=null,this.hasSample=null,this.irqGenerated=!1,this.playMode=null,this.dmaFrequency=null,this.dmaCounter=null,this.deltaCounter=null,this.playStartAddress=null,this.playAddress=null,this.playLength=null,this.playLengthCounter=null,this.shiftCounter=null,this.reg4012=null,this.reg4013=null,this.sample=null,this.dacLsb=null,this.data=null,this.reset()};D.prototype={clockDmc:function(){this.hasSample&&(0===(1&this.data)?this.deltaCounter>0&&this.deltaCounter--:this.deltaCounter<63&&this.deltaCounter++,this.sample=this.isEnabled?(this.deltaCounter<<1)+this.dacLsb:0,this.data>>=1),this.dmaCounter--,this.dmaCounter<=0&&(this.hasSample=!1,this.endOfSample(),this.dmaCounter=8),this.irqGenerated&&this.papu.nes.cpu.requestIrq(this.papu.nes.cpu.IRQ_NORMAL)},endOfSample:function(){0===this.playLengthCounter&&this.playMode===this.MODE_LOOP&&(this.playAddress=this.playStartAddress,this.playLengthCounter=this.playLength),this.playLengthCounter>0&&(this.nextSample(),0===this.playLengthCounter&&this.playMode===this.MODE_IRQ&&(this.irqGenerated=!0))},nextSample:function(){this.data=this.papu.nes.mmap.load(this.playAddress),this.papu.nes.cpu.haltCycles(4),this.playLengthCounter--,this.playAddress++,this.playAddress>65535&&(this.playAddress=32768),this.hasSample=!0},writeReg:function(t,e){16400===t?(e>>6===0?this.playMode=this.MODE_NORMAL:1===(e>>6&1)?this.playMode=this.MODE_LOOP:e>>6===2&&(this.playMode=this.MODE_IRQ),0===(128&e)&&(this.irqGenerated=!1),this.dmaFrequency=this.papu.getDmcFrequency(15&e)):16401===t?(this.deltaCounter=e>>1&63,this.dacLsb=1&e,this.sample=(this.deltaCounter<<1)+this.dacLsb):16402===t?(this.playStartAddress=e<<6|49152,this.playAddress=this.playStartAddress,this.reg4012=e):16403===t?(this.playLength=1+(e<<4),this.playLengthCounter=this.playLength,this.reg4013=e):16405===t&&(0===(e>>4&1)?this.playLengthCounter=0:(this.playAddress=this.playStartAddress,this.playLengthCounter=this.playLength),this.irqGenerated=!1)},setEnabled:function(t){!this.isEnabled&&t&&(this.playLengthCounter=this.playLength),this.isEnabled=t},getLengthStatus:function(){return 0!==this.playLengthCounter&&this.isEnabled?1:0},getIrqStatus:function(){return this.irqGenerated?1:0},reset:function(){this.isEnabled=!1,this.irqGenerated=!1,this.playMode=this.MODE_NORMAL,this.dmaFrequency=0,this.dmaCounter=0,this.deltaCounter=0,this.playStartAddress=0,this.playAddress=0,this.playLength=0,this.playLengthCounter=0,this.sample=0,this.dacLsb=0,this.shiftCounter=0,this.reg4012=0,this.reg4013=0,this.data=0}};var T=function(t){this.papu=t,this.isEnabled=null,this.envDecayDisable=null,this.envDecayLoopEnable=null,this.lengthCounterEnable=null,this.envReset=null,this.shiftNow=null,this.lengthCounter=null,this.progTimerCount=null,this.progTimerMax=null,this.envDecayRate=null,this.envDecayCounter=null,this.envVolume=null,this.masterVolume=null,this.shiftReg=16384,this.randomBit=null,this.randomMode=null,this.sampleValue=null,this.accValue=0,this.accCount=1,this.tmp=null,this.reset()};T.prototype={reset:function(){this.progTimerCount=0,this.progTimerMax=0,this.isEnabled=!1,this.lengthCounter=0,this.lengthCounterEnable=!1,this.envDecayDisable=!1,this.envDecayLoopEnable=!1,this.shiftNow=!1,this.envDecayRate=0,this.envDecayCounter=0,this.envVolume=0,this.masterVolume=0,this.shiftReg=1,this.randomBit=0,this.randomMode=0,this.sampleValue=0,this.tmp=0},clockLengthCounter:function(){this.lengthCounterEnable&&this.lengthCounter>0&&(this.lengthCounter--,0===this.lengthCounter&&this.updateSampleValue())},clockEnvDecay:function(){this.envReset?(this.envReset=!1,this.envDecayCounter=this.envDecayRate+1,this.envVolume=15):--this.envDecayCounter<=0&&(this.envDecayCounter=this.envDecayRate+1,this.envVolume>0?this.envVolume--:this.envVolume=this.envDecayLoopEnable?15:0),this.envDecayDisable?this.masterVolume=this.envDecayRate:this.masterVolume=this.envVolume,this.updateSampleValue()},updateSampleValue:function(){this.isEnabled&&this.lengthCounter>0&&(this.sampleValue=this.randomBit*this.masterVolume)},writeReg:function(t,e){16396===t?(this.envDecayDisable=0!==(16&e),this.envDecayRate=15&e,this.envDecayLoopEnable=0!==(32&e),this.lengthCounterEnable=0===(32&e),this.envDecayDisable?this.masterVolume=this.envDecayRate:this.masterVolume=this.envVolume):16398===t?(this.progTimerMax=this.papu.getNoiseWaveLength(15&e),this.randomMode=e>>7):16399===t&&(this.lengthCounter=this.papu.getLengthMax(248&e),this.envReset=!0)},setEnabled:function(t){this.isEnabled=t,t||(this.lengthCounter=0),this.updateSampleValue()},getLengthStatus:function(){return 0!==this.lengthCounter&&this.isEnabled?1:0}};var O=function(t,e){this.papu=t,this.dutyLookup=[0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,1,1,0,0,0,1,0,0,1,1,1,1,1],this.impLookup=[1,-1,0,0,0,0,0,0,1,0,-1,0,0,0,0,0,1,0,0,0,-1,0,0,0,-1,0,1,0,0,0,0,0],this.sqr1=e,this.isEnabled=null,this.lengthCounterEnable=null,this.sweepActive=null,this.envDecayDisable=null,this.envDecayLoopEnable=null,this.envReset=null,this.sweepCarry=null,this.updateSweepPeriod=null,this.progTimerCount=null,this.progTimerMax=null,this.lengthCounter=null,this.squareCounter=null,this.sweepCounter=null,this.sweepCounterMax=null,this.sweepMode=null,this.sweepShiftAmount=null,this.envDecayRate=null,this.envDecayCounter=null,this.envVolume=null,this.masterVolume=null,this.dutyMode=null,this.sweepResult=null,this.sampleValue=null,this.vol=null,this.reset()};O.prototype={reset:function(){this.progTimerCount=0,this.progTimerMax=0,this.lengthCounter=0,this.squareCounter=0,this.sweepCounter=0,this.sweepCounterMax=0,this.sweepMode=0,this.sweepShiftAmount=0,this.envDecayRate=0,this.envDecayCounter=0,this.envVolume=0,this.masterVolume=0,this.dutyMode=0,this.vol=0,this.isEnabled=!1,this.lengthCounterEnable=!1,this.sweepActive=!1,this.sweepCarry=!1,this.envDecayDisable=!1,this.envDecayLoopEnable=!1},clockLengthCounter:function(){this.lengthCounterEnable&&this.lengthCounter>0&&(this.lengthCounter--,0===this.lengthCounter&&this.updateSampleValue())},clockEnvDecay:function(){this.envReset?(this.envReset=!1,this.envDecayCounter=this.envDecayRate+1,this.envVolume=15):--this.envDecayCounter<=0&&(this.envDecayCounter=this.envDecayRate+1,this.envVolume>0?this.envVolume--:this.envVolume=this.envDecayLoopEnable?15:0),this.envDecayDisable?this.masterVolume=this.envDecayRate:this.masterVolume=this.envVolume,this.updateSampleValue()},clockSweep:function(){--this.sweepCounter<=0&&(this.sweepCounter=this.sweepCounterMax+1,this.sweepActive&&this.sweepShiftAmount>0&&this.progTimerMax>7&&(this.sweepCarry=!1,0===this.sweepMode?(this.progTimerMax+=this.progTimerMax>>this.sweepShiftAmount,this.progTimerMax>4095&&(this.progTimerMax=4095,this.sweepCarry=!0)):this.progTimerMax=this.progTimerMax-((this.progTimerMax>>this.sweepShiftAmount)-(this.sqr1?1:0)))),this.updateSweepPeriod&&(this.updateSweepPeriod=!1,this.sweepCounter=this.sweepCounterMax+1)},updateSampleValue:function(){this.isEnabled&&this.lengthCounter>0&&this.progTimerMax>7?0===this.sweepMode&&this.progTimerMax+(this.progTimerMax>>this.sweepShiftAmount)>4095?this.sampleValue=0:this.sampleValue=this.masterVolume*this.dutyLookup[(this.dutyMode<<3)+this.squareCounter]:this.sampleValue=0},writeReg:function(t,e){var s=this.sqr1?0:4;t===16384+s?(this.envDecayDisable=0!==(16&e),this.envDecayRate=15&e,this.envDecayLoopEnable=0!==(32&e),this.dutyMode=e>>6&3,this.lengthCounterEnable=0===(32&e),this.envDecayDisable?this.masterVolume=this.envDecayRate:this.masterVolume=this.envVolume,this.updateSampleValue()):t===16385+s?(this.sweepActive=0!==(128&e),this.sweepCounterMax=e>>4&7,this.sweepMode=e>>3&1,this.sweepShiftAmount=7&e,this.updateSweepPeriod=!0):t===16386+s?(this.progTimerMax&=1792,this.progTimerMax|=e):t===16387+s&&(this.progTimerMax&=255,this.progTimerMax|=(7&e)<<8,this.isEnabled&&(this.lengthCounter=this.papu.getLengthMax(248&e)),this.envReset=!0)},setEnabled:function(t){this.isEnabled=t,t||(this.lengthCounter=0),this.updateSampleValue()},getLengthStatus:function(){return 0!==this.lengthCounter&&this.isEnabled?1:0}};var N=function(t){this.papu=t,this.isEnabled=null,this.sampleCondition=null,this.lengthCounterEnable=null,this.lcHalt=null,this.lcControl=null,this.progTimerCount=null,this.progTimerMax=null,this.triangleCounter=null,this.lengthCounter=null,this.linearCounter=null,this.lcLoadValue=null,this.sampleValue=null,this.tmp=null,this.reset()};N.prototype={reset:function(){this.progTimerCount=0,this.progTimerMax=0,this.triangleCounter=0,this.isEnabled=!1,this.sampleCondition=!1,this.lengthCounter=0,this.lengthCounterEnable=!1,this.linearCounter=0,this.lcLoadValue=0,this.lcHalt=!0,this.lcControl=!1,this.tmp=0,this.sampleValue=15},clockLengthCounter:function(){this.lengthCounterEnable&&this.lengthCounter>0&&(this.lengthCounter--,0===this.lengthCounter&&this.updateSampleCondition())},clockLinearCounter:function(){this.lcHalt?(this.linearCounter=this.lcLoadValue,this.updateSampleCondition()):this.linearCounter>0&&(this.linearCounter--,this.updateSampleCondition()),this.lcControl||(this.lcHalt=!1)},getLengthStatus:function(){return 0!==this.lengthCounter&&this.isEnabled?1:0},readReg:function(t){return 0},writeReg:function(t,e){16392===t?(this.lcControl=0!==(128&e),this.lcLoadValue=127&e,this.lengthCounterEnable=!this.lcControl):16394===t?(this.progTimerMax&=1792,this.progTimerMax|=e):16395===t&&(this.progTimerMax&=255,this.progTimerMax|=(7&e)<<8,this.lengthCounter=this.papu.getLengthMax(248&e),this.lcHalt=!0),this.updateSampleCondition()},clockProgrammableTimer:function(t){if(this.progTimerMax>0)for(this.progTimerCount+=t;this.progTimerMax>0&&this.progTimerCount>=this.progTimerMax;)this.progTimerCount-=this.progTimerMax,this.isEnabled&&this.lengthCounter>0&&this.linearCounter>0&&this.clockTriangleGenerator()},clockTriangleGenerator:function(){this.triangleCounter++,this.triangleCounter&=31},setEnabled:function(t){this.isEnabled=t,t||(this.lengthCounter=0),this.updateSampleCondition()},updateSampleCondition:function(){this.sampleCondition=this.isEnabled&&this.progTimerMax>7&&this.linearCounter>0&&this.lengthCounter>0}};var w=E,k=p,P={0:function(t){this.nes=t}};P[0].prototype={reset:function(){this.joy1StrobeState=0,this.joy2StrobeState=0,this.joypadLastWrite=0,this.zapperFired=!1,this.zapperX=null,this.zapperY=null},write:function(t,e){t<8192?this.nes.cpu.mem[2047&t]=e:t>16407?(this.nes.cpu.mem[t]=e,t>=24576&&t<32768&&this.nes.opts.onBatteryRamWrite(t,e)):t>8199&&t<16384?this.regWrite(8192+(7&t),e):this.regWrite(t,e)},writelow:function(t,e){t<8192?this.nes.cpu.mem[2047&t]=e:t>16407?this.nes.cpu.mem[t]=e:t>8199&&t<16384?this.regWrite(8192+(7&t),e):this.regWrite(t,e)},load:function(t){return t&=65535,t>16407?this.nes.cpu.mem[t]:t>=8192?this.regLoad(t):this.nes.cpu.mem[2047&t]},regLoad:function(t){switch(t>>12){case 0:break;case 1:break;case 2:case 3:switch(7&t){case 0:return this.nes.cpu.mem[8192];case 1:return this.nes.cpu.mem[8193];case 2:return this.nes.ppu.readStatusRegister();case 3:return 0;case 4:return this.nes.ppu.sramLoad();case 5:return 0;case 6:return 0;case 7:return this.nes.ppu.vramLoad()}break;case 4:switch(t-16405){case 0:return this.nes.papu.readReg(t);case 1:return this.joy1Read();case 2:var e;return e=null!==this.zapperX&&null!==this.zapperY&&this.nes.ppu.isPixelWhite(this.zapperX,this.zapperY)?0:8,this.zapperFired&&(e|=16),65535&(this.joy2Read()|e)}break}return 0},regWrite:function(t,e){switch(t){case 8192:this.nes.cpu.mem[t]=e,this.nes.ppu.updateControlReg1(e);break;case 8193:this.nes.cpu.mem[t]=e,this.nes.ppu.updateControlReg2(e);break;case 8195:this.nes.ppu.writeSRAMAddress(e);break;case 8196:this.nes.ppu.sramWrite(e);break;case 8197:this.nes.ppu.scrollWrite(e);break;case 8198:this.nes.ppu.writeVRAMAddress(e);break;case 8199:this.nes.ppu.vramWrite(e);break;case 16404:this.nes.ppu.sramDMA(e);break;case 16405:this.nes.papu.writeReg(t,e);break;case 16406:0===(1&e)&&1===(1&this.joypadLastWrite)&&(this.joy1StrobeState=0,this.joy2StrobeState=0),this.joypadLastWrite=e;break;case 16407:this.nes.papu.writeReg(t,e);break;default:t>=16384&&t<=16407&&this.nes.papu.writeReg(t,e)}},joy1Read:function(){var t;switch(this.joy1StrobeState){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t=this.nes.controllers[1].state[this.joy1StrobeState];break;case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:t=0;break;case 19:t=1;break;default:t=0}return this.joy1StrobeState++,24===this.joy1StrobeState&&(this.joy1StrobeState=0),t},joy2Read:function(){var t;switch(this.joy2StrobeState){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t=this.nes.controllers[2].state[this.joy2StrobeState];break;case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:t=0;break;case 19:t=1;break;default:t=0}return this.joy2StrobeState++,24===this.joy2StrobeState&&(this.joy2StrobeState=0),t},loadROM:function(){if(!this.nes.rom.valid||this.nes.rom.romCount<1)throw new Error("NoMapper: Invalid ROM! Unable to load.");this.loadPRGROM(),this.loadCHRROM(),this.loadBatteryRam(),this.nes.cpu.requestIrq(this.nes.cpu.IRQ_RESET)},loadPRGROM:function(){this.nes.rom.romCount>1?(this.loadRomBank(0,32768),this.loadRomBank(1,49152)):(this.loadRomBank(0,32768),this.loadRomBank(0,49152))},loadCHRROM:function(){this.nes.rom.vromCount>0&&(1===this.nes.rom.vromCount?(this.loadVromBank(0,0),this.loadVromBank(0,4096)):(this.loadVromBank(0,0),this.loadVromBank(1,4096)))},loadBatteryRam:function(){if(this.nes.rom.batteryRam){var t=this.nes.rom.batteryRam;null!==t&&8192===t.length&&k.copyArrayElements(t,0,this.nes.cpu.mem,24576,8192)}},loadRomBank:function(t,e){t%=this.nes.rom.romCount,k.copyArrayElements(this.nes.rom.rom[t],0,this.nes.cpu.mem,e,16384)},loadVromBank:function(t,e){if(0!==this.nes.rom.vromCount){this.nes.ppu.triggerRendering(),k.copyArrayElements(this.nes.rom.vrom[t%this.nes.rom.vromCount],0,this.nes.ppu.vramMem,e,4096);var s=this.nes.rom.vromTile[t%this.nes.rom.vromCount];k.copyArrayElements(s,0,this.nes.ppu.ptTile,e>>4,256)}},load32kRomBank:function(t,e){this.loadRomBank(2*t%this.nes.rom.romCount,e),this.loadRomBank((2*t+1)%this.nes.rom.romCount,e+16384)},load8kVromBank:function(t,e){0!==this.nes.rom.vromCount&&(this.nes.ppu.triggerRendering(),this.loadVromBank(t%this.nes.rom.vromCount,e),this.loadVromBank((t+1)%this.nes.rom.vromCount,e+4096))},load1kVromBank:function(t,e){if(0!==this.nes.rom.vromCount){this.nes.ppu.triggerRendering();var s=Math.floor(t/4)%this.nes.rom.vromCount,i=t%4*1024;k.copyArrayElements(this.nes.rom.vrom[s],i,this.nes.ppu.vramMem,e,1024);for(var n=this.nes.rom.vromTile[s],r=e>>4,o=0;o<64;o++)this.nes.ppu.ptTile[r+o]=n[(t%4<<6)+o]}},load2kVromBank:function(t,e){if(0!==this.nes.rom.vromCount){this.nes.ppu.triggerRendering();var s=Math.floor(t/2)%this.nes.rom.vromCount,i=t%2*2048;k.copyArrayElements(this.nes.rom.vrom[s],i,this.nes.ppu.vramMem,e,2048);for(var n=this.nes.rom.vromTile[s],r=e>>4,o=0;o<128;o++)this.nes.ppu.ptTile[r+o]=n[(t%2<<7)+o]}},load8kRomBank:function(t,e){var s=Math.floor(t/2)%this.nes.rom.romCount,i=t%2*8192;k.copyArrayElements(this.nes.rom.rom[s],i,this.nes.cpu.mem,e,8192)},clockIrqCounter:function(){},latchAccess:function(t){},toJSON:function(){return{joy1StrobeState:this.joy1StrobeState,joy2StrobeState:this.joy2StrobeState,joypadLastWrite:this.joypadLastWrite}},fromJSON:function(t){this.joy1StrobeState=t.joy1StrobeState,this.joy2StrobeState=t.joy2StrobeState,this.joypadLastWrite=t.joypadLastWrite}},P[1]=function(t){this.nes=t},P[1].prototype=new P[0],P[1].prototype.reset=function(){P[0].prototype.reset.apply(this),this.regBuffer=0,this.regBufferCounter=0,this.mirroring=0,this.oneScreenMirroring=0,this.prgSwitchingArea=1,this.prgSwitchingSize=1,this.vromSwitchingSize=0,this.romSelectionReg0=0,this.romSelectionReg1=0,this.romBankSelect=0},P[1].prototype.write=function(t,e){t<32768?P[0].prototype.write.apply(this,arguments):0!==(128&e)?(this.regBufferCounter=0,this.regBuffer=0,0===this.getRegNumber(t)&&(this.prgSwitchingArea=1,this.prgSwitchingSize=1)):(this.regBuffer=this.regBuffer&255-(1<<this.regBufferCounter)|(1&e)<<this.regBufferCounter,this.regBufferCounter++,5===this.regBufferCounter&&(this.setReg(this.getRegNumber(t),this.regBuffer),this.regBuffer=0,this.regBufferCounter=0))},P[1].prototype.setReg=function(t,e){var s;switch(t){case 0:s=3&e,s!==this.mirroring&&(this.mirroring=s,0===(2&this.mirroring)?this.nes.ppu.setMirroring(this.nes.rom.SINGLESCREEN_MIRRORING):0!==(1&this.mirroring)?this.nes.ppu.setMirroring(this.nes.rom.HORIZONTAL_MIRRORING):this.nes.ppu.setMirroring(this.nes.rom.VERTICAL_MIRRORING)),this.prgSwitchingArea=e>>2&1,this.prgSwitchingSize=e>>3&1,this.vromSwitchingSize=e>>4&1;break;case 1:this.romSelectionReg0=e>>4&1,this.nes.rom.vromCount>0&&(0===this.vromSwitchingSize?0===this.romSelectionReg0?this.load8kVromBank(15&e,0):this.load8kVromBank(Math.floor(this.nes.rom.vromCount/2)+(15&e),0):0===this.romSelectionReg0?this.loadVromBank(15&e,0):this.loadVromBank(Math.floor(this.nes.rom.vromCount/2)+(15&e),0));break;case 2:this.romSelectionReg1=e>>4&1,this.nes.rom.vromCount>0&&1===this.vromSwitchingSize&&(0===this.romSelectionReg1?this.loadVromBank(15&e,4096):this.loadVromBank(Math.floor(this.nes.rom.vromCount/2)+(15&e),4096));break;default:s=15&e;var i,n=0;this.nes.rom.romCount>=32?0===this.vromSwitchingSize?1===this.romSelectionReg0&&(n=16):n=(this.romSelectionReg0|this.romSelectionReg1<<1)<<3:this.nes.rom.romCount>=16&&1===this.romSelectionReg0&&(n=8),0===this.prgSwitchingSize?(i=n+(15&e),this.load32kRomBank(i,32768)):(i=2*n+(15&e),0===this.prgSwitchingArea?this.loadRomBank(i,49152):this.loadRomBank(i,32768))}},P[1].prototype.getRegNumber=function(t){return t>=32768&&t<=40959?0:t>=40960&&t<=49151?1:t>=49152&&t<=57343?2:3},P[1].prototype.loadROM=function(){if(!this.nes.rom.valid)throw new Error("MMC1: Invalid ROM! Unable to load.");this.loadRomBank(0,32768),this.loadRomBank(this.nes.rom.romCount-1,49152),this.loadCHRROM(),this.loadBatteryRam(),this.nes.cpu.requestIrq(this.nes.cpu.IRQ_RESET)},P[1].prototype.switchLowHighPrgRom=function(t){},P[1].prototype.switch16to32=function(){},P[1].prototype.switch32to16=function(){},P[1].prototype.toJSON=function(){var t=P[0].prototype.toJSON.apply(this);return t.mirroring=this.mirroring,t.oneScreenMirroring=this.oneScreenMirroring,t.prgSwitchingArea=this.prgSwitchingArea,t.prgSwitchingSize=this.prgSwitchingSize,t.vromSwitchingSize=this.vromSwitchingSize,t.romSelectionReg0=this.romSelectionReg0,t.romSelectionReg1=this.romSelectionReg1,t.romBankSelect=this.romBankSelect,t.regBuffer=this.regBuffer,t.regBufferCounter=this.regBufferCounter,t},P[1].prototype.fromJSON=function(t){P[0].prototype.fromJSON.apply(this,arguments),this.mirroring=t.mirroring,this.oneScreenMirroring=t.oneScreenMirroring,this.prgSwitchingArea=t.prgSwitchingArea,this.prgSwitchingSize=t.prgSwitchingSize,this.vromSwitchingSize=t.vromSwitchingSize,this.romSelectionReg0=t.romSelectionReg0,this.romSelectionReg1=t.romSelectionReg1,this.romBankSelect=t.romBankSelect,this.regBuffer=t.regBuffer,this.regBufferCounter=t.regBufferCounter},P[2]=function(t){this.nes=t},P[2].prototype=new P[0],P[2].prototype.write=function(t,e){t<32768?P[0].prototype.write.apply(this,arguments):this.loadRomBank(e,32768)},P[2].prototype.loadROM=function(){if(!this.nes.rom.valid)throw new Error("UNROM: Invalid ROM! Unable to load.");this.loadRomBank(0,32768),this.loadRomBank(this.nes.rom.romCount-1,49152),this.loadCHRROM(),this.nes.cpu.requestIrq(this.nes.cpu.IRQ_RESET)},P[3]=function(t){this.nes=t},P[3].prototype=new P[0],P[3].prototype.write=function(t,e){if(t<32768)P[0].prototype.write.apply(this,arguments);else{var s=e%(this.nes.rom.vromCount/2)*2;this.loadVromBank(s,0),this.loadVromBank(s+1,4096),this.load8kVromBank(2*e,0)}},P[4]=function(t){this.nes=t,this.CMD_SEL_2_1K_VROM_0000=0,this.CMD_SEL_2_1K_VROM_0800=1,this.CMD_SEL_1K_VROM_1000=2,this.CMD_SEL_1K_VROM_1400=3,this.CMD_SEL_1K_VROM_1800=4,this.CMD_SEL_1K_VROM_1C00=5,this.CMD_SEL_ROM_PAGE1=6,this.CMD_SEL_ROM_PAGE2=7,this.command=null,this.prgAddressSelect=null,this.chrAddressSelect=null,this.pageNumber=null,this.irqCounter=null,this.irqLatchValue=null,this.irqEnable=null,this.prgAddressChanged=!1},P[4].prototype=new P[0],P[4].prototype.write=function(t,e){if(t<32768)P[0].prototype.write.apply(this,arguments);else switch(t){case 32768:this.command=7&e;var s=e>>6&1;s!==this.prgAddressSelect&&(this.prgAddressChanged=!0),this.prgAddressSelect=s,this.chrAddressSelect=e>>7&1;break;case 32769:this.executeCommand(this.command,e);break;case 40960:0!==(1&e)?this.nes.ppu.setMirroring(this.nes.rom.HORIZONTAL_MIRRORING):this.nes.ppu.setMirroring(this.nes.rom.VERTICAL_MIRRORING);break;case 40961:break;case 49152:this.irqCounter=e;break;case 49153:this.irqLatchValue=e;break;case 57344:this.irqEnable=0;break;case 57345:this.irqEnable=1;break}},P[4].prototype.executeCommand=function(t,e){switch(t){case this.CMD_SEL_2_1K_VROM_0000:0===this.chrAddressSelect?(this.load1kVromBank(e,0),this.load1kVromBank(e+1,1024)):(this.load1kVromBank(e,4096),this.load1kVromBank(e+1,5120));break;case this.CMD_SEL_2_1K_VROM_0800:0===this.chrAddressSelect?(this.load1kVromBank(e,2048),this.load1kVromBank(e+1,3072)):(this.load1kVromBank(e,6144),this.load1kVromBank(e+1,7168));break;case this.CMD_SEL_1K_VROM_1000:0===this.chrAddressSelect?this.load1kVromBank(e,4096):this.load1kVromBank(e,0);break;case this.CMD_SEL_1K_VROM_1400:0===this.chrAddressSelect?this.load1kVromBank(e,5120):this.load1kVromBank(e,1024);break;case this.CMD_SEL_1K_VROM_1800:0===this.chrAddressSelect?this.load1kVromBank(e,6144):this.load1kVromBank(e,2048);break;case this.CMD_SEL_1K_VROM_1C00:0===this.chrAddressSelect?this.load1kVromBank(e,7168):this.load1kVromBank(e,3072);break;case this.CMD_SEL_ROM_PAGE1:this.prgAddressChanged&&(0===this.prgAddressSelect?this.load8kRomBank(2*(this.nes.rom.romCount-1),49152):this.load8kRomBank(2*(this.nes.rom.romCount-1),32768),this.prgAddressChanged=!1),0===this.prgAddressSelect?this.load8kRomBank(e,32768):this.load8kRomBank(e,49152);break;case this.CMD_SEL_ROM_PAGE2:this.load8kRomBank(e,40960),this.prgAddressChanged&&(0===this.prgAddressSelect?this.load8kRomBank(2*(this.nes.rom.romCount-1),49152):this.load8kRomBank(2*(this.nes.rom.romCount-1),32768),this.prgAddressChanged=!1)}},P[4].prototype.loadROM=function(){if(!this.nes.rom.valid)throw new Error("MMC3: Invalid ROM! Unable to load.");this.load8kRomBank(2*(this.nes.rom.romCount-1),49152),this.load8kRomBank(2*(this.nes.rom.romCount-1)+1,57344),this.load8kRomBank(0,32768),this.load8kRomBank(1,40960),this.loadCHRROM(),this.loadBatteryRam(),this.nes.cpu.requestIrq(this.nes.cpu.IRQ_RESET)},P[4].prototype.clockIrqCounter=function(){1===this.irqEnable&&(this.irqCounter--,this.irqCounter<0&&(this.nes.cpu.requestIrq(this.nes.cpu.IRQ_NORMAL),this.irqCounter=this.irqLatchValue))},P[4].prototype.toJSON=function(){var t=P[0].prototype.toJSON.apply(this);return t.command=this.command,t.prgAddressSelect=this.prgAddressSelect,t.chrAddressSelect=this.chrAddressSelect,t.pageNumber=this.pageNumber,t.irqCounter=this.irqCounter,t.irqLatchValue=this.irqLatchValue,t.irqEnable=this.irqEnable,t.prgAddressChanged=this.prgAddressChanged,t},P[4].prototype.fromJSON=function(t){P[0].prototype.fromJSON.apply(this,arguments),this.command=t.command,this.prgAddressSelect=t.prgAddressSelect,this.chrAddressSelect=t.chrAddressSelect,this.pageNumber=t.pageNumber,this.irqCounter=t.irqCounter,this.irqLatchValue=t.irqLatchValue,this.irqEnable=t.irqEnable,this.prgAddressChanged=t.prgAddressChanged},P[5]=function(t){this.nes=t},P[5].prototype=new P[0],P[5].prototype.write=function(t,e){t<32768?P[0].prototype.write.apply(this,arguments):this.load8kVromBank(e,0)},P[5].prototype.write=function(t,e){if(t<20480)P[0].prototype.write.apply(this,arguments);else switch(t){case 20736:this.prg_size=3&e;break;case 20737:this.chr_size=3&e;break;case 20738:this.sram_we_a=3&e;break;case 20739:this.sram_we_b=3&e;break;case 20740:this.graphic_mode=3&e;break;case 20741:this.nametable_mode=e,this.nametable_type[0]=3&e,this.load1kVromBank(3&e,8192),e>>=2,this.nametable_type[1]=3&e,this.load1kVromBank(3&e,9216),e>>=2,this.nametable_type[2]=3&e,this.load1kVromBank(3&e,10240),e>>=2,this.nametable_type[3]=3&e,this.load1kVromBank(3&e,11264);break;case 20742:this.fill_chr=e;break;case 20743:this.fill_pal=3&e;break;case 20755:this.SetBank_SRAM(3,3&e);break;case 20756:case 20757:case 20758:case 20759:this.SetBank_CPU(t,e);break;case 20768:case 20769:case 20770:case 20771:case 20772:case 20773:case 20774:case 20775:this.chr_mode=0,this.chr_page[0][7&t]=e,this.SetBank_PPU();break;case 20776:case 20777:case 20778:case 20779:this.chr_mode=1,this.chr_page[1][0+(3&t)]=e,this.chr_page[1][4+(3&t)]=e,this.SetBank_PPU();break;case 20992:this.split_control=e;break;case 20993:this.split_scroll=e;break;case 20994:this.split_page=63&e;break;case 20995:this.irq_line=e,this.nes.cpu.ClearIRQ();break;case 20996:this.irq_enable=e,this.nes.cpu.ClearIRQ();break;case 20997:this.mult_a=e;break;case 20998:this.mult_b=e;break;default:t>=20480&&t<=20501?this.nes.papu.exWrite(t,e):t>=23552&&t<=24575?2===this.graphic_mode||3!==this.graphic_mode&&this.irq_status:t>=24576&&t<=32767&&2===this.sram_we_a&&this.sram_we_b;break}},P[5].prototype.loadROM=function(){if(!this.nes.rom.valid)throw new Error("UNROM: Invalid ROM! Unable to load.");this.load8kRomBank(2*this.nes.rom.romCount-1,32768),this.load8kRomBank(2*this.nes.rom.romCount-1,40960),this.load8kRomBank(2*this.nes.rom.romCount-1,49152),this.load8kRomBank(2*this.nes.rom.romCount-1,57344),this.loadCHRROM(),this.nes.cpu.requestIrq(this.nes.cpu.IRQ_RESET)},P[7]=function(t){this.nes=t},P[7].prototype=new P[0],P[7].prototype.write=function(t,e){t<32768?P[0].prototype.write.apply(this,arguments):(this.load32kRomBank(7&e,32768),16&e?this.nes.ppu.setMirroring(this.nes.rom.SINGLESCREEN_MIRRORING2):this.nes.ppu.setMirroring(this.nes.rom.SINGLESCREEN_MIRRORING))},P[7].prototype.loadROM=function(){if(!this.nes.rom.valid)throw new Error("AOROM: Invalid ROM! Unable to load.");this.loadPRGROM(),this.loadCHRROM(),this.nes.cpu.requestIrq(this.nes.cpu.IRQ_RESET)},P[11]=function(t){this.nes=t},P[11].prototype=new P[0],P[11].prototype.write=function(t,e){if(t<32768)P[0].prototype.write.apply(this,arguments);else{var s=2*(15&e)%this.nes.rom.romCount,i=(2*(15&e)+1)%this.nes.rom.romCount;if(this.loadRomBank(s,32768),this.loadRomBank(i,49152),this.nes.rom.vromCount>0){var n=2*(e>>4)%this.nes.rom.vromCount;this.loadVromBank(n,0),this.loadVromBank(n+1,4096)}}},P[34]=function(t){this.nes=t},P[34].prototype=new P[0],P[34].prototype.write=function(t,e){t<32768?P[0].prototype.write.apply(this,arguments):this.load32kRomBank(e,32768)},P[38]=function(t){this.nes=t},P[38].prototype=new P[0],P[38].prototype.write=function(t,e){t<28672||t>32767?P[0].prototype.write.apply(this,arguments):(this.load32kRomBank(3&e,32768),this.load8kVromBank(2*(e>>2&3),0))},P[66]=function(t){this.nes=t},P[66].prototype=new P[0],P[66].prototype.write=function(t,e){t<32768?P[0].prototype.write.apply(this,arguments):(this.load32kRomBank(e>>4&3,32768),this.load8kVromBank(2*(3&e),0))},P[94]=function(t){this.nes=t},P[94].prototype=new P[0],P[94].prototype.write=function(t,e){t<32768?P[0].prototype.write.apply(this,arguments):this.loadRomBank(e>>2,32768)},P[94].prototype.loadROM=function(){if(!this.nes.rom.valid)throw new Error("UN1ROM: Invalid ROM! Unable to load.");this.loadRomBank(0,32768),this.loadRomBank(this.nes.rom.romCount-1,49152),this.loadCHRROM(),this.nes.cpu.requestIrq(this.nes.cpu.IRQ_RESET)},P[140]=function(t){this.nes=t},P[140].prototype=new P[0],P[140].prototype.write=function(t,e){t<24576||t>32767?P[0].prototype.write.apply(this,arguments):(this.load32kRomBank(e>>4&3,32768),this.load8kVromBank(2*(15&e),0))},P[180]=function(t){this.nes=t},P[180].prototype=new P[0],P[180].prototype.write=function(t,e){t<32768?P[0].prototype.write.apply(this,arguments):this.loadRomBank(e,49152)},P[180].prototype.loadROM=function(){if(!this.nes.rom.valid)throw new Error("Mapper 180: Invalid ROM! Unable to load.");this.loadRomBank(0,32768),this.loadRomBank(this.nes.rom.romCount-1,49152),this.loadCHRROM(),this.nes.cpu.requestIrq(this.nes.cpu.IRQ_RESET)};var F=P,M=F,x=R,L=function(t){this.nes=t,this.mapperName=new Array(92);for(var e=0;e<92;e++)this.mapperName[e]="Unknown Mapper";this.mapperName[0]="Direct Access",this.mapperName[1]="Nintendo MMC1",this.mapperName[2]="UNROM",this.mapperName[3]="CNROM",this.mapperName[4]="Nintendo MMC3",this.mapperName[5]="Nintendo MMC5",this.mapperName[6]="FFE F4xxx",this.mapperName[7]="AOROM",this.mapperName[8]="FFE F3xxx",this.mapperName[9]="Nintendo MMC2",this.mapperName[10]="Nintendo MMC4",this.mapperName[11]="Color Dreams Chip",this.mapperName[12]="FFE F6xxx",this.mapperName[15]="100-in-1 switch",this.mapperName[16]="Bandai chip",this.mapperName[17]="FFE F8xxx",this.mapperName[18]="Jaleco SS8806 chip",this.mapperName[19]="Namcot 106 chip",this.mapperName[20]="Famicom Disk System",this.mapperName[21]="Konami VRC4a",this.mapperName[22]="Konami VRC2a",this.mapperName[23]="Konami VRC2a",this.mapperName[24]="Konami VRC6",this.mapperName[25]="Konami VRC4b",this.mapperName[32]="Irem G-101 chip",this.mapperName[33]="Taito TC0190/TC0350",this.mapperName[34]="32kB ROM switch",this.mapperName[64]="Tengen RAMBO-1 chip",this.mapperName[65]="Irem H-3001 chip",this.mapperName[66]="GNROM switch",this.mapperName[67]="SunSoft3 chip",this.mapperName[68]="SunSoft4 chip",this.mapperName[69]="SunSoft5 FME-7 chip",this.mapperName[71]="Camerica chip",this.mapperName[78]="Irem 74HC161/32-based",this.mapperName[91]="Pirate HK-SF3 chip"};L.prototype={VERTICAL_MIRRORING:0,HORIZONTAL_MIRRORING:1,FOURSCREEN_MIRRORING:2,SINGLESCREEN_MIRRORING:3,SINGLESCREEN_MIRRORING2:4,SINGLESCREEN_MIRRORING3:5,SINGLESCREEN_MIRRORING4:6,CHRROM_MIRRORING:7,header:null,rom:null,vrom:null,vromTile:null,romCount:null,vromCount:null,mirroring:null,batteryRam:null,trainer:null,fourScreen:null,mapperType:null,valid:!1,load:function(t){var e,s,i;if(-1===t.indexOf("NES"))throw new Error("Not a valid NES ROM.");for(this.header=new Array(16),e=0;e<16;e++)this.header[e]=255&t.charCodeAt(e);this.romCount=this.header[4],this.vromCount=2*this.header[5],this.mirroring=0!==(1&this.header[6])?1:0,this.batteryRam=0!==(2&this.header[6]),this.trainer=0!==(4&this.header[6]),this.fourScreen=0!==(8&this.header[6]),this.mapperType=this.header[6]>>4|240&this.header[7];var n=!1;for(e=8;e<16;e++)if(0!==this.header[e]){n=!0;break}n&&(this.mapperType&=15),this.rom=new Array(this.romCount);var r,o,a=16;for(e=0;e<this.romCount;e++){for(this.rom[e]=new Array(16384),s=0;s<16384&&!(a+s>=t.length);s++)this.rom[e][s]=255&t.charCodeAt(a+s);a+=16384}for(this.vrom=new Array(this.vromCount),e=0;e<this.vromCount;e++){for(this.vrom[e]=new Array(4096),s=0;s<4096&&!(a+s>=t.length);s++)this.vrom[e][s]=255&t.charCodeAt(a+s);a+=4096}for(this.vromTile=new Array(this.vromCount),e=0;e<this.vromCount;e++)for(this.vromTile[e]=new Array(256),s=0;s<256;s++)this.vromTile[e][s]=new x;for(i=0;i<this.vromCount;i++)for(e=0;e<4096;e++)r=e>>4,o=e%16,o<8?this.vromTile[i][r].setScanline(o,this.vrom[i][e],this.vrom[i][e+8]):this.vromTile[i][r].setScanline(o-8,this.vrom[i][e-8],this.vrom[i][e]);this.valid=!0},getMirroringType:function(){return this.fourScreen?this.FOURSCREEN_MIRRORING:0===this.mirroring?this.HORIZONTAL_MIRRORING:this.VERTICAL_MIRRORING},getMapperName:function(){return this.mapperType>=0&&this.mapperType<this.mapperName.length?this.mapperName[this.mapperType]:"Unknown Mapper, "+this.mapperType},mapperSupported:function(){return typeof M[this.mapperType]<"u"},createMapper:function(){if(this.mapperSupported())return new M[this.mapperType](this.nes);throw new Error("This ROM uses a mapper not supported by JSNES: "+this.getMapperName()+"("+this.mapperType+")")}};var V=L,B=g,G=c,q=C,U=w,X=V,j=function(t){var e;if(this.opts={onFrame:function(){},onAudioSample:null,onStatusUpdate:function(){},onBatteryRamWrite:function(){},preferredFrameRate:60,emulateSound:!0,sampleRate:48e3},typeof t<"u")for(e in this.opts)typeof t[e]<"u"&&(this.opts[e]=t[e]);this.frameTime=1e3/this.opts.preferredFrameRate,this.ui={writeFrame:this.opts.onFrame,updateStatus:this.opts.onStatusUpdate},this.cpu=new B(this),this.ppu=new q(this),this.papu=new U(this),this.mmap=null,this.controllers={1:new G,2:new G},this.ui.updateStatus("Ready to load a ROM."),this.frame=this.frame.bind(this),this.buttonDown=this.buttonDown.bind(this),this.buttonUp=this.buttonUp.bind(this),this.zapperMove=this.zapperMove.bind(this),this.zapperFireDown=this.zapperFireDown.bind(this),this.zapperFireUp=this.zapperFireUp.bind(this)};j.prototype={fpsFrameCount:0,romData:null,reset:function(){null!==this.mmap&&this.mmap.reset(),this.cpu.reset(),this.ppu.reset(),this.papu.reset(),this.lastFpsTime=null,this.fpsFrameCount=0},frame:function(){this.ppu.startFrame();var t=0,e=this.opts.emulateSound,s=this.cpu,i=this.ppu,n=this.papu;t:for(;;)for(0===s.cyclesToHalt?(t=s.emulate(),e&&n.clockFrameCounter(t),t*=3):s.cyclesToHalt>8?(t=24,e&&n.clockFrameCounter(8),s.cyclesToHalt-=8):(t=3*s.cyclesToHalt,e&&n.clockFrameCounter(s.cyclesToHalt),s.cyclesToHalt=0);t>0;t--){if(i.curX===i.spr0HitX&&1===i.f_spVisibility&&i.scanline-21===i.spr0HitY&&i.setStatusFlag(i.STATUS_SPRITE0HIT,!0),i.requestEndFrame&&(i.nmiCounter--,0===i.nmiCounter)){i.requestEndFrame=!1,i.startVBlank();break t}i.curX++,341===i.curX&&(i.curX=0,i.endScanline())}this.fpsFrameCount++},buttonDown:function(t,e){this.controllers[t].buttonDown(e)},buttonUp:function(t,e){this.controllers[t].buttonUp(e)},zapperMove:function(t,e){!this.mmap||(this.mmap.zapperX=t,this.mmap.zapperY=e)},zapperFireDown:function(){!this.mmap||(this.mmap.zapperFired=!0)},zapperFireUp:function(){!this.mmap||(this.mmap.zapperFired=!1)},getFPS:function(){var t=+new Date,e=null;return this.lastFpsTime&&(e=this.fpsFrameCount/((t-this.lastFpsTime)/1e3)),this.fpsFrameCount=0,this.lastFpsTime=t,e},reloadROM:function(){null!==this.romData&&this.loadROM(this.romData)},loadROM:function(t){this.rom=new X(this),this.rom.load(t),this.reset(),this.mmap=this.rom.createMapper(),this.mmap.loadROM(),this.ppu.setMirroring(this.rom.getMirroringType()),this.romData=t},setFramerate:function(t){this.opts.preferredFrameRate=t,this.frameTime=1e3/t,this.papu.setSampleRate(this.opts.sampleRate,!1)},toJSON:function(){return{romData:this.romData,cpu:this.cpu.toJSON(),mmap:this.mmap.toJSON(),ppu:this.ppu.toJSON()}},fromJSON:function(t){this.reset(),this.romData=t.romData,this.cpu.fromJSON(t.cpu),this.mmap.fromJSON(t.mmap),this.ppu.fromJSON(t.ppu)}};var H=j,Y={Controller:c,NES:H};function W(t,e){const s=window.indexedDB.open(t,1);let i;function n(t,s){i.transaction([e],"readwrite").objectStore(e).put({id:t,data:s})}function r(t,s){const n=i.transaction([e],"readwrite").objectStore(e).get(t);n.addEventListener("success",(()=>{s(n.result.data)}))}function o(t){i.transaction([e],"readwrite").objectStore(e).delete(t)}function a(){i.transaction([e],"readwrite").objectStore(e).clear()}return s.addEventListener("success",(()=>{i=s.result})),s.addEventListener("success",(()=>{i=s.result})),s.addEventListener("error",(()=>{console.error("indexedDB load error")})),s.addEventListener("upgradeneeded",(()=>{i=s.result,i.objectStoreNames.contains(e)||i.createObjectStore(e,{keyPath:"id"})})),{setItem:n,getItem:r,removeItem:o,clear:a}}function $(t,e,s){return e>=s&&([e,s]=[s,e]),Math.min(s,Math.max(e,t))}function Z(t,e){return Array.from({length:t}).fill(e)}function J(t){return null!==t&&"object"==typeof t&&!Array.isArray(t)}function K(t){return void 0===t}function z(t){return null===t}function Q(t){return"number"==typeof t?isNaN(t):z(t)||K(t)}function tt(t){return!Q(t)}function et(t,e=!0){const s=!e&&Q(t);return Array.isArray(t)?0===t.length:s}function st(t,e=!0){const s=!e&&Q(t);return J(t)?et(Object.keys(t)):s}function it(t,e=16){e=$(e,2,36);let s="";for(let i=1;i<=t;i++)s+=Math.floor(Math.random()*e).toString(e);return s}function nt(){let t="";if(typeof crypto<"u"&&"randomUUID"in crypto)t=crypto.randomUUID();else if(typeof Blob>"u")t=`${it(8)}-${it(4)}-${it(4)}-${it(4)}-${it(12)}`;else{const e=URL.createObjectURL(new Blob);t=e.toString().substring(e.lastIndexOf("/")+1),URL.revokeObjectURL(e)}return t}function rt(t,e=nt()){const s=document.createElement("a");s.href=t,s.download=e,s.click()}function ot(t,e=nt()){rt(t.toDataURL("image/png"),e)}function at(t){return Object.keys(t)}function ht(t,e){return t in e}let lt={};const ut="........",ct=/\|\d\|([LRUDTSAB.]{8})\|([LRUDTSAB.]{8})?\|\|/g;function pt(t,e){let s=ct.exec(t),i=0+e,n=!1;if(lt={},s)for(;s;){const e=s[1]===ut,r=s[2]===ut;if(e&&r){n&&(lt[i]={p1:Z(8,64),p2:Z(8,64)},n=!1),i++,s=ct.exec(t);continue}n=!0;const o=s[1]?s[1].split("").map((t=>"."===t?64:65)).reverse():Z(8,64),a=s[2]?s[2].split("").map((t=>"."===t?64:65)).reverse():Z(8,64);s=ct.exec(t),lt[i]={p1:o,p2:a},i++}}const ft=256,dt=240;let mt,gt,_t,Rt;const St=new ImageData(ft,dt);function vt(t){Mt.frameCounter++;for(let e=0;e<61440;e+=1)_t[e]=4278190080|t[e]}function bt(){St.data.set(gt),Rt.putImageData(St,0,0)}function yt(t){Rt=t.getContext("2d"),Rt.fillStyle="black",Rt.fillRect(0,0,ft,dt);const e=new ArrayBuffer(St.data.length);function s(){cancelAnimationFrame(mt),mt=requestAnimationFrame(s),bt()}gt=new Uint8ClampedArray(e),_t=new Uint32Array(e),Mt.frameCounter=1,mt=requestAnimationFrame(s)}function At(t){const e=t.parentNode,s=e.clientWidth,i=e.clientHeight,n=s/i,r=ft/dt;r<n?(t.style.height=`${i}px`,t.style.width=`${Math.round(i+r)}px`):(t.style.width=`${s}px`,t.style.height=`${Math.round(s/r)}px`)}function Ct(){cancelAnimationFrame(mt)}function It(t){const e=new Image;return e.src=t.toDataURL("image/png"),e}function Et(t){return Array(t).fill(!1)}function Dt(t){return t.filter(Boolean)}function Tt(){return Z(32768,0).map(((t,e)=>e))}function Ot(t){const e=[];let s=t[0],i=1;for(let n=1;n<t.length;n++)t[n]===s?i++:(i>1?(e.push(i),e.push(s)):e.push(-s-1),s=t[n],i=1);return e.push(i),e.push(s),e}function Nt(t){const e=[];for(let s=0;s<t.length;)if(t[s]<0)e.push(-t[s]-1),s++;else{const i=t[s],n=t[s+1];for(let t=0;t<i;t++)e.push(n);s+=2}return e}function wt(t){const e=[],s=[];for(let i=0;i<t.length;i++){for(let s=0;s<t[i].opaque.length;s++)!1===t[i].opaque[s]?e.push(0):e.push(1);s.push(...t[i].pix)}return[Ot(e),Ot(s)]}function kt(t){const e=[];let s=Array(8),i=[];const n=Nt(t[0]),r=Nt(t[1]);for(let o=0;o<512;o+=1){for(let t=0;t<8;t+=1)0===n[8*o+t]&&(s[t]=!1);for(let t=0;t<64;t+=1)i[t]=r[64*o+t];e.push({opaque:s,pix:i}),s=Array(8),i=[]}return e}function Pt(t){const e=[],s=[];return t.reduce(((t,i)=>(e.push(...i.tile),s.push(...i.attrib),t)),e),[Ot(e),Ot(s)]}function Ft(t){const e=[];let s=[],i=[];const n=Nt(t[0]),r=Nt(t[1]);for(let o=0;o<4096;o+=1)s.push(n[o]),i.push(r[o]),(o+1)%1024===0&&(e.push({tile:s,attrib:i}),s=[],i=[]);return e}const Mt=new Y.NES({onFrame:vt,onAudioSample:Jt,sampleRate:Kt()});Mt.videoMode=!1,Mt.frameCounter=1,Mt.playbackMode=!1;const xt={buffer:null};function Lt(t){const e=Mt.ppu.toJSON(),s=Mt.cpu.toJSON(),i=Mt.mmap.toJSON();delete e.attrib,delete e.bgbuffer,delete e.buffer,delete e.pixrendered,delete e.vramMirrorTable;const n=Ot(e.vramMem),r=Pt(e.nameTable),o=wt(e.ptTile),a=Ot(s.mem);return delete e.vramMem,delete e.nameTable,delete s.mem,delete e.ptTile,{path:t,data:{cpu:s,mmap:i,ppu:e,vramMemZip:n,nameTableZip:r,cpuMemZip:a,ptTileZip:o,frameCounter:Mt.frameCounter}}}function Vt(t,e,s){if(s&&t.path!==s)return e({code:2,message:`Load Error: The saved data is inconsistent with the current game, saved: ${t.path}, current: ${s}.`});if(!xt.buffer)return e({code:3,message:"Load Error: NES ROM is not loaded."});try{const{ppu:e,cpu:s,mmap:i,frameCounter:n,vramMemZip:r,nameTableZip:o,cpuMemZip:a,ptTileZip:h}=t.data;e.attrib=Z(32,0),e.bgbuffer=Z(61440,0),e.buffer=Z(61440,0),e.pixrendered=Z(61440,0),e.vramMem=Nt(r),e.nameTable=Ft(o),e.vramMirrorTable=Tt(),e.ptTile=kt(h),s.mem=Nt(a),Mt.ppu.reset(),Mt.romData=xt.buffer,Mt.cpu.fromJSON(s),Mt.mmap.fromJSON(i),Mt.ppu.fromJSON(e),Mt.frameCounter=n}catch(i){console.error(i),e({code:3,message:"Load Error: The saved data is invalid."})}}let Bt,Gt=new AudioContext,qt=1;const Ut=512,Xt=4096,jt=Xt-1,Ht=new Float32Array(Xt),Yt=new Float32Array(Xt);let Wt=0,$t=0;function Zt(){return Wt-$t&jt}function Jt(t,e){Ht[Wt]=t,Yt[Wt]=e,Wt=Wt+1&jt}function Kt(){if(!window.AudioContext)return 44100;const t=new window.AudioContext,e=t.sampleRate;return t.close(),e}function zt(){if(Mt.videoMode){const t=lt[Mt.frameCounter];Mt.frameCounter>0&&t&&(Mt.controllers[1].state=t.p1,Mt.controllers[2].state=t.p2)}Mt.frame()}function Qt(){Gt=new AudioContext,Bt=Gt.createScriptProcessor(Ut,0,2),Bt.onaudioprocess=t=>{const e=t.outputBuffer,s=e.length;Zt()<Ut&&zt();const i=e.getChannelData(0),n=e.getChannelData(1);for(let r=0;r<s;r++){const t=$t+r&jt;i[r]=Ht[t]*qt,n[r]=Yt[t]*qt}$t=$t+s&jt},Bt.connect(Gt.destination)}function te(){Bt.disconnect(Gt.destination),Bt.onaudioprocess=null,Bt={},"close"in Gt&&Gt.close()}function ee(){Gt.suspend()}function se(){Gt.resume()}function ie(t){qt=$(t,0,100)/100}const ne=.3,re={UP:"KeyW",DOWN:"KeyS",LEFT:"KeyA",RIGHT:"KeyD",A:"KeyK",B:"KeyJ",C:"KeyI",D:"KeyU",SELECT:"Digit2",START:"Digit1"},oe={UP:"ArrowUp",DOWN:"ArrowDown",LEFT:"ArrowLeft",RIGHT:"ArrowRight",A:"Numpad2",B:"Numpad1",C:"Numpad5",D:"Numpad4"},ae={UP:"BUTTON_UP",DOWN:"BUTTON_DOWN",LEFT:"BUTTON_LEFT",RIGHT:"BUTTON_RIGHT",A:"BUTTON_A",B:"BUTTON_B",C:"BUTTON_A",D:"BUTTON_B",SELECT:"BUTTON_SELECT",START:"BUTTON_START"},he=at(ae);class le{constructor(t){l(this,"animationFrame"),l(this,"axesHolding"),l(this,"btnHolding"),l(this,"gamepad_btns"),window.addEventListener("gamepadconnected",this.connectHandler.bind(this,!0)),window.addEventListener("gamepaddisconnected",this.connectHandler.bind(this,!1)),this.animationFrame=requestAnimationFrame(this.frame.bind(this)),this.btnHolding={p1:Et(20),p2:Et(20)},this.axesHolding={p1:Et(4),p2:Et(4)},this.gamepad_btns=t}get gamepads(){return Dt(Array.from(navigator.getGamepads()))}connectHandler(t,e){t?this.gamepads[e.gamepad.index]=e.gamepad:0===this.gamepads.length&&this.close()}axesHandler(t,e,s,i){var n;const r=null==(n=this.axesHolding[t])?void 0:n[s];e?r||(document.dispatchEvent(new KeyboardEvent("keydown",{code:this.gamepad_btns.value[t][i]})),this.axesHolding[t][s]=!0):r&&(document.dispatchEvent(new KeyboardEvent("keyup",{code:this.gamepad_btns.value[t][i]})),this.axesHolding[t][s]=!1)}btnHandler(t,e,s){var i;const n=null==(i=this.btnHolding[t])?void 0:i[s];if(e.pressed){if(n)return;this.btnHolding[t][s]=!0,document.dispatchEvent(new KeyboardEvent("keydown",{code:this.gamepad_btns.value[t][s]}))}else n&&(this.btnHolding[t][s]=!1,document.dispatchEvent(new KeyboardEvent("keyup",{code:this.gamepad_btns.value[t][s]})))}run(){for(let t=0;t<this.gamepads.length&&!(t>1);t++){const e=`p${t+1}`,s=this.gamepads[t];s.buttons.forEach(this.btnHandler.bind(this,e));const i=s.axes[0],n=s.axes[1];this.axesHandler(e,i>ne,0,15),this.axesHandler(e,i<-ne,1,14),this.axesHandler(e,n>ne,2,13),this.axesHandler(e,n<-ne,3,12)}}frame(){this.run(),cancelAnimationFrame(this.animationFrame),this.animationFrame=requestAnimationFrame(this.frame.bind(this))}close(){this.btnHolding.p1.fill(!1),this.btnHolding.p2.fill(!1),cancelAnimationFrame(this.animationFrame)}}const ue=t=>{const e=(0,i.Fl)((()=>Object.assign(re,t.p1))),s=(0,i.Fl)((()=>Object.assign(oe,t.p2))),n=(0,i.Fl)((()=>{const t={};return he.forEach((i=>{t[e.value[i]]={key:i,p:1,value:ae[i]},i in s.value&&(t[s.value[i]]={key:i,p:2,value:ae[i]})})),t})),r=(0,i.Fl)((()=>[e.value.C,e.value.D,s.value.C,s.value.D])),o=(0,i.Fl)((()=>({p1:[e.value.A,e.value.C,e.value.B,e.value.D,"","","","",e.value.SELECT,e.value.START,"","",e.value.UP,e.value.DOWN,e.value.LEFT,e.value.RIGHT],p2:[s.value.A,s.value.C,s.value.B,s.value.D,"","","","",e.value.SELECT,e.value.START,"","",s.value.UP,s.value.DOWN,s.value.LEFT,s.value.RIGHT]}))),a=new le(o);return(0,i.bv)((()=>{a.frame()})),(0,i.Jd)((()=>{a.close()})),[n,r]},ce=["width","height"],pe={style:{position:"absolute",top:"0",left:"0%","background-color":"#000",width:"100%",height:"100%"}},fe=(0,i.aZ)({name:"nes-vue",__name:"NesVue",props:{url:{},autoStart:{type:Boolean,default:!1},width:{default:"256px"},height:{default:"240px"},label:{default:"Game Start"},gain:{default:100},noClip:{type:Boolean,default:!1},storage:{type:Boolean,default:!1},debugger:{type:Boolean,default:!1},turbo:{default:16},p1:{default:()=>re},p2:{default:()=>oe}},emits:["fps","success","error","saved","loaded","update:url","removed"],setup(t,{expose:e,emit:s}){const a=t;if(!a.url)throw"nes-vue missing props: url.";const[h,l]=ue(a),u=(0,n.iH)(null),c=(0,n.iH)(!0),p=W("nes-vue","save_data");let f,d=!1;function m(t){return a.debugger&&console.error(t.message),s("error",t),!1}(0,n.cE)((()=>{Mt.ppu.clipToTvSize=!a.noClip}));const g={p1:{C:{timeout:0,beDown:!1,once:!0},D:{timeout:0,beDown:!1,once:!0}},p2:{C:{timeout:0,beDown:!1,once:!0},D:{timeout:0,beDown:!1,once:!0}}},_=(0,i.Fl)((()=>{const t=1e3/(2*a.turbo);return $(t,20,100)})),R=function(t){const e=t.code;if(ht(e,h.value)){const s=h.value[e];if(l.value.includes(t.code)){const t=g[`p${s.p}`][s.key];return void(t.once&&(Mt.buttonDown(s.p,Y.Controller[s.value]),t.timeout=window.setInterval((()=>{t.beDown?Mt.buttonDown(s.p,Y.Controller[s.value]):Mt.buttonUp(s.p,Y.Controller[s.value]),t.beDown=!t.beDown}),_.value),t.once=!1))}Mt.buttonDown(s.p,Y.Controller[s.value])}},S=function(t){const e=t.code;if(ht(e,h.value)){const s=h.value[e];if(l.value.includes(t.code)){const t=g[`p${s.p}`][s.key];clearInterval(t.timeout),t.once=!0}Mt.buttonUp(s.p,Y.Controller[s.value])}};function v(){document.addEventListener("keydown",R),document.addEventListener("keyup",S)}function b(){document.removeEventListener("keydown",R),document.removeEventListener("keyup",S)}function y(t=a.url){if(!Q(u.value))return c.value?c.value=!1:(te(),Ct(),clearInterval(f)),t!==a.url?(xt.buffer=null,void s("update:url",t)):(yt(u.value),void new Promise(((e,i)=>{function n(n){try{Mt.loadROM(n),f=window.setInterval((()=>{const t=Mt.getFPS();s("fps",t||0)}),1e3),e("success")}catch{i({code:0,message:`${t} loading Error: Probably the ROM is unsupported.`}),c.value=!0}}if(tt(xt.buffer))n(xt.buffer);else{const e=new XMLHttpRequest;e.open("GET",t),e.overrideMimeType("text/plain; charset=x-user-defined"),e.onerror=()=>{i({code:404,message:`${t} loading Error: ${e.statusText}`})},e.onload=function(){200===this.status?(xt.buffer=this.responseText,n(xt.buffer)):i({code:404,message:`${t} loading Error: ${e.statusText}`})},e.send()}u.value&&At(u.value),v()})).then((()=>{Qt(),s("success")}),(t=>(m(t),t))))}function A(){Mt.videoMode&&V(),c.value||C(),d&&(d=!1),a.url&&y()}function C(){c.value||(te(),Ct(),clearInterval(f),Mt.reset(),c.value=!0)}function I(t){return void 0===t&&m({code:4,message:"TypeError: id is undefined."})}function E(t){Vt(t,m,a.url)}function D(t){if(!I(t))try{localStorage.setItem(t,JSON.stringify(Lt(a.url))),s("saved",{id:t,message:"The state has been saved in localStorage",target:"localStorage"})}catch(e){if("QuotaExceededError"===e.name)return m({code:1,message:"Save Error: localStorage out of memory."})}}function T(t){if(I(t))return;const e=localStorage.getItem(t);if(!e)return m({code:2,message:"Load Error: nothing to load."});E(JSON.parse(e)),s("loaded",{id:t,message:"Loaded state from localStorage",target:"localStorage"})}function O(t){if(!I(t))try{p.setItem(t,Lt(a.url))}catch{m({code:1,message:"Save Error: Unable to save data to indexedDB."})}}function N(t){I(t)||p.getItem(t,(t=>{E(t)}))}function w(t){if(!I(t)){if(!Mt.cpu.irqRequested||d||c.value)return m({code:1,message:"Save Error: Can only be saved while the game is running."});a.storage?D(t):O(t)}}function k(t){if(!I(t)){if(!Mt.cpu.irqRequested||d||c.value)return m({code:2,message:"Load Error: Can only be loaded when the game is running."});a.storage?T(t):N(t)}}function P(t){I(t)||(a.storage?localStorage.removeItem(t):p.removeItem(t))}function F(){p.clear()}function M(t,e){if(!u.value||c.value)return;const s=It(u.value);return t&&ot(u.value,e),s}function x(){st(lt,!1)?m({code:3,message:"FM2 Error: No fm2 scripts found."}):(A(),Mt.videoMode=!0,b())}async function L(t,e=0){try{const s=await(await fetch(t)).text();pt(s,e)}catch(s){return m({code:4,message:"FM2 Error: Unable to load fm2 file."}),Promise.reject(s)}return x}function V(){Mt.videoMode=!1,Mt.controllers[1].state=Z(8,64),Mt.controllers[2].state=Z(8,64),v()}function B(t,e=0){return pt(t,e),Promise.resolve(x)}function G(){d=!0,ee()}function q(){d=!1,se()}const U=(0,i.Fl)((()=>{const t=/^\d*$/;let e=a.width,s=a.height;return u.value&&(0,i.Y3)((()=>{u.value&&At(u.value)})),t.test(String(e))&&(e+="px"),t.test(String(s))&&(s+="px"),`width: ${e};height: ${s};background-color: #000;margin: auto;position: relative;overflow: hidden;`}));return(0,i.YP)((()=>a.url),(()=>{xt.buffer=null,A()})),(0,i.YP)((()=>a.gain),(()=>{ie(a.gain)})),(0,i.bv)((()=>{xt.buffer=null,a.autoStart&&y(),ie(a.gain)})),(0,i.Jd)((()=>{b(),C()})),e({start:y,reset:A,stop:C,pause:G,play:q,save:w,load:k,remove:P,clear:F,screenshot:M,fm2URL:L,fm2Text:B,fm2Play:x,fm2Stop:V}),(t,e)=>((0,i.wg)(),(0,i.iD)("div",{style:(0,r.j5)(U.value)},[(0,i._)("canvas",{ref_key:"cvs",ref:u,width:(0,n.SU)(ft),height:(0,n.SU)(dt),style:{display:"inline-block"}},null,8,ce),(0,i.wy)((0,i._)("div",pe,null,512),[[o.F8,c.value]]),c.value?((0,i.wg)(),(0,i.iD)("div",{key:0,style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",cursor:"pointer",color:"#f8f4ed","font-size":"20px"},onClick:e[0]||(e[0]=t=>y())},(0,r.zw)(t.label),1)):(0,i.kq)("",!0)],4))}})},5699:function(t,e){"use strict";var s=window.freelogApp;e.freelogApp=s},893:function(t,e,s){"use strict";t.exports=s(5699)},7720:function(t,e,s){"use strict";s.d(e,{z:function(){return r}});var i,n=function(){return Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))};function r(t,e){void 0===e&&(e={});var s=e.registrationOptions;void 0===s&&(s={}),delete e.registrationOptions;var r=function(t){var s=[],i=arguments.length-1;while(i-- >0)s[i]=arguments[i+1];e&&e[t]&&e[t].apply(e,s)};"serviceWorker"in navigator&&i.then((function(){n()?(h(t,r,s),navigator.serviceWorker.ready.then((function(t){r("ready",t)})).catch((function(t){return o(r,t)}))):(a(t,r,s),navigator.serviceWorker.ready.then((function(t){r("ready",t)})).catch((function(t){return o(r,t)})))}))}function o(t,e){navigator.onLine||t("offline"),t("error",e)}function a(t,e,s){navigator.serviceWorker.register(t,s).then((function(t){e("registered",t),t.waiting?e("updated",t):t.onupdatefound=function(){e("updatefound",t);var s=t.installing;s.onstatechange=function(){"installed"===s.state&&(navigator.serviceWorker.controller?e("updated",t):e("cached",t))}}})).catch((function(t){return o(e,t)}))}function h(t,e,s){fetch(t).then((function(i){404===i.status?(e("error",new Error("Service worker not found at "+t)),l()):-1===i.headers.get("content-type").indexOf("javascript")?(e("error",new Error("Expected "+t+" to have javascript content-type, but received "+i.headers.get("content-type"))),l()):a(t,e,s)})).catch((function(t){return o(e,t)}))}function l(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){return o(emit,t)}))}"undefined"!==typeof window&&(i="undefined"!==typeof Promise?new Promise((function(t){return window.addEventListener("load",t)})):{then:function(t){return window.addEventListener("load",t)}})},8081:function(t,e){"use strict";e.Z=(t,e)=>{const s=t.__vccOpts||t;for(const[i,n]of e)s[i]=n;return s}},5348:function(t,e,s){"use strict";s.d(e,{WB:function(){return ct},Q_:function(){return Ct}});s(4306),s(9308);var i=s(1944),n=s(7552),r=!1;function o(t,e,s){return Array.isArray(t)?(t.length=Math.max(t.length,e),t.splice(e,1,s),s):(t[e]=s,s)}function a(){return h().__VUE_DEVTOOLS_GLOBAL_HOOK__}function h(){return"undefined"!==typeof navigator&&"undefined"!==typeof window?window:"undefined"!==typeof s.g?s.g:{}}const l="function"===typeof Proxy,u="devtools-plugin:setup",c="plugin:settings:set";let p,f,d;function m(){var t;return void 0!==p||("undefined"!==typeof window&&window.performance?(p=!0,f=window.performance):"undefined"!==typeof s.g&&(null===(t=s.g.perf_hooks)||void 0===t?void 0:t.performance)?(p=!0,f=s.g.perf_hooks.performance):p=!1),p}function g(){return m()?f.now():Date.now()}class _{constructor(t,e){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=e;const s={};if(t.settings)for(const o in t.settings){const e=t.settings[o];s[o]=e.defaultValue}const i=`__vue-devtools-plugin-settings__${t.id}`;let n=Object.assign({},s);try{const t=localStorage.getItem(i),e=JSON.parse(t);Object.assign(n,e)}catch(r){}this.fallbacks={getSettings(){return n},setSettings(t){try{localStorage.setItem(i,JSON.stringify(t))}catch(r){}n=t},now(){return g()}},e&&e.on(c,((t,e)=>{t===this.plugin.id&&this.fallbacks.setSettings(e)})),this.proxiedOn=new Proxy({},{get:(t,e)=>this.target?this.target.on[e]:(...t)=>{this.onQueue.push({method:e,args:t})}}),this.proxiedTarget=new Proxy({},{get:(t,e)=>this.target?this.target[e]:"on"===e?this.proxiedOn:Object.keys(this.fallbacks).includes(e)?(...t)=>(this.targetQueue.push({method:e,args:t,resolve:()=>{}}),this.fallbacks[e](...t)):(...t)=>new Promise((s=>{this.targetQueue.push({method:e,args:t,resolve:s})}))})}async setRealTarget(t){this.target=t;for(const e of this.onQueue)this.target.on[e.method](...e.args);for(const e of this.targetQueue)e.resolve(await this.target[e.method](...e.args))}}function R(t,e){const s=t,i=h(),n=a(),r=l&&s.enableEarlyProxy;if(!n||!i.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&r){const t=r?new _(s,n):null,o=i.__VUE_DEVTOOLS_PLUGINS__=i.__VUE_DEVTOOLS_PLUGINS__||[];o.push({pluginDescriptor:s,setupFn:e,proxy:t}),t&&e(t.proxiedTarget)}else n.emit(u,t,e)}const S=t=>d=t,v=Symbol();function b(t){return t&&"object"===typeof t&&"[object Object]"===Object.prototype.toString.call(t)&&"function"!==typeof t.toJSON}var y;(function(t){t["direct"]="direct",t["patchObject"]="patch object",t["patchFunction"]="patch function"})(y||(y={}));const A="undefined"!==typeof window,C=!1,I=(()=>"object"===typeof window&&window.window===window?window:"object"===typeof self&&self.self===self?self:"object"===typeof global&&global.global===global?global:"object"===typeof globalThis?globalThis:{HTMLElement:null})();function E(t,{autoBom:e=!1}={}){return e&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t}function D(t,e,s){const i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){k(i.response,e,s)},i.onerror=function(){console.error("could not download file")},i.send()}function T(t){const e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(s){}return e.status>=200&&e.status<=299}function O(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(e){const s=document.createEvent("MouseEvents");s.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(s)}}const N="object"===typeof navigator?navigator:{userAgent:""},w=(()=>/Macintosh/.test(N.userAgent)&&/AppleWebKit/.test(N.userAgent)&&!/Safari/.test(N.userAgent))(),k=A?"undefined"!==typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype&&!w?P:"msSaveOrOpenBlob"in N?F:M:()=>{};function P(t,e="download",s){const i=document.createElement("a");i.download=e,i.rel="noopener","string"===typeof t?(i.href=t,i.origin!==location.origin?T(i.href)?D(t,e,s):(i.target="_blank",O(i)):O(i)):(i.href=URL.createObjectURL(t),setTimeout((function(){URL.revokeObjectURL(i.href)}),4e4),setTimeout((function(){O(i)}),0))}function F(t,e="download",s){if("string"===typeof t)if(T(t))D(t,e,s);else{const e=document.createElement("a");e.href=t,e.target="_blank",setTimeout((function(){O(e)}))}else navigator.msSaveOrOpenBlob(E(t,s),e)}function M(t,e,s,i){if(i=i||open("","_blank"),i&&(i.document.title=i.document.body.innerText="downloading..."),"string"===typeof t)return D(t,e,s);const n="application/octet-stream"===t.type,r=/constructor/i.test(String(I.HTMLElement))||"safari"in I,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||n&&r||w)&&"undefined"!==typeof FileReader){const e=new FileReader;e.onloadend=function(){let t=e.result;if("string"!==typeof t)throw i=null,new Error("Wrong reader.result type");t=o?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=t:location.assign(t),i=null},e.readAsDataURL(t)}else{const e=URL.createObjectURL(t);i?i.location.assign(e):location.href=e,i=null,setTimeout((function(){URL.revokeObjectURL(e)}),4e4)}}function x(t,e){const s="🍍 "+t;"function"===typeof __VUE_DEVTOOLS_TOAST__?__VUE_DEVTOOLS_TOAST__(s,e):"error"===e?console.error(s):"warn"===e?console.warn(s):console.log(s)}function L(t){return"_a"in t&&"install"in t}function V(){if(!("clipboard"in navigator))return x("Your browser doesn't support the Clipboard API","error"),!0}function B(t){return!!(t instanceof Error&&t.message.toLowerCase().includes("document is not focused"))&&(x('You need to activate the "Emulate a focused page" setting in the "Rendering" panel of devtools.',"warn"),!0)}async function G(t){if(!V())try{await navigator.clipboard.writeText(JSON.stringify(t.state.value)),x("Global state copied to clipboard.")}catch(e){if(B(e))return;x("Failed to serialize the state. Check the console for more details.","error"),console.error(e)}}async function q(t){if(!V())try{t.state.value=JSON.parse(await navigator.clipboard.readText()),x("Global state pasted from clipboard.")}catch(e){if(B(e))return;x("Failed to deserialize the state from clipboard. Check the console for more details.","error"),console.error(e)}}async function U(t){try{k(new Blob([JSON.stringify(t.state.value)],{type:"text/plain;charset=utf-8"}),"pinia-state.json")}catch(e){x("Failed to export the state as JSON. Check the console for more details.","error"),console.error(e)}}let X;function j(){function t(){return new Promise(((t,e)=>{X.onchange=async()=>{const e=X.files;if(!e)return t(null);const s=e.item(0);return t(s?{text:await s.text(),file:s}:null)},X.oncancel=()=>t(null),X.onerror=e,X.click()}))}return X||(X=document.createElement("input"),X.type="file",X.accept=".json"),t}async function H(t){try{const e=await j(),s=await e();if(!s)return;const{text:i,file:n}=s;t.state.value=JSON.parse(i),x(`Global state imported from "${n.name}".`)}catch(e){x("Failed to export the state as JSON. Check the console for more details.","error"),console.error(e)}}function Y(t){return{_custom:{display:t}}}const W="🍍 Pinia (root)",$="_root";function Z(t){return L(t)?{id:$,label:W}:{id:t.$id,label:t.$id}}function J(t){if(L(t)){const e=Array.from(t._s.keys()),s=t._s,i={state:e.map((e=>({editable:!0,key:e,value:t.state.value[e]}))),getters:e.filter((t=>s.get(t)._getters)).map((t=>{const e=s.get(t);return{editable:!1,key:t,value:e._getters.reduce(((t,s)=>(t[s]=e[s],t)),{})}}))};return i}const e={state:Object.keys(t.$state).map((e=>({editable:!0,key:e,value:t.$state[e]})))};return t._getters&&t._getters.length&&(e.getters=t._getters.map((e=>({editable:!1,key:e,value:t[e]})))),t._customProperties.size&&(e.customProperties=Array.from(t._customProperties).map((e=>({editable:!0,key:e,value:t[e]})))),e}function K(t){return t?Array.isArray(t)?t.reduce(((t,e)=>(t.keys.push(e.key),t.operations.push(e.type),t.oldValue[e.key]=e.oldValue,t.newValue[e.key]=e.newValue,t)),{oldValue:{},keys:[],operations:[],newValue:{}}):{operation:Y(t.type),key:Y(t.key),oldValue:t.oldValue,newValue:t.newValue}:{}}function z(t){switch(t){case y.direct:return"mutation";case y.patchFunction:return"$patch";case y.patchObject:return"$patch";default:return"unknown"}}let Q=!0;const tt=[],et="pinia:mutations",st="pinia",{assign:it}=Object,nt=t=>"🍍 "+t;function rt(t,e){R({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:tt,app:t},(s=>{"function"!==typeof s.now&&x("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),s.addTimelineLayer({id:et,label:"Pinia 🍍",color:15064968}),s.addInspector({id:st,label:"Pinia 🍍",icon:"storage",treeFilterPlaceholder:"Search stores",actions:[{icon:"content_copy",action:()=>{G(e)},tooltip:"Serialize and copy the state"},{icon:"content_paste",action:async()=>{await q(e),s.sendInspectorTree(st),s.sendInspectorState(st)},tooltip:"Replace the state with the content of your clipboard"},{icon:"save",action:()=>{U(e)},tooltip:"Save the state as a JSON file"},{icon:"folder_open",action:async()=>{await H(e),s.sendInspectorTree(st),s.sendInspectorState(st)},tooltip:"Import the state from a JSON file"}],nodeActions:[{icon:"restore",tooltip:'Reset the state (with "$reset")',action:t=>{const s=e._s.get(t);s?"function"!==typeof s.$reset?x(`Cannot reset "${t}" store because it doesn't have a "$reset" method implemented.`,"warn"):(s.$reset(),x(`Store "${t}" reset.`)):x(`Cannot reset "${t}" store because it wasn't found.`,"warn")}}]}),s.on.inspectComponent(((t,e)=>{const s=t.componentInstance&&t.componentInstance.proxy;if(s&&s._pStores){const e=t.componentInstance.proxy._pStores;Object.values(e).forEach((e=>{t.instanceData.state.push({type:nt(e.$id),key:"state",editable:!0,value:e._isOptionsAPI?{_custom:{value:(0,i.IU)(e.$state),actions:[{icon:"restore",tooltip:"Reset the state of this store",action:()=>e.$reset()}]}}:Object.keys(e.$state).reduce(((t,s)=>(t[s]=e.$state[s],t)),{})}),e._getters&&e._getters.length&&t.instanceData.state.push({type:nt(e.$id),key:"getters",editable:!1,value:e._getters.reduce(((t,s)=>{try{t[s]=e[s]}catch(i){t[s]=i}return t}),{})})}))}})),s.on.getInspectorTree((s=>{if(s.app===t&&s.inspectorId===st){let t=[e];t=t.concat(Array.from(e._s.values())),s.rootNodes=(s.filter?t.filter((t=>"$id"in t?t.$id.toLowerCase().includes(s.filter.toLowerCase()):W.toLowerCase().includes(s.filter.toLowerCase()))):t).map(Z)}})),s.on.getInspectorState((s=>{if(s.app===t&&s.inspectorId===st){const t=s.nodeId===$?e:e._s.get(s.nodeId);if(!t)return;t&&(s.state=J(t))}})),s.on.editInspectorState(((s,i)=>{if(s.app===t&&s.inspectorId===st){const t=s.nodeId===$?e:e._s.get(s.nodeId);if(!t)return x(`store "${s.nodeId}" not found`,"error");const{path:i}=s;L(t)?i.unshift("state"):1===i.length&&t._customProperties.has(i[0])&&!(i[0]in t.$state)||i.unshift("$state"),Q=!1,s.set(t,i,s.state.value),Q=!0}})),s.on.editComponentState((t=>{if(t.type.startsWith("🍍")){const s=t.type.replace(/^🍍\s*/,""),i=e._s.get(s);if(!i)return x(`store "${s}" not found`,"error");const{path:n}=t;if("state"!==n[0])return x(`Invalid path for store "${s}":\n${n}\nOnly state can be modified.`);n[0]="$state",Q=!1,t.set(i,n,t.state.value),Q=!0}}))}))}function ot(t,e){tt.includes(nt(e.$id))||tt.push(nt(e.$id)),R({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:tt,app:t,settings:{logStoreChanges:{label:"Notify about new/deleted stores",type:"boolean",defaultValue:!0}}},(t=>{const s="function"===typeof t.now?t.now.bind(t):Date.now;e.$onAction((({after:i,onError:n,name:r,args:o})=>{const a=ht++;t.addTimelineEvent({layerId:et,event:{time:s(),title:"🛫 "+r,subtitle:"start",data:{store:Y(e.$id),action:Y(r),args:o},groupId:a}}),i((i=>{at=void 0,t.addTimelineEvent({layerId:et,event:{time:s(),title:"🛬 "+r,subtitle:"end",data:{store:Y(e.$id),action:Y(r),args:o,result:i},groupId:a}})})),n((i=>{at=void 0,t.addTimelineEvent({layerId:et,event:{time:s(),logType:"error",title:"💥 "+r,subtitle:"end",data:{store:Y(e.$id),action:Y(r),args:o,error:i},groupId:a}})}))}),!0),e._customProperties.forEach((r=>{(0,n.YP)((()=>(0,i.SU)(e[r])),((e,i)=>{t.notifyComponentUpdate(),t.sendInspectorState(st),Q&&t.addTimelineEvent({layerId:et,event:{time:s(),title:"Change",subtitle:r,data:{newValue:e,oldValue:i},groupId:at}})}),{deep:!0})})),e.$subscribe((({events:i,type:n},r)=>{if(t.notifyComponentUpdate(),t.sendInspectorState(st),!Q)return;const o={time:s(),title:z(n),data:it({store:Y(e.$id)},K(i)),groupId:at};n===y.patchFunction?o.subtitle="⤵️":n===y.patchObject?o.subtitle="🧩":i&&!Array.isArray(i)&&(o.subtitle=i.type),i&&(o.data["rawEvent(s)"]={_custom:{display:"DebuggerEvent",type:"object",tooltip:"raw DebuggerEvent[]",value:i}}),t.addTimelineEvent({layerId:et,event:o})}),{detached:!0,flush:"sync"});const r=e._hotUpdate;e._hotUpdate=(0,i.Xl)((i=>{r(i),t.addTimelineEvent({layerId:et,event:{time:s(),title:"🔥 "+e.$id,subtitle:"HMR update",data:{store:Y(e.$id),info:Y("HMR update")}}}),t.notifyComponentUpdate(),t.sendInspectorTree(st),t.sendInspectorState(st)}));const{$dispose:o}=e;e.$dispose=()=>{o(),t.notifyComponentUpdate(),t.sendInspectorTree(st),t.sendInspectorState(st),t.getSettings().logStoreChanges&&x(`Disposed "${e.$id}" store 🗑`)},t.notifyComponentUpdate(),t.sendInspectorTree(st),t.sendInspectorState(st),t.getSettings().logStoreChanges&&x(`"${e.$id}" store installed 🆕`)}))}let at,ht=0;function lt(t,e,s){const n=e.reduce(((e,s)=>(e[s]=(0,i.IU)(t)[s],e)),{});for(const i in n)t[i]=function(){const e=ht,r=s?new Proxy(t,{get(...t){return at=e,Reflect.get(...t)},set(...t){return at=e,Reflect.set(...t)}}):t;at=e;const o=n[i].apply(r,arguments);return at=void 0,o}}function ut({app:t,store:e,options:s}){if(e.$id.startsWith("__hot:"))return;e._isOptionsAPI=!!s.state,lt(e,Object.keys(s.actions),e._isOptionsAPI);const n=e._hotUpdate;(0,i.IU)(e)._hotUpdate=function(t){n.apply(this,arguments),lt(e,Object.keys(t._hmrPayload.actions),!!e._isOptionsAPI)},ot(t,e)}function ct(){const t=(0,i.B)(!0),e=t.run((()=>(0,i.iH)({})));let s=[],n=[];const o=(0,i.Xl)({install(t){S(o),r||(o._a=t,t.provide(v,o),t.config.globalProperties.$pinia=o,C&&rt(t,o),n.forEach((t=>s.push(t))),n=[])},use(t){return this._a||r?s.push(t):n.push(t),this},_p:s,_a:null,_e:t,_s:new Map,state:e});return C&&"undefined"!==typeof Proxy&&o.use(ut),o}const pt=()=>{};function ft(t,e,s,n=pt){t.push(e);const r=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),n())};return!s&&(0,i.nZ)()&&(0,i.EB)(r),r}function dt(t,...e){t.slice().forEach((t=>{t(...e)}))}const mt=t=>t();function gt(t,e){t instanceof Map&&e instanceof Map&&e.forEach(((e,s)=>t.set(s,e))),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const s in e){if(!e.hasOwnProperty(s))continue;const n=e[s],r=t[s];b(r)&&b(n)&&t.hasOwnProperty(s)&&!(0,i.dq)(n)&&!(0,i.PG)(n)?t[s]=gt(r,n):t[s]=n}return t}const _t=Symbol(),Rt=new WeakMap;function St(t){return r?!Rt.has(t):!b(t)||!t.hasOwnProperty(_t)}const{assign:vt}=Object;function bt(t){return!(!(0,i.dq)(t)||!t.effect)}function yt(t,e,s,a){const{state:h,actions:l,getters:u}=e,c=s.state.value[t];let p;function f(){c||(r?o(s.state.value,t,h?h():{}):s.state.value[t]=h?h():{});const e=(0,i.BK)(s.state.value[t]);return vt(e,l,Object.keys(u||{}).reduce(((e,o)=>(e[o]=(0,i.Xl)((0,n.Fl)((()=>{S(s);const e=s._s.get(t);if(!r||e._r)return u[o].call(e,e)}))),e)),{}))}return p=At(t,f,e,s,a,!0),p}function At(t,e,s={},a,h,l){let u;const c=vt({actions:{}},s);const p={deep:!0};let f,d;let m,g=[],_=[];const R=a.state.value[t];l||R||(r?o(a.state.value,t,{}):a.state.value[t]={});const v=(0,i.iH)({});let b;function A(e){let s;f=d=!1,"function"===typeof e?(e(a.state.value[t]),s={type:y.patchFunction,storeId:t,events:m}):(gt(a.state.value[t],e),s={type:y.patchObject,payload:e,storeId:t,events:m});const i=b=Symbol();(0,n.Y3)().then((()=>{b===i&&(f=!0)})),d=!0,dt(g,s,a.state.value[t])}const I=l?function(){const{state:t}=s,e=t?t():{};this.$patch((t=>{vt(t,e)}))}:pt;function E(){u.stop(),g=[],_=[],a._s.delete(t)}function D(e,s){return function(){S(a);const i=Array.from(arguments),n=[],r=[];function o(t){n.push(t)}function h(t){r.push(t)}let l;dt(_,{args:i,name:e,store:N,after:o,onError:h});try{l=s.apply(this&&this.$id===t?this:N,i)}catch(u){throw dt(r,u),u}return l instanceof Promise?l.then((t=>(dt(n,t),t))).catch((t=>(dt(r,t),Promise.reject(t)))):(dt(n,l),l)}}const T=(0,i.Xl)({actions:{},getters:{},state:[],hotState:v}),O={_p:a,$id:t,$onAction:ft.bind(null,_),$patch:A,$reset:I,$subscribe(e,s={}){const i=ft(g,e,s.detached,(()=>r())),r=u.run((()=>(0,n.YP)((()=>a.state.value[t]),(i=>{("sync"===s.flush?d:f)&&e({storeId:t,type:y.direct,events:m},i)}),vt({},p,s))));return i},$dispose:E};r&&(O._r=!1);const N=(0,i.qj)(C?vt({_hmrPayload:T,_customProperties:(0,i.Xl)(new Set)},O):O);a._s.set(t,N);const w=a._a&&a._a.runWithContext||mt,k=a._e.run((()=>(u=(0,i.B)(),w((()=>u.run(e))))));for(const n in k){const e=k[n];if((0,i.dq)(e)&&!bt(e)||(0,i.PG)(e))l||(R&&St(e)&&((0,i.dq)(e)?e.value=R[n]:gt(e,R[n])),r?o(a.state.value[t],n,e):a.state.value[t][n]=e);else if("function"===typeof e){const t=D(n,e);r?o(k,n,t):k[n]=t,c.actions[n]=e}else 0}if(r?Object.keys(k).forEach((t=>{o(N,t,k[t])})):(vt(N,k),vt((0,i.IU)(N),k)),Object.defineProperty(N,"$state",{get:()=>a.state.value[t],set:t=>{A((e=>{vt(e,t)}))}}),C){const t={writable:!0,configurable:!0,enumerable:!1};["_p","_hmrPayload","_getters","_customProperties"].forEach((e=>{Object.defineProperty(N,e,vt({value:N[e]},t))}))}return r&&(N._r=!0),a._p.forEach((t=>{if(C){const e=u.run((()=>t({store:N,app:a._a,pinia:a,options:c})));Object.keys(e||{}).forEach((t=>N._customProperties.add(t))),vt(N,e)}else vt(N,u.run((()=>t({store:N,app:a._a,pinia:a,options:c}))))})),R&&l&&s.hydrate&&s.hydrate(N.$state,R),f=!0,d=!0,N}function Ct(t,e,s){let i,r;const o="function"===typeof e;function a(t,s){const a=(0,n.EM)();t=t||(a?(0,n.f3)(v,null):null),t&&S(t),t=d,t._s.has(i)||(o?At(i,e,r,t):yt(i,r,t));const h=t._s.get(i);return h}return"string"===typeof t?(i=t,r=o?s:e):(r=t,i=t.id),a.$id=i,a}},5742:function(t,e,s){"use strict";s.d(e,{PO:function(){return B},p7:function(){return ee}});s(9308);var i=s(7552),n=s(1944);
/*!
  * vue-router v4.2.2
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */
const r="undefined"!==typeof window;function o(t){return t.__esModule||"Module"===t[Symbol.toStringTag]}const a=Object.assign;function h(t,e){const s={};for(const i in e){const n=e[i];s[i]=u(n)?n.map(t):t(n)}return s}const l=()=>{},u=Array.isArray;const c=/\/$/,p=t=>t.replace(c,"");function f(t,e,s="/"){let i,n={},r="",o="";const a=e.indexOf("#");let h=e.indexOf("?");return a<h&&a>=0&&(h=-1),h>-1&&(i=e.slice(0,h),r=e.slice(h+1,a>-1?a:e.length),n=t(r)),a>-1&&(i=i||e.slice(0,a),o=e.slice(a,e.length)),i=b(null!=i?i:e,s),{fullPath:i+(r&&"?")+r+o,path:i,query:n,hash:o}}function d(t,e){const s=e.query?t(e.query):"";return e.path+(s&&"?")+s+(e.hash||"")}function m(t,e){return e&&t.toLowerCase().startsWith(e.toLowerCase())?t.slice(e.length)||"/":t}function g(t,e,s){const i=e.matched.length-1,n=s.matched.length-1;return i>-1&&i===n&&_(e.matched[i],s.matched[n])&&R(e.params,s.params)&&t(e.query)===t(s.query)&&e.hash===s.hash}function _(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function R(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(!S(t[s],e[s]))return!1;return!0}function S(t,e){return u(t)?v(t,e):u(e)?v(e,t):t===e}function v(t,e){return u(e)?t.length===e.length&&t.every(((t,s)=>t===e[s])):1===t.length&&t[0]===e}function b(t,e){if(t.startsWith("/"))return t;if(!t)return e;const s=e.split("/"),i=t.split("/"),n=i[i.length-1];".."!==n&&"."!==n||i.push("");let r,o,a=s.length-1;for(r=0;r<i.length;r++)if(o=i[r],"."!==o){if(".."!==o)break;a>1&&a--}return s.slice(0,a).join("/")+"/"+i.slice(r-(r===i.length?1:0)).join("/")}var y,A;(function(t){t["pop"]="pop",t["push"]="push"})(y||(y={})),function(t){t["back"]="back",t["forward"]="forward",t["unknown"]=""}(A||(A={}));function C(t){if(!t)if(r){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return"/"!==t[0]&&"#"!==t[0]&&(t="/"+t),p(t)}const I=/^[^#]+#/;function E(t,e){return t.replace(I,"#")+e}function D(t,e){const s=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-s.left-(e.left||0),top:i.top-s.top-(e.top||0)}}const T=()=>({left:window.pageXOffset,top:window.pageYOffset});function O(t){let e;if("el"in t){const s=t.el,i="string"===typeof s&&s.startsWith("#");0;const n="string"===typeof s?i?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!n)return;e=D(n,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(null!=e.left?e.left:window.pageXOffset,null!=e.top?e.top:window.pageYOffset)}function N(t,e){const s=history.state?history.state.position-e:-1;return s+t}const w=new Map;function k(t,e){w.set(t,e)}function P(t){const e=w.get(t);return w.delete(t),e}let F=()=>location.protocol+"//"+location.host;function M(t,e){const{pathname:s,search:i,hash:n}=e,r=t.indexOf("#");if(r>-1){let e=n.includes(t.slice(r))?t.slice(r).length:1,s=n.slice(e);return"/"!==s[0]&&(s="/"+s),m(s,"")}const o=m(s,t);return o+i+n}function x(t,e,s,i){let n=[],r=[],o=null;const h=({state:r})=>{const a=M(t,location),h=s.value,l=e.value;let u=0;if(r){if(s.value=a,e.value=r,o&&o===h)return void(o=null);u=l?r.position-l.position:0}else i(a);n.forEach((t=>{t(s.value,h,{delta:u,type:y.pop,direction:u?u>0?A.forward:A.back:A.unknown})}))};function l(){o=s.value}function u(t){n.push(t);const e=()=>{const e=n.indexOf(t);e>-1&&n.splice(e,1)};return r.push(e),e}function c(){const{history:t}=window;t.state&&t.replaceState(a({},t.state,{scroll:T()}),"")}function p(){for(const t of r)t();r=[],window.removeEventListener("popstate",h),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",h),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:p}}function L(t,e,s,i=!1,n=!1){return{back:t,current:e,forward:s,replaced:i,position:window.history.length,scroll:n?T():null}}function V(t){const{history:e,location:s}=window,i={value:M(t,s)},n={value:e.state};function r(i,r,o){const a=t.indexOf("#"),h=a>-1?(s.host&&document.querySelector("base")?t:t.slice(a))+i:F()+t+i;try{e[o?"replaceState":"pushState"](r,"",h),n.value=r}catch(l){console.error(l),s[o?"replace":"assign"](h)}}function o(t,s){const o=a({},e.state,L(n.value.back,t,n.value.forward,!0),s,{position:n.value.position});r(t,o,!0),i.value=t}function h(t,s){const o=a({},n.value,e.state,{forward:t,scroll:T()});r(o.current,o,!0);const h=a({},L(i.value,t,null),{position:o.position+1},s);r(t,h,!1),i.value=t}return n.value||r(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0),{location:i,state:n,push:h,replace:o}}function B(t){t=C(t);const e=V(t),s=x(t,e.state,e.location,e.replace);function i(t,e=!0){e||s.pauseListeners(),history.go(t)}const n=a({location:"",base:t,go:i,createHref:E.bind(null,t)},e,s);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>e.state.value}),n}function G(t){return"string"===typeof t||t&&"object"===typeof t}function q(t){return"string"===typeof t||"symbol"===typeof t}const U={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},X=Symbol("");var j;(function(t){t[t["aborted"]=4]="aborted",t[t["cancelled"]=8]="cancelled",t[t["duplicated"]=16]="duplicated"})(j||(j={}));function H(t,e){return a(new Error,{type:t,[X]:!0},e)}function Y(t,e){return t instanceof Error&&X in t&&(null==e||!!(t.type&e))}const W="[^/]+?",$={sensitive:!1,strict:!1,start:!0,end:!0},Z=/[.+*?^${}()[\]/\\]/g;function J(t,e){const s=a({},$,e),i=[];let n=s.start?"^":"";const r=[];for(const a of t){const t=a.length?[]:[90];s.strict&&!a.length&&(n+="/");for(let e=0;e<a.length;e++){const i=a[e];let o=40+(s.sensitive?.25:0);if(0===i.type)e||(n+="/"),n+=i.value.replace(Z,"\\$&"),o+=40;else if(1===i.type){const{value:t,repeatable:s,optional:h,regexp:l}=i;r.push({name:t,repeatable:s,optional:h});const u=l||W;if(u!==W){o+=10;try{new RegExp(`(${u})`)}catch(c){throw new Error(`Invalid custom RegExp for param "${t}" (${u}): `+c.message)}}let p=s?`((?:${u})(?:/(?:${u}))*)`:`(${u})`;e||(p=h&&a.length<2?`(?:/${p})`:"/"+p),h&&(p+="?"),n+=p,o+=20,h&&(o+=-8),s&&(o+=-20),".*"===u&&(o+=-50)}t.push(o)}i.push(t)}if(s.strict&&s.end){const t=i.length-1;i[t][i[t].length-1]+=.7000000000000001}s.strict||(n+="/?"),s.end?n+="$":s.strict&&(n+="(?:/|$)");const o=new RegExp(n,s.sensitive?"":"i");function h(t){const e=t.match(o),s={};if(!e)return null;for(let i=1;i<e.length;i++){const t=e[i]||"",n=r[i-1];s[n.name]=t&&n.repeatable?t.split("/"):t}return s}function l(e){let s="",i=!1;for(const n of t){i&&s.endsWith("/")||(s+="/"),i=!1;for(const t of n)if(0===t.type)s+=t.value;else if(1===t.type){const{value:r,repeatable:o,optional:a}=t,h=r in e?e[r]:"";if(u(h)&&!o)throw new Error(`Provided param "${r}" is an array but it is not repeatable (* or + modifiers)`);const l=u(h)?h.join("/"):h;if(!l){if(!a)throw new Error(`Missing required param "${r}"`);n.length<2&&(s.endsWith("/")?s=s.slice(0,-1):i=!0)}s+=l}}return s||"/"}return{re:o,score:i,keys:r,parse:h,stringify:l}}function K(t,e){let s=0;while(s<t.length&&s<e.length){const i=e[s]-t[s];if(i)return i;s++}return t.length<e.length?1===t.length&&80===t[0]?-1:1:t.length>e.length?1===e.length&&80===e[0]?1:-1:0}function z(t,e){let s=0;const i=t.score,n=e.score;while(s<i.length&&s<n.length){const t=K(i[s],n[s]);if(t)return t;s++}if(1===Math.abs(n.length-i.length)){if(Q(i))return 1;if(Q(n))return-1}return n.length-i.length}function Q(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const tt={type:0,value:""},et=/[a-zA-Z0-9_]/;function st(t){if(!t)return[[]];if("/"===t)return[[tt]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(t){throw new Error(`ERR (${s})/"${l}": ${t}`)}let s=0,i=s;const n=[];let r;function o(){r&&n.push(r),r=[]}let a,h=0,l="",u="";function c(){l&&(0===s?r.push({type:0,value:l}):1===s||2===s||3===s?(r.length>1&&("*"===a||"+"===a)&&e(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:l,regexp:u,repeatable:"*"===a||"+"===a,optional:"*"===a||"?"===a})):e("Invalid state to consume buffer"),l="")}function p(){l+=a}while(h<t.length)if(a=t[h++],"\\"!==a||2===s)switch(s){case 0:"/"===a?(l&&c(),o()):":"===a?(c(),s=1):p();break;case 4:p(),s=i;break;case 1:"("===a?s=2:et.test(a)?p():(c(),s=0,"*"!==a&&"?"!==a&&"+"!==a&&h--);break;case 2:")"===a?"\\"==u[u.length-1]?u=u.slice(0,-1)+a:s=3:u+=a;break;case 3:c(),s=0,"*"!==a&&"?"!==a&&"+"!==a&&h--,u="";break;default:e("Unknown state");break}else i=s,s=4;return 2===s&&e(`Unfinished custom RegExp for param "${l}"`),c(),o(),n}function it(t,e,s){const i=J(st(t.path),s);const n=a(i,{record:t,parent:e,children:[],alias:[]});return e&&!n.record.aliasOf===!e.record.aliasOf&&e.children.push(n),n}function nt(t,e){const s=[],i=new Map;function n(t){return i.get(t)}function r(t,s,i){const n=!i,h=ot(t);h.aliasOf=i&&i.record;const c=ut(e,t),p=[h];if("alias"in t){const e="string"===typeof t.alias?[t.alias]:t.alias;for(const t of e)p.push(a({},h,{components:i?i.record.components:h.components,path:t,aliasOf:i?i.record:h}))}let f,d;for(const e of p){const{path:a}=e;if(s&&"/"!==a[0]){const t=s.record.path,i="/"===t[t.length-1]?"":"/";e.path=s.record.path+(a&&i+a)}if(f=it(e,s,c),i?i.alias.push(f):(d=d||f,d!==f&&d.alias.push(f),n&&t.name&&!ht(f)&&o(t.name)),h.children){const t=h.children;for(let e=0;e<t.length;e++)r(t[e],f,i&&i.children[e])}i=i||f,(f.record.components&&Object.keys(f.record.components).length||f.record.name||f.record.redirect)&&u(f)}return d?()=>{o(d)}:l}function o(t){if(q(t)){const e=i.get(t);e&&(i.delete(t),s.splice(s.indexOf(e),1),e.children.forEach(o),e.alias.forEach(o))}else{const e=s.indexOf(t);e>-1&&(s.splice(e,1),t.record.name&&i.delete(t.record.name),t.children.forEach(o),t.alias.forEach(o))}}function h(){return s}function u(t){let e=0;while(e<s.length&&z(t,s[e])>=0&&(t.record.path!==s[e].record.path||!ct(t,s[e])))e++;s.splice(e,0,t),t.record.name&&!ht(t)&&i.set(t.record.name,t)}function c(t,e){let n,r,o,h={};if("name"in t&&t.name){if(n=i.get(t.name),!n)throw H(1,{location:t});0,o=n.record.name,h=a(rt(e.params,n.keys.filter((t=>!t.optional)).map((t=>t.name))),t.params&&rt(t.params,n.keys.map((t=>t.name)))),r=n.stringify(h)}else if("path"in t)r=t.path,n=s.find((t=>t.re.test(r))),n&&(h=n.parse(r),o=n.record.name);else{if(n=e.name?i.get(e.name):s.find((t=>t.re.test(e.path))),!n)throw H(1,{location:t,currentLocation:e});o=n.record.name,h=a({},e.params,t.params),r=n.stringify(h)}const l=[];let u=n;while(u)l.unshift(u.record),u=u.parent;return{name:o,path:r,params:h,matched:l,meta:lt(l)}}return e=ut({strict:!1,end:!0,sensitive:!1},e),t.forEach((t=>r(t))),{addRoute:r,resolve:c,removeRoute:o,getRoutes:h,getRecordMatcher:n}}function rt(t,e){const s={};for(const i of e)i in t&&(s[i]=t[i]);return s}function ot(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:at(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function at(t){const e={},s=t.props||!1;if("component"in t)e.default=s;else for(const i in t.components)e[i]="boolean"===typeof s?s:s[i];return e}function ht(t){while(t){if(t.record.aliasOf)return!0;t=t.parent}return!1}function lt(t){return t.reduce(((t,e)=>a(t,e.meta)),{})}function ut(t,e){const s={};for(const i in t)s[i]=i in e?e[i]:t[i];return s}function ct(t,e){return e.children.some((e=>e===t||ct(t,e)))}const pt=/#/g,ft=/&/g,dt=/\//g,mt=/=/g,gt=/\?/g,_t=/\+/g,Rt=/%5B/g,St=/%5D/g,vt=/%5E/g,bt=/%60/g,yt=/%7B/g,At=/%7C/g,Ct=/%7D/g,It=/%20/g;function Et(t){return encodeURI(""+t).replace(At,"|").replace(Rt,"[").replace(St,"]")}function Dt(t){return Et(t).replace(yt,"{").replace(Ct,"}").replace(vt,"^")}function Tt(t){return Et(t).replace(_t,"%2B").replace(It,"+").replace(pt,"%23").replace(ft,"%26").replace(bt,"`").replace(yt,"{").replace(Ct,"}").replace(vt,"^")}function Ot(t){return Tt(t).replace(mt,"%3D")}function Nt(t){return Et(t).replace(pt,"%23").replace(gt,"%3F")}function wt(t){return null==t?"":Nt(t).replace(dt,"%2F")}function kt(t){try{return decodeURIComponent(""+t)}catch(e){}return""+t}function Pt(t){const e={};if(""===t||"?"===t)return e;const s="?"===t[0],i=(s?t.slice(1):t).split("&");for(let n=0;n<i.length;++n){const t=i[n].replace(_t," "),s=t.indexOf("="),r=kt(s<0?t:t.slice(0,s)),o=s<0?null:kt(t.slice(s+1));if(r in e){let t=e[r];u(t)||(t=e[r]=[t]),t.push(o)}else e[r]=o}return e}function Ft(t){let e="";for(let s in t){const i=t[s];if(s=Ot(s),null==i){void 0!==i&&(e+=(e.length?"&":"")+s);continue}const n=u(i)?i.map((t=>t&&Tt(t))):[i&&Tt(i)];n.forEach((t=>{void 0!==t&&(e+=(e.length?"&":"")+s,null!=t&&(e+="="+t))}))}return e}function Mt(t){const e={};for(const s in t){const i=t[s];void 0!==i&&(e[s]=u(i)?i.map((t=>null==t?null:""+t)):null==i?i:""+i)}return e}const xt=Symbol(""),Lt=Symbol(""),Vt=Symbol(""),Bt=Symbol(""),Gt=Symbol("");function qt(){let t=[];function e(e){return t.push(e),()=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)}}function s(){t=[]}return{add:e,list:()=>t,reset:s}}function Ut(t,e,s,i,n){const r=i&&(i.enterCallbacks[n]=i.enterCallbacks[n]||[]);return()=>new Promise(((o,a)=>{const h=t=>{!1===t?a(H(4,{from:s,to:e})):t instanceof Error?a(t):G(t)?a(H(2,{from:e,to:t})):(r&&i.enterCallbacks[n]===r&&"function"===typeof t&&r.push(t),o())},l=t.call(i&&i.instances[n],e,s,h);let u=Promise.resolve(l);t.length<3&&(u=u.then(h)),u.catch((t=>a(t)))}))}function Xt(t,e,s,i){const n=[];for(const r of t){0;for(const t in r.components){let a=r.components[t];if("beforeRouteEnter"===e||r.instances[t])if(jt(a)){const o=a.__vccOpts||a,h=o[e];h&&n.push(Ut(h,s,i,r,t))}else{let h=a();0,n.push((()=>h.then((n=>{if(!n)return Promise.reject(new Error(`Couldn't resolve component "${t}" at "${r.path}"`));const a=o(n)?n.default:n;r.components[t]=a;const h=a.__vccOpts||a,l=h[e];return l&&Ut(l,s,i,r,t)()}))))}}}return n}function jt(t){return"object"===typeof t||"displayName"in t||"props"in t||"__vccOpts"in t}function Ht(t){const e=(0,i.f3)(Vt),s=(0,i.f3)(Bt),r=(0,i.Fl)((()=>e.resolve((0,n.SU)(t.to)))),o=(0,i.Fl)((()=>{const{matched:t}=r.value,{length:e}=t,i=t[e-1],n=s.matched;if(!i||!n.length)return-1;const o=n.findIndex(_.bind(null,i));if(o>-1)return o;const a=Jt(t[e-2]);return e>1&&Jt(i)===a&&n[n.length-1].path!==a?n.findIndex(_.bind(null,t[e-2])):o})),a=(0,i.Fl)((()=>o.value>-1&&Zt(s.params,r.value.params))),h=(0,i.Fl)((()=>o.value>-1&&o.value===s.matched.length-1&&R(s.params,r.value.params)));function u(s={}){return $t(s)?e[(0,n.SU)(t.replace)?"replace":"push"]((0,n.SU)(t.to)).catch(l):Promise.resolve()}return{route:r,href:(0,i.Fl)((()=>r.value.href)),isActive:a,isExactActive:h,navigate:u}}const Yt=(0,i.aZ)({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Ht,setup(t,{slots:e}){const s=(0,n.qj)(Ht(t)),{options:r}=(0,i.f3)(Vt),o=(0,i.Fl)((()=>({[Kt(t.activeClass,r.linkActiveClass,"router-link-active")]:s.isActive,[Kt(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive})));return()=>{const n=e.default&&e.default(s);return t.custom?n:(0,i.h)("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:o.value},n)}}}),Wt=Yt;function $t(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&(void 0===t.button||0===t.button)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Zt(t,e){for(const s in e){const i=e[s],n=t[s];if("string"===typeof i){if(i!==n)return!1}else if(!u(n)||n.length!==i.length||i.some(((t,e)=>t!==n[e])))return!1}return!0}function Jt(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Kt=(t,e,s)=>null!=t?t:null!=e?e:s,zt=(0,i.aZ)({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:s}){const r=(0,i.f3)(Gt),o=(0,i.Fl)((()=>t.route||r.value)),h=(0,i.f3)(Lt,0),l=(0,i.Fl)((()=>{let t=(0,n.SU)(h);const{matched:e}=o.value;let s;while((s=e[t])&&!s.components)t++;return t})),u=(0,i.Fl)((()=>o.value.matched[l.value]));(0,i.JJ)(Lt,(0,i.Fl)((()=>l.value+1))),(0,i.JJ)(xt,u),(0,i.JJ)(Gt,o);const c=(0,n.iH)();return(0,i.YP)((()=>[c.value,u.value,t.name]),(([t,e,s],[i,n,r])=>{e&&(e.instances[s]=t,n&&n!==e&&t&&t===i&&(e.leaveGuards.size||(e.leaveGuards=n.leaveGuards),e.updateGuards.size||(e.updateGuards=n.updateGuards))),!t||!e||n&&_(e,n)&&i||(e.enterCallbacks[s]||[]).forEach((e=>e(t)))}),{flush:"post"}),()=>{const n=o.value,r=t.name,h=u.value,l=h&&h.components[r];if(!l)return Qt(s.default,{Component:l,route:n});const p=h.props[r],f=p?!0===p?n.params:"function"===typeof p?p(n):p:null,d=t=>{t.component.isUnmounted&&(h.instances[r]=null)},m=(0,i.h)(l,a({},f,e,{onVnodeUnmounted:d,ref:c}));return Qt(s.default,{Component:m,route:n})||m}}});function Qt(t,e){if(!t)return null;const s=t(e);return 1===s.length?s[0]:s}const te=zt;function ee(t){const e=nt(t.routes,t),s=t.parseQuery||Pt,o=t.stringifyQuery||Ft,c=t.history;const p=qt(),m=qt(),_=qt(),R=(0,n.XI)(U);let S=U;r&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const v=h.bind(null,(t=>""+t)),b=h.bind(null,wt),A=h.bind(null,kt);function C(t,s){let i,n;return q(t)?(i=e.getRecordMatcher(t),n=s):n=t,e.addRoute(n,i)}function I(t){const s=e.getRecordMatcher(t);s&&e.removeRoute(s)}function E(){return e.getRoutes().map((t=>t.record))}function D(t){return!!e.getRecordMatcher(t)}function w(t,i){if(i=a({},i||R.value),"string"===typeof t){const n=f(s,t,i.path),r=e.resolve({path:n.path},i),o=c.createHref(n.fullPath);return a(n,r,{params:A(r.params),hash:kt(n.hash),redirectedFrom:void 0,href:o})}let n;if("path"in t)n=a({},t,{path:f(s,t.path,i.path).path});else{const e=a({},t.params);for(const t in e)null==e[t]&&delete e[t];n=a({},t,{params:b(e)}),i.params=b(i.params)}const r=e.resolve(n,i),h=t.hash||"";r.params=v(A(r.params));const l=d(o,a({},t,{hash:Dt(h),path:r.path})),u=c.createHref(l);return a({fullPath:l,hash:h,query:o===Ft?Mt(t.query):t.query||{}},r,{redirectedFrom:void 0,href:u})}function F(t){return"string"===typeof t?f(s,t,R.value.path):a({},t)}function M(t,e){if(S!==t)return H(8,{from:e,to:t})}function x(t){return B(t)}function L(t){return x(a(F(t),{replace:!0}))}function V(t){const e=t.matched[t.matched.length-1];if(e&&e.redirect){const{redirect:s}=e;let i="function"===typeof s?s(t):s;return"string"===typeof i&&(i=i.includes("?")||i.includes("#")?i=F(i):{path:i},i.params={}),a({query:t.query,hash:t.hash,params:"path"in i?{}:t.params},i)}}function B(t,e){const s=S=w(t),i=R.value,n=t.state,r=t.force,h=!0===t.replace,l=V(s);if(l)return B(a(F(l),{state:"object"===typeof l?a({},n,l.state):n,force:r,replace:h}),e||s);const u=s;let c;return u.redirectedFrom=e,!r&&g(o,i,s)&&(c=H(16,{to:u,from:i}),it(i,i,!0,!1)),(c?Promise.resolve(c):j(u,i)).catch((t=>Y(t)?Y(t,2)?t:st(t):tt(t,u,i))).then((t=>{if(t){if(Y(t,2))return B(a({replace:h},F(t.to),{state:"object"===typeof t.to?a({},n,t.to.state):n,force:r}),e||u)}else t=$(u,i,!0,h,n);return W(u,i,t),t}))}function G(t,e){const s=M(t,e);return s?Promise.reject(s):Promise.resolve()}function X(t){const e=at.values().next().value;return e&&"function"===typeof e.runWithContext?e.runWithContext(t):t()}function j(t,e){let s;const[i,n,r]=se(t,e);s=Xt(i.reverse(),"beforeRouteLeave",t,e);for(const a of i)a.leaveGuards.forEach((i=>{s.push(Ut(i,t,e))}));const o=G.bind(null,t,e);return s.push(o),lt(s).then((()=>{s=[];for(const i of p.list())s.push(Ut(i,t,e));return s.push(o),lt(s)})).then((()=>{s=Xt(n,"beforeRouteUpdate",t,e);for(const i of n)i.updateGuards.forEach((i=>{s.push(Ut(i,t,e))}));return s.push(o),lt(s)})).then((()=>{s=[];for(const i of t.matched)if(i.beforeEnter&&!e.matched.includes(i))if(u(i.beforeEnter))for(const n of i.beforeEnter)s.push(Ut(n,t,e));else s.push(Ut(i.beforeEnter,t,e));return s.push(o),lt(s)})).then((()=>(t.matched.forEach((t=>t.enterCallbacks={})),s=Xt(r,"beforeRouteEnter",t,e),s.push(o),lt(s)))).then((()=>{s=[];for(const i of m.list())s.push(Ut(i,t,e));return s.push(o),lt(s)})).catch((t=>Y(t,8)?t:Promise.reject(t)))}function W(t,e,s){for(const i of _.list())X((()=>i(t,e,s)))}function $(t,e,s,i,n){const o=M(t,e);if(o)return o;const h=e===U,l=r?history.state:{};s&&(i||h?c.replace(t.fullPath,a({scroll:h&&l&&l.scroll},n)):c.push(t.fullPath,n)),R.value=t,it(t,e,s,h),st()}let Z;function J(){Z||(Z=c.listen(((t,e,s)=>{if(!ht.listening)return;const i=w(t),n=V(i);if(n)return void B(a(n,{replace:!0}),i).catch(l);S=i;const o=R.value;r&&k(N(o.fullPath,s.delta),T()),j(i,o).catch((t=>Y(t,12)?t:Y(t,2)?(B(t.to,i).then((t=>{Y(t,20)&&!s.delta&&s.type===y.pop&&c.go(-1,!1)})).catch(l),Promise.reject()):(s.delta&&c.go(-s.delta,!1),tt(t,i,o)))).then((t=>{t=t||$(i,o,!1),t&&(s.delta&&!Y(t,8)?c.go(-s.delta,!1):s.type===y.pop&&Y(t,20)&&c.go(-1,!1)),W(i,o,t)})).catch(l)})))}let K,z=qt(),Q=qt();function tt(t,e,s){st(t);const i=Q.list();return i.length?i.forEach((i=>i(t,e,s))):console.error(t),Promise.reject(t)}function et(){return K&&R.value!==U?Promise.resolve():new Promise(((t,e)=>{z.add([t,e])}))}function st(t){return K||(K=!t,J(),z.list().forEach((([e,s])=>t?s(t):e())),z.reset()),t}function it(e,s,n,o){const{scrollBehavior:a}=t;if(!r||!a)return Promise.resolve();const h=!n&&P(N(e.fullPath,0))||(o||!n)&&history.state&&history.state.scroll||null;return(0,i.Y3)().then((()=>a(e,s,h))).then((t=>t&&O(t))).catch((t=>tt(t,e,s)))}const rt=t=>c.go(t);let ot;const at=new Set,ht={currentRoute:R,listening:!0,addRoute:C,removeRoute:I,hasRoute:D,getRoutes:E,resolve:w,options:t,push:x,replace:L,go:rt,back:()=>rt(-1),forward:()=>rt(1),beforeEach:p.add,beforeResolve:m.add,afterEach:_.add,onError:Q.add,isReady:et,install(t){const e=this;t.component("RouterLink",Wt),t.component("RouterView",te),t.config.globalProperties.$router=e,Object.defineProperty(t.config.globalProperties,"$route",{enumerable:!0,get:()=>(0,n.SU)(R)}),r&&!ot&&R.value===U&&(ot=!0,x(c.location).catch((t=>{0})));const s={};for(const n in U)s[n]=(0,i.Fl)((()=>R.value[n]));t.provide(Vt,e),t.provide(Bt,(0,n.qj)(s)),t.provide(Gt,R);const o=t.unmount;at.add(t),t.unmount=function(){at.delete(t),at.size<1&&(S=U,Z&&Z(),Z=null,R.value=U,ot=!1,K=!1),o()}}};function lt(t){return t.reduce(((t,e)=>t.then((()=>X(e)))),Promise.resolve())}return ht}function se(t,e){const s=[],i=[],n=[],r=Math.max(e.matched.length,t.matched.length);for(let o=0;o<r;o++){const r=e.matched[o];r&&(t.matched.find((t=>_(t,r)))?i.push(r):s.push(r));const a=t.matched[o];a&&(e.matched.find((t=>_(t,a)))||n.push(a))}return[s,i,n]}}}]);
//# sourceMappingURL=chunk-vendors.f9778cd0.js.map