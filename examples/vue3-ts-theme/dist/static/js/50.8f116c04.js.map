{"version":3,"file":"static/js/50.8f116c04.js","mappings":"iPAGA,MAAMA,EAAa,CAAEC,MAAO,aACtBC,GAA0BC,EAAAA,EAAAA,GAAoB,MAAO,CAAEF,MAAO,yCAA2C,SAAU,GACnHG,EAAa,CAAEH,MAAO,+BACtBI,GAA0BF,EAAAA,EAAAA,GAAoB,OAAQ,CAAEF,MAAO,mBAAqB,SAAU,GAC9FK,EAAa,CAAEL,MAAO,aACtBM,EAAa,CAAEN,MAAO,+BACtBO,GAA0BL,EAAAA,EAAAA,GAAoB,OAAQ,CAAEF,MAAO,mBAAqB,QAAS,GAC7FQ,EAAa,CAAER,MAAO,aAU5B,OAA4BS,EAAAA,EAAAA,IAAiB,CAC3CC,OAAQ,YACRC,MAAMC,GAER,MAAMC,GAAQC,EAAAA,EAAAA,KACRC,EAAQA,KACZC,EAAAA,WAAWC,WAAU,KACnBJ,EAAMK,YAAYF,EAAAA,WAAWG,iBAAiB,GAC9C,EAGEC,EAAWA,KACfJ,EAAAA,WAAWK,cAAc,EAiB3B,OAdAL,EAAAA,WAAWM,cAAa,KACtBC,QAAQC,IAAIX,EAAMY,SAAUT,EAAAA,WAAWG,kBACvCO,EAAAA,EAAMC,QAAQ,CACZC,MAAO,QACPC,MAAMC,EAAAA,EAAAA,IAAYC,EAAAA,GAClBC,QAAS,mBACTC,OAAQ,KACRC,OAEElB,EAAAA,WAAWmB,QACb,GACA,IAGG,CAACC,EAAUC,KAChB,MAAMC,GAAsBC,EAAAA,EAAAA,IAAkB,YAE9C,OAAQC,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAoB,MAAO1C,EAAY,EACzD2C,EAAAA,EAAAA,IAAO7B,GAAOY,UAWZkB,EAAAA,EAAAA,IAAoB,IAAI,KAVvBH,EAAAA,EAAAA,OAAcI,EAAAA,EAAAA,IAAaN,EAAqB,CAC/CO,IAAK,EACLC,KAAM,UACNC,QAAShC,GACR,CACDiC,SAASC,EAAAA,EAAAA,KAAS,IAAM,EACtBC,EAAAA,EAAAA,IAAiB,YAEnBC,EAAG,MAGRT,EAAAA,EAAAA,IAAO7B,GAAOY,WACVe,EAAAA,EAAAA,OAAcI,EAAAA,EAAAA,IAAaN,EAAqB,CAC/CO,IAAK,EACLC,KAAM,UACNC,QAAS3B,GACR,CACD4B,SAASC,EAAAA,EAAAA,KAAS,IAAM,EACtBC,EAAAA,EAAAA,IAAiB,WAEnBC,EAAG,MAELR,EAAAA,EAAAA,IAAoB,IAAI,GAC5B1C,GACAC,EAAAA,EAAAA,GAAoB,MAAOC,EAAY,CACrCC,GACAF,EAAAA,EAAAA,GAAoB,OAAQG,GAAY+C,EAAAA,EAAAA,KAAiBV,EAAAA,EAAAA,IAAO7B,GAAOY,UAAU4B,UAAW,MAE9FnD,EAAAA,EAAAA,GAAoB,MAAOI,EAAY,CACrCC,GACAL,EAAAA,EAAAA,GAAoB,OAAQM,GAAY4C,EAAAA,EAAAA,KAAiBV,EAAAA,EAAAA,IAAO7B,GAAOY,UAAU4B,UAAW,MAE9F,CAEJ,ICrFA,MAAMC,EAAc,EAEpB,O","sources":["webpack://vue3-ts-theme-/./src/views/user/UserLogin.vue?daf8","webpack://vue3-ts-theme-/./src/views/user/UserLogin.vue"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"home p-40\" }\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"text-align-left f-title-3 mr-10 mb-10\" }, \"当前用户：\", -1)\nconst _hoisted_3 = { class: \"text-align-left pl-40 mb-10\" }\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"span\", { class: \"f-title-3 mr-10\" }, \"用户名: \", -1)\nconst _hoisted_5 = { class: \"f-title-4\" }\nconst _hoisted_6 = { class: \"text-align-left pl-40 mb-10\" }\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"span\", { class: \"f-title-3 mr-10\" }, \"账号: \", -1)\nconst _hoisted_8 = { class: \"f-title-4\" }\n\nimport { userStore } from \"@/stores/user\";\nimport { createVNode } from \"vue\";\nimport { ExclamationCircleOutlined } from \"@ant-design/icons-vue\";\n\nimport { freelogApp } from \"freelog-runtime\";\nimport { Modal } from \"ant-design-vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'UserLogin',\n  setup(__props) {\n\nconst store = userStore();\nconst login = () => {\n  freelogApp.callLogin(() => {\n    store.setUserInfo(freelogApp.getCurrentUser());\n  });\n};\n\nconst loginOut = () => {\n  freelogApp.callLoginOut();\n};\n// 监听其余页面切换用户\nfreelogApp.onUserChange(() => {\n  console.log(store.userInfo, freelogApp.getCurrentUser());\n  Modal.warning({\n    title: \"将立刻刷新\",\n    icon: createVNode(ExclamationCircleOutlined),\n    content: \"已在其余页签退出或登录其余账号！\",\n    okText: \"确认\",\n    onOk() {\n      // 主题才有资格整个网页reload，也可以由主题放权给插件\n      freelogApp.reload();\n    },\n  });\n});\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_a_button = _resolveComponent(\"a-button\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (!_unref(store).userInfo)\n      ? (_openBlock(), _createBlock(_component_a_button, {\n          key: 0,\n          type: \"primary\",\n          onClick: login\n        }, {\n          default: _withCtx(() => [\n            _createTextVNode(\"登录一下吧\")\n          ]),\n          _: 1\n        }))\n      : _createCommentVNode(\"\", true),\n    (_unref(store).userInfo)\n      ? (_openBlock(), _createBlock(_component_a_button, {\n          key: 1,\n          type: \"primary\",\n          onClick: loginOut\n        }, {\n          default: _withCtx(() => [\n            _createTextVNode(\"退出登录\")\n          ]),\n          _: 1\n        }))\n      : _createCommentVNode(\"\", true),\n    _hoisted_2,\n    _createElementVNode(\"div\", _hoisted_3, [\n      _hoisted_4,\n      _createElementVNode(\"span\", _hoisted_5, _toDisplayString(_unref(store).userInfo?.username), 1)\n    ]),\n    _createElementVNode(\"div\", _hoisted_6, [\n      _hoisted_7,\n      _createElementVNode(\"span\", _hoisted_8, _toDisplayString(_unref(store).userInfo?.username), 1)\n    ])\n  ]))\n}\n}\n\n})","import script from \"./UserLogin.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./UserLogin.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["_hoisted_1","class","_hoisted_2","_createElementVNode","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_defineComponent","__name","setup","__props","store","userStore","login","freelogApp","callLogin","setUserInfo","getCurrentUser","loginOut","callLoginOut","onUserChange","console","log","userInfo","Modal","warning","title","icon","createVNode","ExclamationCircleOutlined","content","okText","onOk","reload","_ctx","_cache","_component_a_button","_resolveComponent","_openBlock","_createElementBlock","_unref","_createCommentVNode","_createBlock","key","type","onClick","default","_withCtx","_createTextVNode","_","_toDisplayString","username","__exports__"],"sourceRoot":""}