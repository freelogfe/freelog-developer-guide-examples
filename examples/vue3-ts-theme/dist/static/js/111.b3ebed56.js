"use strict";(self["webpackJsonp_vue3-ts-theme"]=self["webpackJsonp_vue3-ts-theme"]||[]).push([[111],{1111:function(e,t,a){a.r(t),a.d(t,{default:function(){return b}});a(9308);var i=a(9957),r=a(3146),s=a(6773),l=a(1706),n=(0,i.aZ)({__name:"DepTree",props:{treeData:{}},emits:["select"],setup(e,{emit:t}){const a=e,r=(e,a)=>{a.node.parent&&t("select",a)};return(e,t)=>{const s=(0,i.up)("a-tree");return a.treeData?.length?((0,i.wg)(),(0,i.j4)(s,{key:0,"tree-data":a.treeData,onSelect:r,defaultExpandAll:!0,autoExpandParent:!0},{title:(0,i.w5)((({title:e})=>[(0,i.Uk)((0,l.zw)(e),1)])),_:1},8,["tree-data"])):(0,i.kq)("",!0)}}});const c=n;var u=c;const d={class:"home p-40 y-auto h-100x"},o={class:"h-80 over-h"},p=["src"],h=(0,i._)("div",{class:"f-title-3 m-20"},"点击卡片展示依赖树",-1),m={class:"w-100x flex-column-center h-400 over-h"},v={key:0,class:"f-title-3"},g=["src"];var x=(0,i.aZ)({__name:"ExhibitSub",setup(e){const t=(0,s.iH)(""),a=(0,s.iH)([]),l=(0,s.iH)([]),n=async e=>{t.value=await r.freelogApp.getExhibitDepFileStream(e.node.exhibitId,e.node.parent.node.nid,e.node.resourceId,!0)},c=async e=>{r.freelogApp.getExhibitDepTree(e.exhibitId,{maxDeep:10}).then((t=>{const i={...t.data.data[0],exhibitId:e.exhibitId};function r(t,a){t?.length&&t.forEach((t=>{const i={...t,title:t.resourceName,key:t.resourceId,exhibitId:e.exhibitId};a.children=a.children||[],a.children.push(i),r(i.dependencies,i)}))}i.title=i.resourceName,i.key=i.resourceId,r(t.data.data[0].dependencies,i),a.value=[i]}))};return r.freelogApp.getExhibitListByPaging({skip:0,limit:20,articleResourceTypes:"图片"}).then((e=>{l.value=e.data.data.dataList})),(e,r)=>{const s=(0,i.up)("a-card"),x=(0,i.up)("a-list-item"),f=(0,i.up)("a-list");return(0,i.wg)(),(0,i.iD)("div",d,[(0,i.Wm)(f,{grid:{gutter:16,column:4},"data-source":l.value},{renderItem:(0,i.w5)((({item:e})=>[(0,i.Wm)(x,null,{default:(0,i.w5)((()=>[(0,i.Wm)(s,{title:e.exhibitName,onClick:t=>c(e)},{default:(0,i.w5)((()=>[(0,i._)("div",o,[(0,i._)("img",{class:"h-100x",src:e.coverImages[0],alt:""},null,8,p)])])),_:2},1032,["title","onClick"])])),_:2},1024)])),_:1},8,["data-source"]),h,(0,i.Wm)(u,{treeData:a.value,onSelect:n},null,8,["treeData"]),(0,i._)("div",m,[t.value?((0,i.wg)(),(0,i.iD)("img",{key:1,src:t.value,alt:"",class:"h-100x"},null,8,g)):((0,i.wg)(),(0,i.iD)("span",v,"点击子节点展示图片"))])])}}});const f=x;var b=f}}]);
//# sourceMappingURL=111.b3ebed56.js.map