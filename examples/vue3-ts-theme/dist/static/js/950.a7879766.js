"use strict";(self["webpackJsonp_vue3-ts-theme"]=self["webpackJsonp_vue3-ts-theme"]||[]).push([[950],{2950:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var a=n(2370),o=n(6369),i=n(1868);const l={class:"w-100x h-100x p-40 flex-column"},u={class:"flex-column"},s={class:"flex-row mb-20"},r=(0,a._)("div",{id:"freelog-self"},null,-1),c={class:"flex-column"},m={class:"flex-row mb-20"},p=(0,a._)("div",{id:"freelog-exhibit"},null,-1);var d=(0,a.aZ)({__name:"WidgetMount",setup(e){const t=(0,o.iH)("1");let n=null,d=null;const f=()=>{n.getApi().changeMe()},g=()=>{d.getApi().changeMe()},y=e=>{e.unmount(),e.unmountPromise.then((()=>{setTimeout((()=>{e.mount(),e.mountPromise.then((()=>{}))}),500)}))},w=async()=>{const e=await i.freelogApp.getSubDep();e.subDep.forEach((async(t,a)=>{"snnaenu/插件开发演示代码插件"===t.name&&(n=await i.freelogApp.mountWidget({widget:t,container:document.getElementById("freelog-self"),topExhibitData:e,config:{name:"我是主题依赖的插件"},seq:0}),n.mountPromise.then((()=>{})))}))},h=async()=>{const e=await i.freelogApp.getExhibitListByPaging({articleResourceTypes:"插件",isLoadVersionProperty:1}),t=e.data.data.dataList;t.forEach((async(e,t)=>(console.log(e,"snnaenu/插件开发演示代码插件"),"snnaenu/插件开发演示代码插件"==e.articleInfo.articleName&&(d=await i.freelogApp.mountWidget({widget:e,container:document.getElementById("freelog-exhibit"),topExhibitData:null,config:{name:"我是展品类型的插件"},seq:1,widget_entry:"https://localhost:8002"}),!0))))};return(0,a.Jd)((()=>{n?.unmount(),d?.unmount()})),h(),w(),(e,i)=>{const w=(0,a.up)("a-button"),h=(0,a.up)("a-tab-pane"),_=(0,a.up)("a-tabs");return(0,a.wg)(),(0,a.iD)("div",l,[(0,a.Wm)(_,{activeKey:t.value,"onUpdate:activeKey":i[2]||(i[2]=e=>t.value=e)},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{key:"1",tab:"加载自身依赖的插件"},{default:(0,a.w5)((()=>[(0,a._)("div",u,[(0,a._)("div",s,[(0,a.Wm)(w,{type:"primary mr-30",onClick:f},{default:(0,a.w5)((()=>[(0,a.Uk)("给自身依赖插件加1")])),_:1}),(0,a.Wm)(w,{type:"primary mr-30",onClick:i[0]||(i[0]=e=>y((0,o.SU)(n)))},{default:(0,a.w5)((()=>[(0,a.Uk)("重新加载")])),_:1})]),r])])),_:1}),(0,a.Wm)(h,{key:"2",tab:"加载展品类型的插件","force-render":""},{default:(0,a.w5)((()=>[(0,a._)("div",c,[(0,a._)("div",m,[(0,a.Wm)(w,{type:"primary mr-30",onClick:g},{default:(0,a.w5)((()=>[(0,a.Uk)("给展品依赖插件加1")])),_:1}),(0,a.Wm)(w,{type:"primary mr-30",onClick:i[1]||(i[1]=e=>y((0,o.SU)(d)))},{default:(0,a.w5)((()=>[(0,a.Uk)("重新加载")])),_:1})]),p])])),_:1})])),_:1},8,["activeKey"])])}}});const f=d;var g=f}}]);
//# sourceMappingURL=950.a7879766.js.map