"use strict";(self["webpackJsonp_vue3-ts-theme"]=self["webpackJsonp_vue3-ts-theme"]||[]).push([[821],{8821:function(t,e,a){a.r(e),a.d(e,{default:function(){return g}});var i=a(2370),s=a(2792),l=a(6369);const r={class:"p-40 w-100x h-100x y-auto"},u={class:""},c={class:"h-80 over-h"},n=["src"],h={class:"w-100x flex-column-center h-400 over-h mt-40"},o={key:0,class:"f-title-3"},d=["src"];var p=(0,i.aZ)({__name:"AuthInfo",setup(t){const e=(0,l.iH)([]),a=(0,l.iH)("");s.freelogApp.getExhibitListByPaging({skip:0,limit:20,articleResourceTypes:"图片"}).then((t=>{let a=[];t.data.data.dataList.forEach((t=>{a.push(t.exhibitId)})),s.freelogApp.getExhibitAuthStatus(a.join(",")).then((a=>{e.value=t.data.data.dataList.map((t=>(a.data.data.some((e=>e.exhibitId===t.exhibitId&&(t.auth=e,!0))),t)))}))}));const p=async t=>{t.auth.isAuth?a.value=await s.freelogApp.getExhibitFileStream(t.exhibitId,{returnUrl:!0}):(console.log(t.exhibitId,9999),s.freelogApp.addAuth(t.exhibitId,{immediate:!0}).then((async e=>{e.status===s.freelogApp.resultType.SUCCESS&&(a.value=await s.freelogApp.getExhibitFileStream(t.exhibitId,{returnUrl:!0}))})))};return(t,s)=>{const l=(0,i.up)("a-card"),m=(0,i.up)("a-list-item"),g=(0,i.up)("a-list");return(0,i.wg)(),(0,i.iD)("div",r,[(0,i._)("div",u,[(0,i.Wm)(g,{grid:{gutter:16,column:4},"data-source":e.value},{renderItem:(0,i.w5)((({item:t})=>[(0,i.Wm)(m,null,{default:(0,i.w5)((()=>[(0,i.Wm)(l,{title:t.exhibitName,onClick:e=>p(t)},{default:(0,i.w5)((()=>[(0,i._)("div",c,[(0,i._)("img",{class:"h-100x",src:t.coverImages[0],alt:""},null,8,n)])])),_:2},1032,["title","onClick"])])),_:2},1024)])),_:1},8,["data-source"])]),(0,i._)("div",h,[a.value?((0,i.wg)(),(0,i.iD)("img",{key:1,src:a.value,alt:"",class:"h-100x"},null,8,d)):((0,i.wg)(),(0,i.iD)("span",o,"点击上面图片可在这展示"))])])}}});const m=p;var g=m}}]);
//# sourceMappingURL=821.7d9fd5fb.js.map