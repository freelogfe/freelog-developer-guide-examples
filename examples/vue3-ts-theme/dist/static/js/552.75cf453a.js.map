{"version":3,"file":"static/js/552.75cf453a.js","mappings":"kPAGA,MAAMA,EAAa,CAAEC,MAAO,aACtBC,GAA0B,IAAAC,GAAoB,MAAO,CAAEF,MAAO,yCAA2C,SAAU,GACnHG,EAAa,CAAEH,MAAO,+BACtBI,GAA0B,IAAAF,GAAoB,OAAQ,CAAEF,MAAO,mBAAqB,SAAU,GAC9FK,EAAa,CAAEL,MAAO,aACtBM,EAAa,CAAEN,MAAO,+BACtBO,GAA0B,IAAAL,GAAoB,OAAQ,CAAEF,MAAO,mBAAqB,QAAS,GAC7FQ,EAAa,CAAER,MAAO,aAU5B,OAA4B,QAAiB,CAC3CS,OAAQ,YACR,KAAAC,CAAMC,GCMR,MAAMC,GAAQ,EAAAC,EAAA,KACRC,EAAQ,KACZ,EAAAC,WAAA,WAAqB,KACnBH,EAAMI,YAAY,EAAAD,WAAA,iBAA4B,GAC9C,EAGEE,EAAW,KACf,EAAAF,WAAA,cAAyB,EDY3B,OCTA,EAAAA,WAAA,cAAwB,KACtB,YAAc,CACZG,MAAO,QACPC,MAAM,QAAYC,EAAA,GAClBC,QAAS,mBACTC,OAAQ,KACR,IAAAC,GAEE,EAAAR,WAAA,QACF,GACA,IDDG,CAACS,EAAUC,KAChB,MAAMC,GAAsB,QAAkB,YAE9C,OAAQ,WAAc,QAAoB,MAAO3B,EAAY,EACzD,QAAOa,GAAOe,UAWZ,QAAoB,IAAI,KAVvB,WAAc,QAAaD,EAAqB,CAC/CE,IAAK,EACLC,KAAM,UACNC,QAAShB,GACR,CACDiB,SAAS,SAAS,IAAM,EACtB,QAAiB,YAEnB7B,EAAG,MAGR,QAAOU,GAAOe,WACV,WAAc,QAAaD,EAAqB,CAC/CE,IAAK,EACLC,KAAM,UACNC,QAASb,GACR,CACDc,SAAS,SAAS,IAAM,EACtB,QAAiB,WAEnB7B,EAAG,MAEL,QAAoB,IAAI,GAC5BD,GACA,IAAAC,GAAoB,MAAOC,EAAY,CACrCC,GACA,IAAAF,GAAoB,OAAQG,GAAY,SAAiB,QAAOO,GAAOe,UAAUK,UAAW,MAE9F,IAAA9B,GAAoB,MAAOI,EAAY,CACrCC,GACA,IAAAL,GAAoB,OAAQM,GAAY,SAAiB,QAAOI,GAAOe,UAAUK,UAAW,MAE9F,CAEJ,IEpFA,MAAMC,EAAc,EAEpB,O","sources":["webpack://vue3-ts-theme-[name]/./src/views/user/UserLogin.vue?4471","webpack://vue3-ts-theme-[name]/./src/views/user/UserLogin.vue","webpack://vue3-ts-theme-[name]/./src/views/user/UserLogin.vue?590b"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"home p-40\" }\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"text-align-left f-title-3 mr-10 mb-10\" }, \"当前用户：\", -1)\nconst _hoisted_3 = { class: \"text-align-left pl-40 mb-10\" }\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"span\", { class: \"f-title-3 mr-10\" }, \"用户名: \", -1)\nconst _hoisted_5 = { class: \"f-title-4\" }\nconst _hoisted_6 = { class: \"text-align-left pl-40 mb-10\" }\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"span\", { class: \"f-title-3 mr-10\" }, \"账号: \", -1)\nconst _hoisted_8 = { class: \"f-title-4\" }\n\nimport { userStore } from \"@/stores/user\";\nimport { createVNode } from \"vue\";\nimport { ExclamationCircleOutlined } from \"@ant-design/icons-vue\";\n\nimport { freelogApp } from \"freelog-runtime\";\nimport { Modal } from \"ant-design-vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'UserLogin',\n  setup(__props) {\n\nconst store = userStore();\nconst login = () => {\n  freelogApp.callLogin(() => {\n    store.setUserInfo(freelogApp.getCurrentUser());\n  });\n};\n\nconst loginOut = () => {\n  freelogApp.callLoginOut();\n};\n// 监听其余页面切换用户\nfreelogApp.onUserChange(() => {\n  Modal.warning({\n    title: \"将立刻刷新\",\n    icon: createVNode(ExclamationCircleOutlined),\n    content: \"已在其余页签退出或登录其余账号！\",\n    okText: \"确认\",\n    onOk() {\n      // 主题才有资格整个网页reload，也可以由主题放权给插件\n      freelogApp.reload();\n    },\n  });\n});\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_a_button = _resolveComponent(\"a-button\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (!_unref(store).userInfo)\n      ? (_openBlock(), _createBlock(_component_a_button, {\n          key: 0,\n          type: \"primary\",\n          onClick: login\n        }, {\n          default: _withCtx(() => [\n            _createTextVNode(\"登录一下吧\")\n          ]),\n          _: 1\n        }))\n      : _createCommentVNode(\"\", true),\n    (_unref(store).userInfo)\n      ? (_openBlock(), _createBlock(_component_a_button, {\n          key: 1,\n          type: \"primary\",\n          onClick: loginOut\n        }, {\n          default: _withCtx(() => [\n            _createTextVNode(\"退出登录\")\n          ]),\n          _: 1\n        }))\n      : _createCommentVNode(\"\", true),\n    _hoisted_2,\n    _createElementVNode(\"div\", _hoisted_3, [\n      _hoisted_4,\n      _createElementVNode(\"span\", _hoisted_5, _toDisplayString(_unref(store).userInfo?.username), 1)\n    ]),\n    _createElementVNode(\"div\", _hoisted_6, [\n      _hoisted_7,\n      _createElementVNode(\"span\", _hoisted_8, _toDisplayString(_unref(store).userInfo?.username), 1)\n    ])\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"home p-40\">\n    <a-button type=\"primary\" v-if=\"!store.userInfo\" @click=\"login\"\n      >登录一下吧</a-button\n    >\n    <a-button type=\"primary\" v-if=\"store.userInfo\" @click=\"loginOut\"\n      >退出登录</a-button\n    >\n    <div class=\"text-align-left f-title-3 mr-10 mb-10\">当前用户：</div>\n    <div class=\"text-align-left pl-40 mb-10\">\n      <span class=\"f-title-3 mr-10\">用户名: </span>\n      <span class=\"f-title-4\">{{ store.userInfo?.username }}</span>\n    </div>\n    <div class=\"text-align-left pl-40 mb-10\">\n      <span class=\"f-title-3 mr-10\">账号: </span>\n      <span class=\"f-title-4\">{{ store.userInfo?.username }}</span>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { userStore } from \"@/stores/user\";\nimport { createVNode } from \"vue\";\nimport { ExclamationCircleOutlined } from \"@ant-design/icons-vue\";\n\nimport { freelogApp } from \"freelog-runtime\";\nimport { Modal } from \"ant-design-vue\";\n\nconst store = userStore();\nconst login = () => {\n  freelogApp.callLogin(() => {\n    store.setUserInfo(freelogApp.getCurrentUser());\n  });\n};\n\nconst loginOut = () => {\n  freelogApp.callLoginOut();\n};\n// 监听其余页面切换用户\nfreelogApp.onUserChange(() => {\n  Modal.warning({\n    title: \"将立刻刷新\",\n    icon: createVNode(ExclamationCircleOutlined),\n    content: \"已在其余页签退出或登录其余账号！\",\n    okText: \"确认\",\n    onOk() {\n      // 主题才有资格整个网页reload，也可以由主题放权给插件\n      freelogApp.reload();\n    },\n  });\n});\n</script>\n","import script from \"./UserLogin.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./UserLogin.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["_hoisted_1","class","_hoisted_2","_","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","__name","setup","__props","store","user","login","freelogApp","setUserInfo","loginOut","title","icon","ExclamationCircleOutlined","content","okText","onOk","_ctx","_cache","_component_a_button","userInfo","key","type","onClick","default","username","__exports__"],"sourceRoot":""}