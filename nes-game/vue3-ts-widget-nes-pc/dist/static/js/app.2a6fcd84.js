(function(e,n){"object"===typeof exports&&"object"===typeof module?module.exports=n():"function"===typeof define&&define.amd?define([],n):"object"===typeof exports?exports["vue3-ts-theme-app"]=n():e["vue3-ts-theme-app"]=n()})(self,(function(){return function(){var e={4882:function(e,n,t){"use strict";t.r(n);t(945);var o=t(8498),r=t(9915);function a(e,n){const t=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.Wv)(t)}var i=t(8548);const u={},l=(0,i.A)(u,[["render",a]]);var s=l,d=t(5964);(0,d.k)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var c=t(2086),f=t(5483);const p={class:"emulator-container"};var w=(0,r.pM)({__name:"EmulatorJS",props:{url:{},gameName:{},width:{default:800},height:{default:600}},setup(e,{expose:n}){const t=e,o=(0,f.KR)();async function a(e,n){if(!o.value)return;o.value.innerHTML="";const t=e.split("."),r=t.pop()?.toLowerCase(),a=await(async e=>["fds","nes","unif","unf"].includes(e||"")?"nes":["smc","fig","sfc","gd3","gd7","dx2","bsx","swc"].includes(e||"")?"snes":["z64","n64"].includes(e||"")?"n64":["pce"].includes(e||"")?"pce":["ngp","ngc"].includes(e||"")?"ngp":["ws","wsc"].includes(e||"")?"ws":["col","cv"].includes(e||"")?"coleco":["d64"].includes(e||"")?"vice_x64sc":["nds","gba","gb","z64","n64"].includes(e||"")?e:"nes")(r),i=document.createElement("div"),u=document.createElement("div"),l=document.createElement("script");u.id="game",i.id="display",i.appendChild(u),o.value.appendChild(i),window.EJS_player="#game",window.EJS_gameName=n,window.EJS_biosUrl="",window.EJS_gameUrl=e,window.EJS_core=a,window.EJS_pathtodata="/data/",window.EJS_startOnLoaded=!0,window.EJS_DEBUG_XX=!0,window.EJS_disableDatabases=!0,window.EJS_threads=!1,l.src="/data/loader.js",document.body.appendChild(l)}const i=async()=>{t.url&&await a(t.url,t.gameName||"Game")},u=()=>{o.value&&(o.value.innerHTML=""),delete window.EJS_player,delete window.EJS_gameName,delete window.EJS_biosUrl,delete window.EJS_gameUrl,delete window.EJS_core,delete window.EJS_pathtodata,delete window.EJS_startOnLoaded,delete window.EJS_DEBUG_XX,delete window.EJS_disableDatabases,delete window.EJS_threads};return(0,r.wB)((()=>t.url),(e=>{e?(0,r.dY)((()=>{i()})):u()}),{immediate:!1}),(0,r.sV)((()=>{t.url&&(0,r.dY)((()=>{i()}))})),(0,r.hi)((()=>{u()})),n({startGame:i,stop:u}),(e,n)=>((0,r.uX)(),(0,r.CE)("div",p,[(0,r.Lk)("div",{ref_key:"containerRef",ref:o},null,512)]))}});const m=(0,i.A)(w,[["__scopeId","data-v-054242a2"]]);var v=m,g=t(1397),_=t(467);const h=(0,_.nY)("game",{state:()=>({url:g.vq.getData().defaultGameUrl,gameName:g.vq.getData().defaultGameName}),actions:{setUrl(e,n){this.url=e,this.gameName=n}}}),E={class:"home"},b={key:0,class:"game-title"},y={key:1,class:"game-container"},S={key:2,class:"no-game-tip"};var J=(0,r.pM)({__name:"HomeView",setup(e){const n=(0,f.KR)(null),t=h(),o=(0,f.KR)(t.url),a=(0,f.KR)(t.gameName),i=g.Kb.getSelfWidgetRenderName();return console.log("snnaenu/分享插件",i),(0,r.wB)((()=>t.url),(e=>{o.value=e,a.value=t.gameName,console.log("urlValue",o.value)})),(e,t)=>((0,r.uX)(),(0,r.CE)("div",E,[a.value?((0,r.uX)(),(0,r.CE)("div",b,(0,c.v_)(a.value),1)):(0,r.Q3)("",!0),o.value?((0,r.uX)(),(0,r.CE)("div",y,[(0,r.bF)(v,{url:o.value,gameName:a.value,width:800,height:600,ref_key:"emulatorRef",ref:n},null,8,["url","gameName"])])):((0,r.uX)(),(0,r.CE)("div",S,[...t[0]||(t[0]=[(0,r.Lk)("div",{class:"tip-text"},"等待游戏加载...",-1)])]))]))}});const N=(0,i.A)(J,[["__scopeId","data-v-0144555a"]]);var O=N;const k=[{path:"/",name:"home",component:O},{path:"/:pathMatch(.*)",redirect:"/"}];var x=k,C=t(576),M=t(7688);t(787);let j=null,A=null,P=null;function R(){A=(0,C.aE)({history:(0,C.LA)(window.__MICRO_APP_ENVIRONMENT__?"/widget":"/"),routes:x}),P=(0,o.Ef)(s),j=(0,_.Ey)(),P.use(A),P.use(j).use(M.Ay),P.mount(document.querySelector("#app"));const e=g.vq.getData();e.registerApi({startGame:(e,n)=>{const t=h();t.setUrl(e,n)}})}function L(){R()}function T(){P.unmount(),P._container.innerHTML="",P=null,A=null,j=null}window.mount=()=>{(0,g.uq)(),L()},window.unmount=()=>{T()}},945:function(e,n,t){window.__MICRO_APP_ENVIRONMENT__&&(t.p=window.__MICRO_APP_PUBLIC_PATH__)}},n={};function t(o){var r=n[o];if(void 0!==r)return r.exports;var a=n[o]={exports:{}};return e[o].call(a.exports,a,a.exports,t),a.exports}t.m=e,function(){var e=[];t.O=function(n,o,r,a){if(!o){var i=1/0;for(d=0;d<e.length;d++){o=e[d][0],r=e[d][1],a=e[d][2];for(var u=!0,l=0;l<o.length;l++)(!1&a||i>=a)&&Object.keys(t.O).every((function(e){return t.O[e](o[l])}))?o.splice(l--,1):(u=!1,a<i&&(i=a));if(u){e.splice(d--,1);var s=r();void 0!==s&&(n=s)}}return n}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[o,r,a]}}(),function(){t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,{a:n}),n}}(),function(){t.d=function(e,n){for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){t.p="/"}(),function(){var e={524:0};t.O.j=function(n){return 0===e[n]};var n=function(n,o){var r,a,i=o[0],u=o[1],l=o[2],s=0;if(i.some((function(n){return 0!==e[n]}))){for(r in u)t.o(u,r)&&(t.m[r]=u[r]);if(l)var d=l(t)}for(n&&n(o);s<i.length;s++)a=i[s],t.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return t.O(d)},o=self["webpackJsonp_vue3-ts-theme"]=self["webpackJsonp_vue3-ts-theme"]||[];o.forEach(n.bind(null,0)),o.push=n.bind(null,o.push.bind(o))}();var o=t.O(void 0,[504],(function(){return t(4882)}));return o=t.O(o),o}()}));
//# sourceMappingURL=app.2a6fcd84.js.map