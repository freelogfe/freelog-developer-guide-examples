"use strict";(self["webpackJsonp_vue3-ts-theme"]=self["webpackJsonp_vue3-ts-theme"]||[]).push([[307],{1307:function(e,t,a){a.r(t),a.d(t,{default:function(){return m}});var i=a(5436),n=a(9388),d=a(6132),l=a(151);const r={class:"w-100x h-100x p-20 flex-column"},s=(0,i.Lk)("div",{id:"freelog-game"},null,-1),o=[s];var u=(0,i.pM)({__name:"HomeView",props:{id:{}},setup(e){const t=(0,d.KR)({}),a=e;let s=null;const u=(0,d.KR)(""),c=(0,d.KR)("");(0,i.wB)((()=>a.id),(e=>{e&&n.Kb.getExhibitById(e).then((async e=>{e.data.errCode?l.Ay.error(e.data.msg):(u.value=await n.Kb.getExhibitFileStream(e.data.data.exhibitId,{returnUrl:!0}),c.value=e.data.data.exhibitName,s?t.value.startGame(u.value,c.value):m(u.value,c.value))}))}),{immediate:!0}),(0,i.hi)((async()=>{await(s?.unmount())}));const m=async(e,a)=>{const i=await n.Kb.getSelfDep(),d=i.data.data;d.forEach((async i=>{i.articleName.includes("nes-widget")&&(s=await n.Kb.mountArticleWidget({articleId:i.articleId,parentNid:i.parentNid,nid:i.nid,topExhibitId:n.Kb.getTopExhibitId(),container:document.getElementById("freelog-game"),renderWidgetOptions:{iframe:!0,data:{defaultGameUrl:e,defaultGameName:a,registerApi:e=>{t.value=e}},lifeCycles:{mounted:e=>{console.log(e,"mounted")}}},seq:0,widget_entry:"https://localhost:4173"}))}))};return(e,t)=>((0,i.uX)(),(0,i.CE)("div",r,o))}});const c=u;var m=c}}]);
//# sourceMappingURL=307.a8064871.js.map